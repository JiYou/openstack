commit a4856c4e3a2a40150fad9257ce489125ca3458f4
Merge: f328fd8 995a310
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed May 8 17:13:23 2013 +0000

    Merge "Fix ability to add custom volume_backend_name" into stable/grizzly

commit f328fd803dc327d32324528bca97656c7ea937ed
Merge: 79b9582 319f712
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue May 7 18:35:39 2013 +0000

    Merge "Add parsing to extra-specs key check" into stable/grizzly

commit 995a3100fcaa7eb445b2838c4b4799a482c817cc
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Fri May 3 14:36:12 2013 -0700

    Fix ability to add custom volume_backend_name
    
    This patch fixes the ability to set the volume_backend_name
    for each driver.   The original bug was filed against LeftHand
    and 3PAR, but several drivers exhibited a fixed backend name.
    
    Fixes: bug #1175222
           bug #1172286
    
    Change-Id: I4197f99bebd6ca8e4969795ae6edb537bc066c90
    (cherry picked from commit 54a2ee48a4dc31cbf116b1e9d5add37efe66bc20)

commit 79b9582367402ecdf2fd0ed66ae67f63a18da49c
Merge: 11294e2 817eac8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue May 7 01:47:12 2013 +0000

    Merge "Fixes 3PAR FC driver synchronization" into stable/grizzly

commit 11294e2719a67b513a0533a25ccb16a3fa4a7d55
Merge: 107305c 2e3c1cd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun May 5 01:16:07 2013 +0000

    Merge "Dont delete backup record from database" into stable/grizzly

commit 107305c76befb42c68acff4ade71f3efe817b8f5
Merge: 6221a0e 2f72682
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun May 5 01:16:05 2013 +0000

    Merge "Add stats reporting to Nexenta Driver" into stable/grizzly

commit 2e3c1cd77b3d523c48ff4a086cccf68fd11c4c19
Author: Michael Kerrin <michael.kerrin@hp.com>
Date:   Wed Apr 17 15:36:28 2013 +0000

    Dont delete backup record from database
    
    Instead we should be marking the backup as deleted so that we have an audit
    of all the backups. Backups are now marked deleted in the way that volumes
    are.
    
    Fixes bug: 1169943
    Fixes bug: 1169857
    
    Change-Id: I52c603be138c0f1d6d411d167977041255ac9053
    (cherry picked from commit a4ba17b668bd893d50fd4f3a5453da89966a77e3)

commit 817eac8191bedaa4db8af3e90f5812566e51b1d2
Author: Jim Branen <james.branen@hp.com>
Date:   Wed Apr 24 17:52:41 2013 -0700

    Fixes 3PAR FC driver synchronization
    
    While running  stress tests we found missing synchronized methods.
    This patch added synchronized anotations around the necessary
    methods.
    
    Fixes bug 1172503
    
    Change-Id: I8e475fe38d96ca663fbaac40c5a50420d791f5d5
    (cherry picked from commit beacbd368124a656eaa4038fe1c35f1796e5dda4)

commit 319f71276ad2bcf8a222b81484e67d3a20f295dc
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Apr 9 23:07:52 2013 -0600

    Add parsing to extra-specs key check
    
    When using the filter scheduler which is now the default,
    we can no longer pass in extra-specs like: {minIOPS:500, ....},
    because the capabilities filter will reject this because there is
    no host reporting minIOPS:500 capabilities.
    
    We now need to scope the keys (ie qos:minIOPS:500....), but
    that unfortunately requires a fix to the SolidFire driver.
    
    This change add a check for the ':' in the key, and parses
    on it if it's there.
    
    Also fixes backend_name and uses VERSION var instead of
    generating string in stats reporting.
    
    Fixes bug: 1167141
    
    Change-Id: Ie7fd7d231af78cb18a13f44a4379b44d3c3385df
    (cherry picked from commit 0e3ea4e85dab00b7cecd5596f6daa65cc4d710b5)

commit 2f72682bc2e8ab653c92b0fe61d50e2f8ee0ccff
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Apr 12 11:11:38 2013 -0600

    Add stats reporting to Nexenta Driver
    
    Nexenta driver was never updated to report stats.
    This change doesn't include support for backend_name assignment
    via configs, there's some other work that will need to be
    done to enable that.
    
    Fixes bug: 1166607
    
    Change-Id: Id9cfff24df8815a67e42393aa18fd41ac1b9e6b3
    (cherry picked from commit 781055bc1f30cebe08848130f3a40764f7f1bb4f)

commit 6221a0e279c795270d03fb03dc2c848fd6f44056
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Apr 11 20:05:01 2013 -0600

    Add capabilities reporting to ThinLVM driver
    
    ThinLVM driver was missing the newly required capabilities reporting
    and inheritance from the parent LVM driver doesn't work because the
    capacity reporting methods between regular LVM and Thin LVM are not
    compatible.
    
    This patch add the basic requirements needed in the capabilities reporting
    to make it usable by the filter scheduler.
    
    Fixes bug: 1166572
    
    Change-Id: I471dcc31d07516e71bcd2d3ae03e0405e0594697
    (cherry picked from commit a95a2149a5ba805451a6d961b792ccd5b9984bea)

commit 93247d22a256db8ed44791343ae942d4f0c40d7f
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Apr 29 11:30:10 2013 -0600

    Fix update snapshot-quotas on delete.
    
    The merge from stable to RC of the snapshot quota
    fixes missed the new CONF usage and as a result the
    setting was always ignored on delete and therefore
    quotas were not decremented on delete.
    
    This patch changes CONF back to FLAGS for that call and
    resolves the issue.
    
    Fixes bug: 1173365
    
    Change-Id: I7af69d5078ebcc5547e08d543a2dcfd0ca3f6c4b

commit 6008be01d93c35240a37e8d589cbbf8b3d90471b
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Apr 11 18:42:59 2013 -0600

    Remove Flags usage from cinder.volume.driver
    
    cinder.volume.driver was using a mix of FLAGS and the
    new conf options for multi-backend.  The result was failure
    of multi-backend configrations to set the iscsi_helper
    option.
    
    This updates the driver.py file to use the OSLO.cfg and fixes the
    check for iscsi_helper check in the initialize_connection call,
    which was undefined.
    
    Fixes bug: 1169928
    
    Change-Id: Ia1678893f32a9d08a695f055f59f7296e17d9d78
    (cherry picked from commit 168b7566a51807dfd42f873c810440472aed7171)

commit 875e42ffbefebdb9fe8eb5595a269461cb7dd5d0
Merge: c5dd319 b8de829
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Apr 16 09:12:42 2013 +0000

    Merge "Implement get_volume_stats for GlusterFS driver" into stable/grizzly

commit c5dd31921d0c6875e52e9d31fc537b7758f3ae4f
Merge: 8462846 59f11c9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Apr 12 22:54:00 2013 +0000

    Merge "leave re-scheduled volume status to creating" into stable/grizzly

commit 84628461b36d9d2d9af86fa110f00b7622660dca
Merge: bb7cab9 9318ffc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Apr 12 22:53:57 2013 +0000

    Merge "Fix cinder-manage backup list to work with uuids" into stable/grizzly

commit bb7cab94bf202042d447f19afa6f0dcdbd9bbebd
Merge: 73f0013 ba41b68
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Apr 12 22:53:55 2013 +0000

    Merge "getLogger should be called after logging is configured" into stable/grizzly

commit 73f0013eadd20a22429991ae275838c908ba75a2
Merge: f3e3665 2113fe1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Apr 12 22:53:51 2013 +0000

    Merge "Mark sql_connection with secret flag" into stable/grizzly

commit f3e36653f30663fd1704c2b3535aa6a3c7bbba9a
Merge: 5521cae e1c153c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Apr 11 23:09:55 2013 +0000

    Merge "Fixed a volume creation re-schedule error" into stable/grizzly

commit 5521caed9eac1e2cce9becc6742694814af95b65
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Mon Mar 25 21:57:01 2013 +0000

    Remove unused tools/rfc.sh
    
    This has been deprecated in favour of git-review for quite a while now
    and was removed from Nova 10 months ago.
    
    Backport of git commit ae4aecdc7e554f78156c91c7c0b2436638bec5eb in
    master.
    
    This is a zero risk commit, as it removes something from tools that
    isn't used. It also means removing the only GPL licensed file in the
    whole of the cinder repository for 2013.1.1 release.
    
    Change-Id: Ic4bfa1aee3a4b6a7588be3678ac033a1b13e2b18

commit 2113fe1832a305ccaf1093ccf866adbd20d2f5ac
Author: Michael J Fork <mjfork@us.ibm.com>
Date:   Thu Mar 28 02:58:04 2013 +0000

    Mark sql_connection with secret flag
    
    sql_connection contains the password in some setups and marking as
    secret prevents accidental logging
    
    fixes bug 1160680
    
    Change-Id: I3704237d0923bb30138b5ece7e5c7bbda0a78b9b
    (cherry picked from commit 9f8ee9d2981c5f317139e3743385b59956546d65)

commit ba41b6880aaff1f5f5e7e80b955516215af122ec
Author: Davanum Srinivas <dims@linux.vnet.ibm.com>
Date:   Wed Mar 27 15:17:44 2013 -0400

    getLogger should be called after logging is configured
    
    logging needs to be setup properly before we try to log
    something. Fixed one spot from logging->LOG
    
    Fixes LP# 1161038
    
    Change-Id: I87743cff9062e47c1d5e989c2c0c05c3921b65c7
    (cherry picked from commit 3a106f7e67e4b7f7c446058b98c33f8c71ca2868)

commit fed7c923156b6f808d3d8b3db6c520810f49b135
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Apr 9 09:27:46 2013 +0300

    Fix backup manager formatting error.
    
    ID was being printed as %d instead of %s, causing tests to fail. This
    error was previously undetected.
    In addition, NetApp tests are failing due to a bug in the suds
    package, which is no longer actively maintained. This patch adds skips
    to the problematic tests, which should be removed once the issue is
    resolved.
    
    Change-Id: I5645909f59aa2ea3dc536ed4707ea75754307050
    Fixes: bug 1166600
    (cherry picked from commit 23bd028ce39bebf0f5d2403df328ad55e6eb007e)

commit 59f11c9969200aada1fdcedb763c95fa8085181a
Author: Liang Chen <cbjchen@cn.ibm.com>
Date:   Thu Apr 4 23:39:54 2013 +0800

    leave re-scheduled volume status to creating
    
    A re-scheduled volume should not be exported and set to available
    
    Fixes bug #1159027
    
    Change-Id: Ie61d9132ce1bd6461d5e4d9836424ebf14100389
    (cherry picked from commit b823de4370fb306de0416d8ec1c1a70ac224207c)

commit 9318ffca871e38cb3b372e3111afbf9d68fe4eb8
Author: Stephen Mulcahy <stephen.mulcahy@hp.com>
Date:   Fri Apr 5 09:55:01 2013 +0000

    Fix cinder-manage backup list to work with uuids
    
    Fixes bug #1164922
    
    Change-Id: I8ed7ff7ca334b983d60445d96cd1f6c368766407
    (cherry picked from commit 9d359c01f383807846a8be2f7180641880d76952)

commit e1c153ce6dc800a471d53953d73c6a709908e989
Author: Liang Chen <cbjchen@cn.ibm.com>
Date:   Fri Apr 5 22:00:39 2013 +0800

    Fixed a volume creation re-schedule error
    
    Don't see any reason to construct a list for request_spec['volume_id'].
    And it indeed causes problems when the scheduler receives a reschedule
    request with such a request_spec.
    
    Fixes bug #1164857
    
    Change-Id: I811e957d5bf9c814165d55ea0042833ea72c8de5
    (cherry picked from commit 46b2a7dd3224c4ed00457520b95569442386d273)

commit b8de829a885d8b48a2794b4607eb5f70b8a3d4e9
Author: Eric Harney <eharney@redhat.com>
Date:   Wed Apr 3 14:39:38 2013 -0400

    Implement get_volume_stats for GlusterFS driver
    
    Implement get_volume_stats(), so that the GlusterFS driver
    will work correctly with the scheduler.
    
    Fixes bug: 1164038
    
    Change-Id: Ib4db8bad897212227b39704e2e6cb5f07f2bb70e
    (cherry picked from commit d59094f316f0c41aaa7be63ee4e25e2dea4fa0a9)

commit e59213540b0eb6d06d65ba57580bd3fcaf574f26
Author: Thierry Carrez <thierry@openstack.org>
Date:   Thu Apr 4 18:08:44 2013 +0200

    Open stable/grizzly
    
    Bump "next" version to 2013.1.1 and switch default branch in .gitreview.
    
    Change-Id: Ib3d50c76e7b10dde9098c1952780fbbe79af848b

commit 85b7453f68f76dcd6edd7043026e7a6676eadf23
Author: Yug Suo <yugsuo@gmail.com>
Date:   Mon Mar 11 16:30:07 2013 +0800

    Fix quota updating when admin deletes common user's volume
    
    Add 'project_id=None' optional argument in QUOTAS related methods.
    
    There are two problems when admin deletes volumes of common user
    before fixing this bug:
    Firstly, It will get tenant quotas using context.project_id which
    results in getting admin's quotas not common user's.
    Secondly, It will also get wrong quota usages using context.project_id
    when updating common user's quota_usages.
    
    So we could pass into QUOTAS related methods an optional argument to
    specify the tenant ID to be affected. And if it's not set, then we
    default to drawing the tenant ID from the context.
    
    Fixes: bug 1078668
    Change-Id: Ie250da84726d1c5c3280430038184000dfd1e9e2
    (cherry picked from commit 576c9b0880c32bfc8053550b8f25a76df98c60e4)

commit 3a9fcc337cd0eaa1412a1f5fc634ce03fa6c6f0d
Author: Cory Stone <corystone@gmail.com>
Date:   Mon Mar 25 15:09:37 2013 -0500

    Add the volume and snapshot gigabytes together.
    
    The quota sync functions were not working correctly for both
    snapshots and volumes regarding gigabytes. Each would report
    their own count as the total gigabytes.
    
    Now the gigabytes sync is separate from the volume and snapshot
    count syncs.
    
    Fixes bug #1160004
    
    Change-Id: Ib1200813acb6055412b3f7f6b63fa9ba2b8fa3be
    (cherry picked from commit 1fde5a4fbc73a31453f0fe288a0b4a929d7f3026)

commit 75af3f7669938e799df28adce228f0a5a9d7e109
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Mar 26 10:19:47 2013 -0600

    Sync lockutils from oslo-incubator stable/grizzly.
    
    Changes include:
    
    3cb71ff Locking edge case when lock_path does not exist
    21925b6 Fix locking issues in Windows
    547ab34 Fix Copyright Headers - Rename LLC to Foundation
    
    Fix bug 1158179.
    
    Change-Id: I0d5fb58bef593233068accfcea0dff9fa05f61ef
    (cherry picked from commit 649e8926cf6a6ee1cc01a34e6f718e0996feb930)

commit 7c96a85c8d3815fb21cdd92bfdaaa31641504b49
Merge: 4645123 e9b0738
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 26 16:38:06 2013 +0000

    Merge "Remove AGPL rtslib pkg from pip-requires." into milestone-proposed

commit e9b07388f1b35ace0cb296148135723df6bef753
Author: john-griffith <john.griffith@solidfire.com>
Date:   Tue Mar 19 09:02:52 2013 -0600

    Remove AGPL rtslib pkg from pip-requires.
    
    Fixes bug: 1157091
    
    Change-Id: I1879712ab33324740496b284500fa2b22a1bc310
    (cherry picked from commit 7bb449aa5a0a069cc6df918acc33bf550fbd5834)

commit 4645123cadc441ed138355d94823310255f548ba
Author: Vishvananda Ishaya <vishvananda@gmail.com>
Date:   Mon Mar 25 12:46:51 2013 -0700

    Force deletes using tgt to workaround bug 1159948
    
    Tgt has a bug where it can have multiple copies of an initiator
    if there has been a reconnect.
    
    See https://bugs.launchpad.net/cinder/+bug/1159948
    
    Change-Id: I9a1b6757eb780efbaa1403016e50de7c0e45d720
    (cherry picked from commit b84218633ab5417adf94c568eb54243f4074ab11)

commit 6a29bda3c2050bb79298a088be17372c1687266a
Author: John Griffith <john.griffith@solidfire.com>
Date:   Sun Mar 24 20:49:46 2013 +0000

    Fixed shared gigabytes quota resource.
    
    The shared gigabytes resource between volumes and snapshots wasn't
    working properly.  The issue was that on update/sync the action item
    (volumes or snapshots) would update the resource usages based only on
    it's own particular item.
    
    This patch fixes that, and makes the total gigabytes truly shared
    between volumesa and snapshots.
    
    Fixes bug: 1159489
    
    Change-Id: Ib1be9788f0beb4f94d010e4f816f9f3393371205
    (cherry picked from commit d6935af9b3cdf73cc5dac2006d76a95e4c6cb35e)

commit 18e2c3542a6db98b1a71e50ed77b337ab179a0ba
Author: Fei Long Wang <flwang@cn.ibm.com>
Date:   Thu Mar 14 14:35:10 2013 +0800

    Fixes Cinder REST API /volumes issue
    
    Issue #1
    Once GET variable 'offset' is specified, the API /volume will get an empty
    output.
    
    Issue #2
    Should validate the GET variable 'limit' before query database to get a
    consistent message with Cinder REST API v1.
    By current implement, error message is as below if the variable 'limit'
    is invalid:
    --------------------------------------------------------------------------
    {"computeFault": {"message": "The server has either erred or is incapable
    of performing the requested operation.", "code": 500}}
    
    After this change, the new message is as below:
    --------------------------------------------------------------------------
    {"badRequest": {"message": "limit param must be an integer", "code": 400}}
    
    Fixes Bug: 1154454
    
    Change-Id: Ifb155477bae0ea3e39877737ee9019e7d8a104a7
    (cherry picked from commit 7c760581d80b2ee5cd1e01a1d0a007770c9aa807)

commit 19f4688f3640bf9243a297101cf4d9ca92bc6013
Merge: ab16621 6022e14
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 24 19:08:56 2013 +0000

    Merge "Last driver sync for Folsom and Grizzly" into milestone-proposed

commit ab166219021a5efc3980e1d31e0a8afb8e5d6d14
Author: Jean-Baptiste RANSY <jean-baptiste.ransy@alyseo.com>
Date:   Thu Mar 21 14:19:54 2013 +0100

    CoraidDriver: support users that are not admin
    
    Add support to the CoraidDriver to specify a subgroup (with admin
    privileges).
    Coraid storage orchestration allows you to allocate portions of your
    SAN to specific users/groups.
    The driver should support this and not assume logging in
    as "admin" (equiv to "root").
    
    Will add another parameter to cinder.conf, "coraid_group",
    and if present, the driver will authenticate using the specified group
    as well as the already available coraid_user parameter.
    
    Fixes bug 1157354
    
    Change-Id: I0d165955126adabce788ebdacd3a14a08edc8d8f
    (cherry picked from commit 0a0251e695ed600ea586233b9654aedf4dab79e6)

commit 6022e14e9f8700c1e1ec0df9dbb4a04cc1097309
Author: john-griffith <john.griffith@solidfire.com>
Date:   Fri Mar 22 18:01:02 2013 -0600

    Last driver sync for Folsom and Grizzly
    
    This is the last of the updates that I've been putting
    off while trying to handle the core items in Cinder.
    
    This change fixes the ctxt ordering error in volume_types
    and also fixes and also changes the internal SolidFire
    metadata storage to a single dict instead of a dict of dicts.
    
    Change-Id: I002a591bc109ae1ab625c89f6ad841f60e464a40
    (cherry picked from commit f53d48ebd9ff0e3b99470a9b95527c7054709c12)

commit 98cc233e492904b28f5b097892b9148911606f77
Merge: 7b50dcc 9d77ef8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 24 16:55:04 2013 +0000

    Merge "CoraidDriver: typo in _login exception handler" into milestone-proposed

commit 7b50dcce7f769ad70eda912d5ba07ce4cd5958e9
Merge: 2825883 b2c48c6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 24 16:50:20 2013 +0000

    Merge "Fixed attach volume for EMC SMI-S iSCSI driver" into milestone-proposed

commit 2825883db0220bf309d5a01f3ec3a9704fe60196
Merge: 92df05e 2c2cd88
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 24 16:49:48 2013 +0000

    Merge "Fetch volume_types by uuid and not by name in v2" into milestone-proposed

commit 92df05ed5eaab769304b12bf37a3ef081e08371e
Merge: 792e08b 5ffed5d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 24 16:49:16 2013 +0000

    Merge "Snapshot reservation sync calls wrong resource." into milestone-proposed

commit 792e08b029dc5e01462b52b78d16c359cf9dccbe
Merge: bea1b96 53a6387
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 24 16:47:42 2013 +0000

    Merge "Extend param2id() to work with uuids" into milestone-proposed

commit 2c2cd8847cdbe702a62f1637d0f2e89723aa1491
Author: Mike Perez <thingee@gmail.com>
Date:   Thu Mar 21 19:55:48 2013 -0700

    Fetch volume_types by uuid and not by name in v2
    
    This was left over from the UUID switch. Looking up volume_types by name
    is deprecated in v1 and removed in v2.
    
    Fixes: bug #1087817
    Change-Id: I02cc035565f9496cd5af228c55ced5cafef2ad81
    (cherry picked from commit f5706319365dbd11cbc91bd69b09238afa51a626)

commit 9d77ef85b8a58f3bca584c0820eb88f511ba94fb
Author: Jean-Baptiste RANSY <jean-baptiste.ransy@alyseo.com>
Date:   Thu Mar 21 11:51:37 2013 +0100

    CoraidDriver: typo in _login exception handler
    
    In cinder/volume/drivers/coraid.py, _login method, if login is
    unsuccessful, we try to get the message from an undefined
    object "response". Instead we should be getting it from "reply".
    
    - errmsg = response.get('message', '')
    + errmsg = reply.get('message', '')
    
    Fixes bug 1157499
    
    Change-Id: Ifd047ced6b40f49881e81d4e73189d9bd216c903
    (cherry picked from commit 4403230bbe8f39a19c38e58840bbb2283ccd808f)

commit bea1b96ab5f5be05095a6ce362321fb63de2b0e6
Author: Jean-Baptiste RANSY <jean-baptiste.ransy@alyseo.com>
Date:   Thu Mar 21 12:08:53 2013 +0100

    CoraidDriver: do not call login from __init__
    
    We should not call _login from the driver's __init__.
    If the ESM is down, the constructor will fail.
    
    - self._login()
    
    Fixes bug 1157500
    
    Change-Id: Ie57fbb6d3704d270a81cd9eb056d7988989da1f8
    (cherry picked from commit 28102bc54ac2793ea17f47c81f6812bb84615834)

commit b2c48c641fd21a38b01b18c95911926293cd2c0b
Author: Xing Yang <xing.yang@emc.com>
Date:   Thu Mar 21 00:36:03 2013 -0400

    Fixed attach volume for EMC SMI-S iSCSI driver
    
    This problem was encountered during Grizzly RC1 testing.  The driver
    didn't find the correct target IQN.  As a result, Nova couldn't find
    the matching path in /dev/disk/by-path and therefore detached the volume.
    
    Change-Id: I8bcf6d9896b9d445f6376ecc3a5695be46507663
    Fixes: bug #1157912
    (cherry picked from commit 18bf0b386b2f26f524ebb6ab540941f64cad4642)

commit 5ffed5d2f71215de963c5a54e4f8a0ba48a05803
Author: john-griffith <john.griffith@solidfire.com>
Date:   Thu Mar 21 09:48:03 2013 -0600

    Snapshot reservation sync calls wrong resource.
    
    The snapshot reservations code isn't calling the
    correct resource on sync (it's calling volumes).  There's
    also some problems with the logic being used on the delete/clean up
    that are fixed here as well.
    
    Fixes bug: 1157506
    Fixes bug: 1157982
    
    Change-Id: I91327b8043ab63aa35ea8a91b6de544bf5bf6c61
    (cherry picked from commit b450eef832ff471b78776c9715b0878e95d69263)

commit 53a638773fbc67e4b42e3d49c470496c71f7e5d6
Author: Stephen Mulcahy <stephen.mulcahy@hp.com>
Date:   Thu Mar 21 17:57:24 2013 +0000

    Extend param2id() to work with uuids
    
    Add uuid support to param2id() to allow commands including
    cinder-manage volume delete to work with uuid style volumd ids
    
    Fixes bug #1158409
    
    Change-Id: I2d197320b61f44d1104ed0342a6b5b70f673468a
    (cherry picked from commit e1561b8f8a05f3cd6b8635683b178f924384de65)

commit 407d9e5e95ad8a921231bfa81e903924c2617c34
Merge: dc483cf d872594
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 22 13:06:26 2013 +0000

    Merge "Updates to OSAPI sizelimit middleware." into milestone-proposed

commit dc483cfec66ebe9eb4811e11dc6d3b940c468492
Merge: fe2a0ee 9ff5bf6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 22 12:46:07 2013 +0000

    Merge "Fix Storwize/SVC LUN allocation with holes." into milestone-proposed

commit fe2a0ee18716b3a8d12f8014f6d595f3acc41612
Merge: 7bd71e7 d0b9b27
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 22 12:46:04 2013 +0000

    Merge "Update Cinder's latest copy of OSLO grizzly stable" into milestone-proposed

commit 7bd71e7b3413b57774727d58fee860695ac2b61d
Merge: 098daff 6af4d65
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 22 12:09:51 2013 +0000

    Merge "Pull Oslo log fix to enable root logger initialization" into milestone-proposed

commit 098daffa2e9f645710691070e00ddb363213ff12
Merge: f35ec29 d0757d1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 22 12:09:48 2013 +0000

    Merge "Implement get_volume_stats in NFS driver" into milestone-proposed

commit f35ec299b6776df92a8ad382ec4475ca443c0ae4
Merge: 03445f9 385b190
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 22 12:09:46 2013 +0000

    Merge "Switch all uses of 422 response code to 400." into milestone-proposed

commit 03445f955d91f262afeda43367fc7013db9d9400
Merge: 8b48765 2f7228a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 22 12:09:44 2013 +0000

    Merge "Fixes dettach volumes in Windows cinder plugin" into milestone-proposed

commit 8b48765389a6ea4f44d473229b3e02b049f5e888
Merge: 94df02a 4eba837
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 22 12:09:42 2013 +0000

    Merge "Use self.configuration to support the multi-backend case" into milestone-proposed

commit 94df02a855a9c2b627e09483ddd2339e0680bfac
Merge: f7ecb95 e5099f8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 22 12:09:40 2013 +0000

    Merge "Fix typo in persona valid values" into milestone-proposed

commit f7ecb950b46f1a57d10e99a7076be5f339a9db03
Merge: 6e376a7 e35c357
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 22 12:09:38 2013 +0000

    Merge "Allow snapshot_delete for NFS/GlusterFS drivers" into milestone-proposed

commit 6af4d65e975366b4a0df3bc41ae531eafe5e14b7
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Wed Mar 13 13:58:27 2013 +0800

    Pull Oslo log fix to enable root logger initialization
    
    Previous log module in Oslo doesn't initialize root logger, which results
    in lacking of log message for non-openstack library (such as stevedore).
    This patch pull latest log module from Oslo, which has recently merged a
    change to enable root logger initialization.
    
    Notice that this change also includes one log modules fix in Oslo which
    'unignore' log_format setting.  As a result, one may experience log format
    change when using devstack.  To get old log format back, simply assign
    a NULL string (aka nothing) to 'log_format' configure option in cinder.conf.
    For example, just append cinder.conf with one new line 'log_format = '.
    
    Fix bug: # 1131322
    
    Change-Id: I86396f15ca152512ce6d18d6d424a855b27f495e
    (cherry picked from commit 2b66a382aae3e1c80342feb32549c427677d39c6)

commit d87259417c53d464dd3ec2b399faf22e65e1265c
Author: Dan Prince <dprince@redhat.com>
Date:   Tue Mar 19 19:37:47 2013 -0400

    Updates to OSAPI sizelimit middleware.
    
    Updates the OSAPI sizelimit middleware so that we use avoid calling
    len on a request body which could cause a really large request
    to get buffered into memory.
    
    Also updates the middleware to return HTTP 413 which is a more
    correct error code in this case (previously it returned just 400).
    
    Fixes LP Bug #1131857.
    
    Change-Id: Iff6cb0c24bc21e5a1d5dd4cf29acb0b4ee221708
    (cherry picked from commit 3fe81851bab39a1466d8744b372b5a287b4db93d)

commit d0757d1568c5e6b75aa32c43a10df6232b946c04
Author: Mehdi Abaakouk <mehdi.abaakouk@enovance.com>
Date:   Fri Mar 8 13:01:57 2013 +0100

    Implement get_volume_stats in NFS driver
    
    Use the already existing code (ie: _get_available_capacity) to
    implement get_volume_stats in the nfs driver
    
    Change the netapp nfs driver to use this new implementation
    instead of the dumb one.
    
    Fixes bug #1152501
    
    Change-Id: Ie16d9628ba4b096c60966b4aa6192fbdcb9a4f20
    (cherry picked from commit c47bf9bc3835d4399185376ac07920ef903d79e8)

commit 385b1907a6e85d4fe0ba764e387e278623e45447
Author: Matthew Treinish <treinish@linux.vnet.ibm.com>
Date:   Wed Mar 13 13:28:10 2013 -0400

    Switch all uses of 422 response code to 400.
    
    The 422 response is normally only for WebDAV, and these types of
    errors should normally return a 400 code, HTTPBadRequest. This
    commit goes through all the remaining 422 codes and changes them
    to 400 responses.
    
    Fixes bug 1153807
    
    Change-Id: I9bf49643763c2cb0ac585641056c85a060152e36
    (cherry picked from commit adb8ba7bff2bc4e2657cf84e9f061433ff947a73)

commit 2f7228ae6a10c0da49c67b873c22112ac26d0657
Author: Pedro Navarro Perez <pednape@gmail.com>
Date:   Tue Mar 12 04:48:02 2013 -0700

    Fixes dettach volumes in Windows cinder plugin
    
    The patch fixes issues when desassigning target to initiators
    in the terminate_connection method. The method now takes
    the right parameter coming from provider location.
    
    Change-Id: I2ea1ac7f46e3a24a6493af8eba46a113126e1117
    Fixes: bug #1153968
    (cherry picked from commit 6de6cfebd4398c9912eb1683c91226d5d27cf7e4)

commit 4eba837f611063c95494f3de93cb9853f343896d
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Fri Mar 15 23:14:39 2013 +0800

    Use self.configuration to support the multi-backend case
    
    Use self.configuration instead of using FLAGS directly to make
    the driver work in a multi backend environment.
    And remove three repeated lines:en = out.split('\r\n')
    
    Fixes bug: 1154125
    
    Change-Id: I6e08706104eabb71677ec8583b9abb9711553504
    (cherry picked from commit 7817d12439a4c86d3015ce8e6a74f72804fdfd24)

commit e5099f80c79b44ed2f237291504612666ae1fa00
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Fri Mar 15 14:40:10 2013 -0700

    Fix typo in persona valid values
    
    The 3PAR drivers have a persona extra spec that has a valid
    values with a typo in it. The value '11 - VMWare' should be
    "11 - VMware', note the lower case 'w'.
    
    Fixes bug 1155781
    
    Change-Id: I70ab255e1ec6a4b83437b072a7eb4fe11eafc710
    (cherry picked from commit 0f353e794faac9f4a67d1628034d13507fc9785c)

commit e35c357ec070a16887c62062b2cd1c46aeabba45
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Mar 18 12:21:40 2013 -0400

    Allow snapshot_delete for NFS/GlusterFS drivers
    
    RemoteFsDriver should allow snapshot_delete, since snapshot_create
    for NFS and GlusterFS volumes will create a snapshot in the error
    state which cannot be deleted afterward.
    
    snapshot_delete() should allow this to be removed rather than
    throwing NotImplementedError.
    
    Fixes bug: 1156686
    
    Change-Id: I4307878fa97fbce5bd733a83fa172509e2fba8ce
    (cherry picked from commit ea10f1b8291cb07962577699abe13648a4bdca58)

commit 9ff5bf692e09bfadd9ed10eeec8160af4d2662a6
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Mar 19 09:42:06 2013 +0200

    Fix Storwize/SVC LUN allocation with holes.
    
    The Storwize/SVC driver should find the first unused LUN, but
    continues searching, returning erroneous results.  Added 'break'
    statement to fix.
    
    Change-Id: Ibd95714e086a513a39fe9d20ffec57135dc5ec55
    Fixes: bug 1157012
    (cherry picked from commit e0878c86207d5ff5c2ebaa69eac454af545925ef)

commit d0b9b2721045454bcb076537af97be9b14a1103d
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Wed Mar 20 13:18:12 2013 -0700

    Update Cinder's latest copy of OSLO grizzly stable
    
    This patch updates all the files from oslo under
    stable/grizzly but policy.py.  policy.py is a high risk
    change at this date and it has lots of changes since the
    last time we updated it.
    
    Fixes bug #1157126
    
    Change-Id: I399a1cd8474f718ed5196def90d2fea546fb01f5
    (cherry picked from commit eae0264782818342c222c18b549e9cda354c867b)

commit 6e376a74c88dc8b5a096cef8181c9edd0c1a090e
Author: Sean Dague <sdague@linux.vnet.ibm.com>
Date:   Tue Mar 19 15:30:26 2013 -0400

    remove cinder-rtstool because of rtslib dep
    
    rtslib is AGPL, so cinder-rtstool is defacto AGPL by importing it.
    Remove cinder-rtstool from the OpenStack repository.
    
    Fixes bug #1157091
    
    Change-Id: I30c9ee19d43107fa7f2e5e65d69049b8d69d2bdf
    (cherry picked from commit b66c3361be2095186e19b0d44e49a8b2c48f7235)

commit 36e4e85b1f669a9fed873f4a43c783947430c763
Merge: 1d52582 d4a3edf
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 15 13:33:05 2013 +0000

    Merge "Fix _migrate_up in test_migrations"

commit 1d525827e5562c4079fcb757cf8dac2ee21c5ac0
Merge: 3c9a76b b7bccb9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 15 04:51:47 2013 +0000

    Merge "Switch to final 1.1.0 oslo.config release"

commit 3c9a76b8ae6438326fb0ceaa8fa6abf7d11f3140
Merge: 30ccf61 e8e0cdb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 15 03:55:10 2013 +0000

    Merge "Compression/tier capabilities for Storwize/SVC."

commit 30ccf6123ae3d24b919a72048925a089d3fb57a9
Merge: 019c97c 1772bd1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 14 23:59:30 2013 +0000

    Merge "Fix ISCSIDriver rescan."

commit 019c97c597d0b5ffee8a129a33594c6d6b66cfa2
Merge: 4b52b14 f040e4d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 14 22:59:47 2013 +0000

    Merge "Fix 3PAR driver hiding existing host error"

commit 4b52b1481e3cb6c358252826785228638b0f717d
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Mar 11 09:21:56 2013 -0600

    Count Snapshots towards volume/gigabyte quotas.
    
    Cinder has quotas and limits for volume-count and Gigabytes used,
    however we were only counting volumes against these quotas.
    
    This change introduces a snapshot-count limit and also counts
    snapshots against this Gigabytes quota allowed for a Tenant.
    
    Fixed bug: 1137927
    
    Change-Id: Ib9b00b84b05597de9b5725a7f5898fe10a20b9d9

commit f040e4d6e7d2c25ce626fa0ddd67ed0122bd22ae
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Wed Mar 13 14:35:16 2013 -0700

    Fix 3PAR driver hiding existing host error
    
    This fixes a problem with the 3par drivers where creating
    a 3par host was failing but there was no message.  The driver
    would fail to find the host after the creation failed and the
    log entry would show that the host didn't exist.   The real
    error was failing to create the host.
    
    bug #1154700
    
    Change-Id: I2267d958f10cc73c6c5f34d224ea3452a4402f18

commit b8885203c12e2a963c614183a832063bf5ffdc48
Author: Davanum Srinivas <dims@linux.vnet.ibm.com>
Date:   Thu Mar 14 08:31:49 2013 -0400

    cinder-manage does not print any version information
    
    'cinder-manage --version' does not print anything. We need
    to pass in the version information along with the argv and
    project information
    
    Change-Id: Ia826874cbbc3316226fb475646a0c146fd3a5955

commit 1772bd15f0def2e8e041fad417bd6c04be998a96
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Thu Mar 14 13:44:19 2013 +0200

    Fix ISCSIDriver rescan.
    
    Cinder fails to rescan iSCSI targets after running copy_image_to_volume
    or copy_volume_to_image with the generic iSCSI implementation, due to
    a missing comma.
    
    Change-Id: I726e8da1f0221e47bae2593e03bc88a47c487814
    Fixes: bug 1144591

commit e8e0cdbbc0a1e4d1f9c5d74ada135ea91e02ef3b
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Wed Mar 13 14:56:30 2013 +0200

    Compression/tier capabilities for Storwize/SVC.
    
    Compression and tiering support were not exported as capabilities,
    and are important features.
    
    Also fix a couple bugs introduced by
    https://review.openstack.org/#/c/23830/
    
    Change-Id: I41c304d0da89a050c0345b930b3f45741214b425
    Fixes: bug 1146341
    Fixed: bug 1155071

commit 2d84a97df28fae40a8b5b3d422a702794284beb8
Merge: 3f888b9 c09f699
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 13 09:43:09 2013 +0000

    Merge "Fix bugs for Huawei driver"

commit d4a3edf3a51757db99aee38762c709146c320f62
Author: Chris Yeoh <cyeoh@au1.ibm.com>
Date:   Wed Mar 13 12:23:53 2013 +1030

    Fix _migrate_up in test_migrations
    
    _migrate_up should always actually do a db upgrade whether or
    not it is being tested with data or not
    
    Change-Id: I28cbab36a5227903ff40a3243492b34d4b82a223

commit b7bccb9c9b2797400a223ec50cad21c6320d8450
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Tue Mar 12 16:33:53 2013 +0000

    Switch to final 1.1.0 oslo.config release
    
    Fixes bug #1128256
    
    oslo.config has now been released to PyPI in time for Grizzly RC1 so
    we can switch to using it directly.
    
    Change-Id: I655f831718ae5f4e25e941ee206fe195214a9a91

commit 3f888b9518169cd0cf12da94d4e9a357642f4908
Author: Cian O'Driscoll <cian@hp.com>
Date:   Mon Mar 11 13:47:02 2013 +0000

    Adds a flag to set glance api version to call
    
    Allows a glance api verion to be set using a flag.
    Cinder will generate a version of the glance client as per this
    flag.
    
    Fix bug: # 1152542
    
    Change-Id: I80423f5d88e7ccf0614f89d3c15d983f0af9c333

commit 09925bf823b6f00ad373a7d5758b6950fea181a8
Merge: 1a23207 6a7e93d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 12 07:36:26 2013 +0000

    Merge "Fix bad request response code on extra_specs create."

commit 1a23207460a4c3229e650d90d6441dca21f0cf5c
Merge: 8963dcc 7ba5207
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 12 05:28:33 2013 +0000

    Merge "Storwize/SVC driver fix for multibackend scenario."

commit 8963dcc4395d10f46fd4698a4ab16ab87a5be517
Merge: 59a16a1 4e41878
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 12 00:05:41 2013 +0000

    Merge "update error log arguements in filter scheduler"

commit 7ba5207f2b06ffdec8a68fd5acd70e2c208a9fa4
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Mar 5 11:23:01 2013 +0200

    Storwize/SVC driver fix for multibackend scenario.
    
    In order for the Filter scheduler to be used to it's full advantage
    Cinder drivers need to move away from using FLAGS directly and switch
    to appending their specific options to self.configuration.
    
    Fixes bug: 1135391
    
    Change-Id: I8d07346c03d1cf2479738f7161ee0a0cb9f518a0

commit 59a16a12f38e910bb91f63a664eeee34fd0d18ef
Merge: 15cd9ac e342ff4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Mar 11 21:27:25 2013 +0000

    Merge "Do not use prefix to lookup host in Storwize/SVC."

commit 6a7e93dfc750e08e95c6b53b122407c763883c6c
Author: Matthew Treinish <treinish@linux.vnet.ibm.com>
Date:   Mon Mar 11 16:51:24 2013 -0400

    Fix bad request response code on extra_specs create.
    
    This commit changes the error response on a bad body from 422 to 400 for
    an extra spec create request.
    
    Fixes bug 1090356
    
    Change-Id: I7925bbd53fb9647440532b206feee3421fb9f38b

commit c09f69948df29e84907960f69fb5ef46745ebef6
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Tue Mar 5 00:07:41 2013 +0800

    Fix bugs for Huawei driver
    
    This fixes two bugs for Huawei iscsi driver.
    (1)If firstly we map LUN 1(just not LUN 0) to host,we can also
    find LUN 0 mapped,whose device path is '-'.Then we will failed
    to map a real LUN 0.So,we avoid mapping LUN 0 to host by setting
    every volume's host LUN ID larger than 0,instead of generating it
    automatically.
    (2)Check valid size of resource pools when creating snapshot and
    make sure it larger than 1 GB.
    
    Fixes bug: 1135618
    Fixes bug: 1136980
    Change-Id: I412e78bf84c95cb51431c45cc084e9ec6a8efb78

commit 15cd9ac7427255dcba8c783c65b67134b85e2887
Merge: 9f70ee5 3d9a51e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Mar 11 11:54:52 2013 +0000

    Merge "Update oslo rpc libraries"

commit e342ff4b509a4184bfa984b467e9cd79b53ed9af
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Thu Mar 7 19:18:54 2013 +0200

    Do not use prefix to lookup host in Storwize/SVC.
    
    Currently, the Storwize/SVC driver creates a host name prefix for host
    objects on the back-end, and uses that to look up hosts. However, if a
    host was already created with a different name (for example, manually
    by an admin), the host creation operation will fail, as a host with
    that connection information already exists. Instead, we look up a host
    based on available connection information.
    
    Fixes bug: 1149072
    
    Change-Id: I336dbea85bfaf928a550a15d177e2b9b0ffd38bf

commit 4e41878082469f77d265b39e045e22fa15edca0c
Author: xiaoxi_chen <xiaoxi.chen@intel.com>
Date:   Mon Mar 11 11:06:21 2013 +0800

    update error log arguements in filter scheduler
    
    There's one log issue in filter scheduler fell off radar in previous
    fix, this change closes the gap.
    
    Fixes: bug #1130867
    
    Change-Id: I78def31bd9ff4349cd1332cb96ef6311ce9eac20

commit 9f70ee5cb7b2e7de8297a6dab2999c2bb3c980d1
Merge: 992b532 67dd248
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Mar 11 05:45:06 2013 +0000

    Merge "LIO iSCSI initiator ACL auto-config"

commit 992b53255ab1533ffddabdf158c81c6d10c17761
Merge: 9a6ed12 a332cb9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 10 06:37:18 2013 +0000

    Merge "Fix a few bugs for LeftHand Grizzly"

commit 9a6ed1251a83cd014c00166c9bb347b9f1dfa35c
Merge: 4cdf2e5 b3ee8b7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 10 06:36:57 2013 +0000

    Merge "Fix calling setUp() method of superclass from tearDown method."

commit 4cdf2e50da2091cf67d7cef74019e443853c770a
Merge: 8d28030 9f801f3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 10 06:05:13 2013 +0000

    Merge "Removing flags in RBD in favor of configuration"

commit 8d280300047734befa72ae28603ab02957064354
Merge: 3a3726c 6c8d860
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 10 05:38:21 2013 +0000

    Merge "Fix volume capacity reporting"

commit 3d9a51efa7014b06e7c3fd2fd6c127b7591de20b
Author: Michael J Fork <mjfork@us.ibm.com>
Date:   Fri Mar 8 05:59:23 2013 +0000

    Update oslo rpc libraries
    
    Update oslo rpc libraries to capture changes, primarly motivated
    by secret=True flag on password config options. Skipping broken,
    invalid test case while working on correct fix.
    
    Change-Id: Ibb979189b4a6215f307cb49e4a17070ffc7f0f51

commit 3a3726c6079b2de4cbe605f4584ffe87dcc169b0
Author: Mike Perez <thingee@gmail.com>
Date:   Sat Mar 9 00:40:39 2013 -0800

    Remove/update unused log arguements in manager
    
    Fixes: bug #1130867
    Change-Id: I6f9a9c33530e92fa9ce22bd44ef7c40f7e355b04

commit 9f801f3f300347fcfece5882c1ea56925dc3f077
Author: Mike Perez <thingee@gmail.com>
Date:   Fri Mar 8 23:46:33 2013 -0800

    Removing flags in RBD in favor of configuration
    
    Not needed since we're using configuration for multi-backend support.
    
    Change-Id: I9634fca5d09ca84ef793e330def13176265dac31

commit 67dd248bcb93db4eb707cb40c199df1d66b7f083
Author: Eric Harney <eharney@redhat.com>
Date:   Thu Feb 28 18:14:11 2013 -0500

    LIO iSCSI initiator ACL auto-config
    
    Currently, IQNs of remote nova compute nodes must be specified in
    cinder.conf for them to be added to LIO's ACLs for LUNs.
    
    This change will handle this at volume-attach time instead.
    
    Change-Id: I278ce737042b15bd4d100d331564c1377bac0c55

commit a332cb941906557bb7e96706d3827e2cd1bd07f2
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Thu Mar 7 16:19:14 2013 -0800

    Fix a few bugs for LeftHand Grizzly
    
    This patch fixes a few issues with the LH driver.
    1) attach wasn't working because there was no host
    created.
    2) get_volume_stats didn't exist.
    3) fixed the unit tests to work with the new config
    access.
    
    Bug 1062508
    Bug 1150663
    
    Change-Id: I6f80c3d5c70b64ca6496e50fedcb6b3ca0e2be43

commit cb904d0d4c121ad2cee85960e2a4338cadba2ba9
Author: Dan Prince <dprince@redhat.com>
Date:   Thu Mar 7 13:07:56 2013 -0500

    Update tox.ini to support RHEL 6.x.
    
    In order to support running unit tests on RHEL 6.x we need to patch
    eventlet with contrib/redhat-eventlet.patch. We already
    have support for this in the tools/install_venv_common.py but we
    need to make a couple changes to allow tox to consume this:
    
    1) Sync in the latest intall_venv_common.py from oslo. This changes
     patch to use the -N option (ignore already applied patches) and
     makes it safe to call the patching function more than once.
    
    2) Add a new patch_tox_venv.py script in tools.
    
    3) Update tox.ini to call patch_tox_venv.py before it runs tests and
     coverage.
    
    NOTE: This will hopefully go away eventually once this patch lands:
    
     https://bitbucket.org/eventlet/eventlet/issue/89/add-a-timeout-argument-to-subprocesspopen#comment-3342969
    
    Change-Id: I3e2b07c3f718e4aede5c5f231ff0cdb7721ec885

commit 6c8d860507a66424cf47b46380478b3cc565359e
Author: Christoph Kassen <c.kassen@telekom.de>
Date:   Wed Mar 6 19:37:42 2013 +0100

    Fix volume capacity reporting
    
    cinder-volume crashes when the decimal point is not represented by a dot
    but by a comma instead. This crash happens for example with the de_DE
    locale.
    
    This change replaces any comma appearing in the vgs command output with
    a dot.
    
    Test case added.
    
    Fixes: bug #1151684
    Change-Id: I831055fb7fd206a8560688ec4c25d766e92ee0f0

commit 42a4aae9f83414cfae8626f031d0fdf83efc38e7
Merge: 8d038a0 6abb573
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 8 05:54:41 2013 +0000

    Merge "Pull newly merged Olso update for 'is' operator"

commit 6abb5733968c9bf558a941c4d9cbd14e5ddf3768
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Fri Mar 8 16:54:03 2013 +0800

    Pull newly merged Olso update for 'is' operator
    
    A recent update to common/scheduler/filters/extra_specs_ops.py in
    Oslo added new 'is' operator to allow Boolean check. The original
    commit message was:
    
    "Boolean values for capabilities don't work because extra_specs are
    all converted to unicode. The scheduler will then check, for example,
    if the boolean 'True' is equal to the unicode string 'True', and will
    always return False. This patch allows admins to specify '<is> True'
    in extra_specs, which will compare successfully to boolean True."
    
    Notice extra_specs_ops now relies on strutils from Olso, so this
    change pull strutils from Oslo as well.
    
    Fix bug: # 1146306
    
    Change-Id: I83adf707c30274a3862aa8034e72c3361fd19952

commit 8d038a0f598de8f8c3989a53715150460755d4ec
Merge: d189740 80c8d32
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 8 05:02:50 2013 +0000

    Merge "NetApp bug fix for multibackend scenario."

commit d189740fb5c3eed64fb0881c497128cbe74d3131
Merge: af5d4b3 0f150c9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 8 01:38:56 2013 +0000

    Merge "Mark configuration option netapp_password secret"

commit af5d4b323597e3654b4e41af5ee19f5fe395ae35
Author: Monty Taylor <mordred@inaugust.com>
Date:   Mon Feb 11 13:57:27 2013 -0600

    Use nose and openstack nose plugin.
    
    It's a little silly since we're working on removing nose for testr,
    but it turns out that the old test run wrapper was in use here, which was
    causing all sorts of havoc.
    
    Change-Id: Ib6e31547ec4921f91b6253a1798cb04ca6930c87

commit a7ebea04d1b20699bae474a0ffa1ed435fb8c0f7
Author: James E. Blair <jeblair@openstack.org>
Date:   Thu Mar 7 08:55:00 2013 -0800

    Exit run_tests with the result code of the test runner.
    
    Change-Id: Ie117e258c3ce78080ab55715daa8cf14f9967ce4

commit 4c52cd0b020c8221185454a87d6d03d732d2c2f4
Merge: 100ee36 bda8dd0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 7 07:23:20 2013 +0000

    Merge "Fix Storwize/SVC storage_protocol reporting."

commit 0f150c90a1e950b64333c73f151fd470c7819dc2
Author: Michael J Fork <mjfork@us.ibm.com>
Date:   Thu Mar 7 07:10:18 2013 +0000

    Mark configuration option netapp_password secret
    
    Mark netapp_password configuration option with secret flag.
    
    fixes bug 1151510
    
    Change-Id: I4b04ae610f61c30e8d061b2be710bb48d7afae66

commit 100ee36e0c69e5bdeccca16cb82eac1801f5c4bb
Merge: 6e0b45b 1f15a3f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 7 06:45:50 2013 +0000

    Merge "Fix 3PAR drivers to work in multi-backend mode."

commit 6e0b45b44ffc00f4aa6e7d82194fd04bc0f8fb01
Merge: f09ba45 1867b89
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Mar 7 01:29:40 2013 +0000

    Merge "Add get_volume_stats in the sheepdog driver."

commit f09ba45116bdeba7a62e473455c13f02c4a375ba
Merge: fafb1f3 a4bc4d3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 6 17:13:52 2013 +0000

    Merge "Switch to oslo.config."

commit fafb1f30fbb70ce215be4afed951cba63728bc4f
Merge: 6ba8868 d595d34
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 6 07:07:24 2013 +0000

    Merge "NetApp: Fix for snapshot not deleted in error state."

commit 1867b89a53e3e46394e9db80e0dc82471661068c
Author: Wenhao Xu <xuwenhao2008@gmail.com>
Date:   Sun Mar 3 01:19:08 2013 +0800

    Add get_volume_stats in the sheepdog driver.
    
    1. Allow sheepdog driver to report capabilities to the scheduler.
    2. add the initial test_sheepdog.py
    
    Fixes Bug #1140162
    
    Change-Id: I6fb1fb6714ab4ae9878b593e6eee0a94d95ef29f

commit a4bc4d34fb4076675688965670bfb36e32cb9fce
Author: Dan Prince <dprince@redhat.com>
Date:   Tue Mar 5 22:29:35 2013 -0500

    Switch to oslo.config.
    
    The oslo-config package has been renamed. Switch to the new
    version. (should fix SmokeStack).
    
    Change-Id: Ic8cc9f53b7c4713e7bce7db47ad2021912d3b5db

commit 6ba88681dd040f51e1ea0ff615c98e48cbe49d6b
Merge: 93960a1 816131e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Mar 6 03:15:47 2013 +0000

    Merge "sync oslo changes for setup / version"

commit b3ee8b799cd5bd33326d8a9f8baf8f1bcf2eb20c
Author: Rushi Agrawal <rushi.agr@gmail.com>
Date:   Wed Mar 6 05:30:39 2013 +0530

    Fix calling setUp() method of superclass from tearDown method.
    
    In test_netapp.py, the tearDown function was calling setUp of
    superclass instead of calling tearDown of superclass. Fixed it
    here.
    
    Change-Id: Iab65e60193edcd47d09d7788b0951ef66d816e38

commit 93960a130531f7f4a850369c98810c947a7e61a9
Merge: 2870a28 6d2693a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Mar 5 23:56:35 2013 +0000

    Merge "Fixes issues found in /os-hosts API"

commit 1f15a3fe938085612d178253b5121a03dfbade73
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Thu Feb 28 10:06:02 2013 -0800

    Fix 3PAR drivers to work in multi-backend mode.
    
    The 3PAR drivers weren't updated when the multi backend
    patch landed on G3 day.  This patch implements the new config
    mechanism to accessing FLAGS, so that it works when an admin
    has multiple drivers active.
    
    This fixes
    bug 1131346
    
    Change-Id: Icc5475d15bfd0fa14aae12ab8a8370a894e46857

commit 2870a287406820fff5f5f36bd53e3ebeed2945f2
Author: Xing Yang <xing.yang@emc.com>
Date:   Sun Mar 3 00:06:29 2013 -0500

    Fixed copy image to volume and clone volume.
    
    This patch fixed the following issues in EMC driver found during G3 testing:
    1. VNX array has two storage processors and it is doing load balancing when
    attaching a LUN to a host. The storage processor used to attach a LUN to a
    host is different from the one discovered by the driver sometimes, causing
    Copy Image to Volume to fail.
    2. The clone relationship is removed after a volume is successfully
    cloned. However, this happens too soon sometimes before the cloned volume
    is fully synced with the source volume.  The fix is to wait until it is
    fully synced.
    
    Change-Id: I5b8fab263723c47faf30b950a611c5bde7f29092
    Fixes: bug #1135221

commit 6d2693a13e9b33da6b13e13f587f99a20b2fe2d0
Author: Fei Long Wang <flwang@cn.ibm.com>
Date:   Sun Mar 3 16:48:22 2013 +0800

    Fixes issues found in /os-hosts API
    
    There are some issues found in Cinder /os-hosts API:
    
    1) Bracket in the wrong spot in Cinder HostController show method
    There is an erroneous bracket on the following line in the show method
    that should be at the end of the response:
       'total_volume_gb': str(sum)},
    
    2) XML Attributes Missing for List/Index method in Cinder HostController
    The HostIndexTemplate class specifies mapping for "host" and "topic"
    attributes rather than any of the ones that are actually returned from
    the index method.
    
    3) XML Serialization is commented for Cinder HostController show method
    
    Fixes Bug: 1139984
    
    Change-Id: I881e80b5e109ed6ddcc4f7c4bf5749ab6dca563d

commit bda8dd050e75e11e269bc00fee34917e5ae4f0cf
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Mar 5 10:00:11 2013 +0200

    Fix Storwize/SVC storage_protocol reporting.
    
    The Storwize/SVC driver supports both FC and iSCSI protocols
    simultaneously. Therefore, 'storage_protocol' should be defined as a
    list of enabled protocols, not simply 'iSCSI'. The extra_specs
    key-value would then be, for example, storage_protocol='<in> iSCSI'
    or storage_protocol='<in> FC'.
    
    Fixes bug: 1142196
    
    Change-Id: Ib99a6d4e4e61d07ddb4f173c13fe7e9f5482fa2b

commit 816131eb729b340e8ef1ee8fc9eab49114295296
Author: Sean Dague <sdague@linux.vnet.ibm.com>
Date:   Mon Mar 4 15:10:02 2013 -0500

    sync oslo changes for setup / version
    
    this fixes the fact that run_tests.sh wouldn't work in a venv with
    a clean cinder checkout. Yay for fixing being able to run tests.
    
    Fixes bug #1125416
    
    Change-Id: Ic341c3b878cc566f8d2f6a3b2c9d1fa62fc52261

commit 15962a4d13334b2265120e67ab4222b119e95c3e
Author: Stephen Mulcahy <stephen.mulcahy@hp.com>
Date:   Mon Mar 4 16:10:34 2013 +0000

    swift backup service checks version during restore
    
    Modified swift backup service to check metadata version during restore
    and raise an error if the backup version isn't a version that the
    service knows how to handle. The versions which can be handled are
    described in a dictionary mapping versions to methods which can handle
    them. This will facilitate graceful handling of newer backup formats by
    the swift backup service when we introduce changes.
    
    Fixes bug: 1136174
    
    Change-Id: Id7d05848fd448ce21f641e5cd6945477702cbe38

commit f211c150cb60615fc4352bb4145dd15cac0d3fd1
Merge: e997826 0c2ce65
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Mar 3 17:18:34 2013 +0000

    Merge "Add some useful log to filter scheduler."

commit 0c2ce65014be15430b37df83e12d970052a028b4
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Feb 28 18:34:07 2013 +0000

    Add some useful log to filter scheduler.
    
    When the filter scheduler is unable to find a suitable host to
    deploy a volume on it simply logged a warning "not hosts found".
    This isn't very helpful, so this patch adds some logging info as
    far as why no valid host was available.  This just focuses on the
    capacity filtering as that's where I've commonly seen this issue
    particularly in tempest runs.
    
    Also noticed that the get status was checking for "if Not capacity",
    but this is wrong because free capacity==0 would be interpretted as
    failing to get capacity.  Change this to "if is None".
    
    Fixes bug: 1136147
    
    Change-Id: Ia1ce508826ee69ae68a250ea68616909c59974e5

commit e9978269901658f5b463f5096661afde5ce8bb58
Merge: 5a6907e ce6e411
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 1 08:10:33 2013 +0000

    Merge "Only use iscsi_helper config option if using LVMISCSIDriver"

commit 5a6907ee72278057b990c60f5da8fc2db5779e0c
Merge: 94c564b a2830e5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 1 03:08:37 2013 +0000

    Merge "Elevate context for delete volume with no host."

commit 94c564b802e9ec40840ed7fa488d2a0ae075ada1
Merge: 218e2fe 3fc515e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Mar 1 02:25:44 2013 +0000

    Merge "Improved fail_reason for cinder-backup swift connection errors"

commit a2830e5417539980249e3ab12d8bf9538d8956c4
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Feb 28 19:01:39 2013 +0000

    Elevate context for delete volume with no host.
    
    So in the case of a volume that is placed in error state
    on create and never actually deployed, the cinder.volume.api delete
    call does a short cut call to db.destroy_volume which is fine because
    all we have is a DB entry (scheduler never deployed the volume).
    
    Unfortunately, this requires admin context, so just add an elevate
    context to the db.destroy_volume call.
    
    Fixes bug: 1084273
    
    Change-Id: I0ef8bf4356047c385bef703b8dce7d5edf537bf6

commit 3fc515e77aa8a6bc3218dbd36b8ffbb9e7bf5b97
Author: Stephen Mulcahy <stephen.mulcahy@hp.com>
Date:   Thu Feb 28 12:11:39 2013 +0000

    Improved fail_reason for cinder-backup swift connection errors
    
    Modified swift backup service to catch socket errors when talking to
    swift and raise a specific SwiftConnectionFailed exception in these
    cases. This allows us to provide a more readable error message
    detailing the problem connecting to swift to the end user when they
    view the backup. Also reduced the default number of swift retries
    so devstack environments fail faster - production environments can
    tune these in cinder.conf.
    
    Fixes bug: 1132791
    
    Change-Id: Ibca744ea5adcbd31d068ac3d858bde6a4a0c9844

commit dd010690330e8304eadddab158ba5c2e3f57d8c8
Merge: 79fcdbe d346346
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 28 06:36:25 2013 +0000

    Merge "Convert from using FLAGS directly in SF driver."

commit d346346f77cd2cafebb7e73910ad77aae6f1c9fc
Author: john-griffith <john.griffith@solidfire.com>
Date:   Thu Feb 21 22:06:26 2013 -0700

    Convert from using FLAGS directly in SF driver.
    
    In order for the Filter scheduler to be used to it's
    full advantage Cinder drivers need to move away from
    using FLAGS directly and switch to appending their
    specific options to self.configuration.
    
    This patch converts the driver and updates tests.
    
    Fixes bug: 1131553
    
    Change-Id: Id1a7c583894ac368bdcc61facc6f72300db320c7

commit 79fcdbea688075b7c20b22c1a636c54294d8cb8f
Merge: 015095e 9e14e07
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 28 02:33:03 2013 +0000

    Merge "Improve logging for volume operations via manager"

commit 015095ea305f9a7e901bda8c72ca0bdf633bfdef
Merge: 9a006ba 3cff1cb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 27 23:15:07 2013 +0000

    Merge "NetApp: Fix race condition in 7-mode iSCSI driver with DFM."

commit 9a006ba8882b556ef105480aeebe6c86b74bf64d
Merge: 14d449e 1b33067
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 27 23:04:00 2013 +0000

    Merge "Fix query filter in volume_get_active_by_window()"

commit 14d449e30c0036c67b676c4d56b683c280557729
Merge: 2664ed3 2a9fbd7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 27 22:47:23 2013 +0000

    Merge "Fixes the provisioning on selected volumes for NetApp 7 mode."

commit 9e14e07b8cc203506f8e6de515707a2e923cda17
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Feb 27 20:49:53 2013 +0000

    Improve logging for volume operations via manager
    
    A large percentage of the logging information was
    being done using debug.  This change moves some
    of the logging information to be info level and
    also tries to add some consistency in terms of
    the general create/delete operations.
    
    This includes moving logging for the basic operations
    into the manager and omitting the repetive messages from
    the drivers.
    
    Fixes bug: 1133131
    
    Change-Id: I792efde67f30d637431ad2fa45714e50bf9c705d

commit ce6e411e48f2d407286ddcf5ab8e966683e16c97
Author: Eric Harney <eharney@redhat.com>
Date:   Fri Feb 22 11:27:29 2013 -0500

    Only use iscsi_helper config option if using LVMISCSIDriver
    
    _get_iscsi_properties checks for iscsi_helper == 'tgtadm',
    but this is run for drivers other than LVMISCSIDriver.
    
    Only change target_lun based on iscsi_helper if using
    LVMISCSIDriver/ThinLVMVolumeDriver.
    
    Change-Id: I8c63f8d4097682c875bbfdfade665fdacbcf8e22

commit 1b330677b283ce7b5f3fa57efe3a26b00ff38be1
Author: Ollie Leahy <oliver.leahy@hp.com>
Date:   Wed Feb 27 18:30:38 2013 +0000

    Fix query filter in volume_get_active_by_window()
    
    Fixes LP bug #1131320
    
    Change-Id: Iec51ecbe49a76e3a5b7374b04f20949c77c52984

commit 2664ed38a3dbf54e468ec8a462765bfc63ab2889
Author: Stephen Mulcahy <stephen.mulcahy@hp.com>
Date:   Wed Feb 27 09:15:57 2013 +0000

    Changed to INFO level logging for main cinder-backup operations
    
    Changed create backup, restore backup and delete backup operations to
    log key operations at INFO level instead of DEBUG level (so environments
    like devstack see main operations by default).
    
    Fixes bug: 1132788
    
    Change-Id: I3b4600be8fbc1869054f81752c92936d55395185

commit 218e2fe52c170d00e1975345dd17f76fad9e1db9
Author: Rushi Agrawal <rushi.agr@gmail.com>
Date:   Tue Feb 26 17:45:57 2013 +0530

    NetApp: Clean up lock file left behind by unit tests
    
    The synchronization decorator added to the NetAppISCSIDriver class
    creates a lock file named cinder/openstack/cinder-netapp_dfm
    during the unit tests. This commit cleans it up.
    
    Fixes bug 1135619
    
    Change-Id: Iec41a0f23d4a1c6668bdcb451c2c02efd3f97500

commit 3cff1cb24f7627dd913ce02a0f62c7ef85b5c37c
Author: Rushi Agrawal <rushi.agr@gmail.com>
Date:   Wed Feb 27 06:37:41 2013 -0500

    NetApp: Fix race condition in 7-mode iSCSI driver with DFM.
    
    A race condition was discovered in the driver while creating
    or deleting multiple volumes in a very short interval of time
    (can be reproduced by making successive API calls to Cinder).
    This fix decorates the methods responsible for race condition
    with a synchronized() decorator. The problem was with the
    management software: DFM, and in principle, there should not
    be two processes trying to modify the DFM dataset object at
    the same time. This patch prevents from such a possibility.
    
    Fixes bug 1091480
    
    Change-Id: I11cfc8868171acec356f4140aba52b8078d109df

commit b3aa7988d8bc092eb296b8abff71b6fe939ab1c8
Merge: f44100e edbfe4c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 25 02:22:17 2013 +0000

    Merge "XenAPINFS: Fix Volume always uploaded as vhd/ovf"

commit f44100e404245064a703b49eec3a3d45321dc8c1
Merge: 8e7f0b9 cde01d5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Feb 24 19:42:22 2013 +0000

    Merge "allow run_tests.sh to report why it failed"

commit 8e7f0b9adc949281585539a86d99104dc8cc9aad
Merge: 614a23a 778141a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 23 22:32:48 2013 +0000

    Merge "Remove compat cfg wrapper"

commit 614a23a9c54d2b7aef32cd6086c416f7745bb51b
Author: Sean Dague <sdague@linux.vnet.ibm.com>
Date:   Fri Feb 22 15:02:57 2013 -0500

    update install_venv_common to handle bootstrapping
    
    old install_venv_common used oslo-config, which makes for bad
    recursive dependencies, and we can't build a venv from a fresh
    tree.
    
    Change-Id: I09336d760842d4eb57f2b70fdfe19afaf6520a48

commit cde01d58104b515422f86ed629b106bd30541b93
Author: Sean Dague <sdague@linux.vnet.ibm.com>
Date:   Fri Feb 22 13:22:42 2013 -0500

    allow run_tests.sh to report why it failed
    
    the set -e was suppressing all the echo information about why
    run_tests.sh was failing, which makes it quite hard to figure out
    what is going on.
    
    Change-Id: Ie210ee5b5e9ff0028a89da520580db7cd1d9f03a

commit 778141a382ca44e02a3781226c02571b657adae9
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Fri Feb 22 17:25:07 2013 +0000

    Remove compat cfg wrapper
    
    This wrapper was there to allow oslo-config changes through the gate
    while keystoneclient hadn't been updated.
    
    Change-Id: I3d48673af58ae379e8e4d2c7fb4b4d81f3ed67dd

commit 64ee4ac1aa7e6e334190c6104af6711a9ad817ee
Merge: 03fcb06 c3c31fc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 21 18:26:48 2013 +0000

    Merge "Fix various exception paths"

commit edbfe4c78cca6c4dd8b8a164de86b1fa4c210ab9
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Thu Feb 21 17:10:42 2013 +0000

    XenAPINFS: Fix Volume always uploaded as vhd/ovf
    
    Fixes bug 1131291
    
    copy_volume_to_image was always using the glance plugin to do the
    upload, and was ignoring the users request. Thus the image was always
    uploaded as vhd/ovf. This patch is using the image utils to fix the
    generic case.
    
    Change-Id: If12c3d175b3d4437305ac4d2f954a2a42ee3a3c1

commit 03fcb0616835f7b2c8a1133bd2e87014a59cc886
Merge: 762f2e1 b138481
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 21 15:55:46 2013 +0000

    Merge "Fixed cinder-backup start errors seen with devstack"

commit b13848160698a89a46a8d59434a1aa7e173120f3
Author: Stephen Mulcahy <stephen.mulcahy@hp.com>
Date:   Thu Feb 21 11:10:34 2013 +0000

    Fixed cinder-backup start errors seen with devstack
    
    Changes:
    - Added cinder-backup to scripts in setup.py
    - Added service_name to backup manager __init__
    - Switched backup manager to using oslo.config
    - Modified cinder-backup to use ProcessLauncher
    
    Fixes bug: 1131147
    
    Change-Id: I9b02d64def4ee892e9cfde4b4bcd50e5f9f9b707

commit 762f2e19cf60f1de2bb45b6f67c1bee762804712
Author: Tom Fifield <fifieldt@unimelb.edu.au>
Date:   Thu Feb 21 21:10:16 2013 +1100

    Cinder devref doc cleanups
    
    Way back when Cinder was inagurated as a separate project, the docs
    directory from Nova was used as a seed for the one in the Cinder repo
    
    This patch is simply cleaning out images and files which have no
    relation to Cinder at all, and are at best extremely outdated when
    applied to Nova.
    
    Aside from the deletions which are mainly images, and files related
    to the configuration of CloudPipe, there is one modification to
    conf.py which simply removes a reference to a vmware doc that no
    longer exists.
    
    Change-Id: I2140035f98bd332f25d7dd7569993bcd960a869e

commit c3c31fcff7717e0112616902780d4c762bd66702
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Wed Feb 20 15:34:05 2013 +0000

    Fix various exception paths
    
    Fixes bug 1130723
    
    Some bugs were introduced in https://review.openstack.org/#/c/20514/
    this patch fixes the discovered errors. It also removes volume_id
    parameters from error messages.
    
    Change-Id: I9ff75482fe2bc13dbb65e7d666035a13a19d5c98

commit 2a91248183c203b2748f537a7b6bcfe0b9ac4dfd
Merge: 44cd8bd 6670314
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 21 07:41:46 2013 +0000

    Merge "Implement metadata options for snapshots"

commit 44cd8bd2f7dcfea68cfb2fb256752a6a44eaaff0
Merge: 5ea0215 f2ce698
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 21 07:34:03 2013 +0000

    Merge "XenAPINFS: Create volume from image (generic)"

commit 667031428bbe750933cd82b07a90116891d74747
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Feb 18 23:39:06 2013 +0000

    Implement metadata options for snapshots
    
    This patch implements metadata for snapshots as well as
    the ability to update/delete that metadata.
    
    Implements blueprint: update-snap-metadata
    
    Change-Id: Iec2b7a51cdc3dffad41f24807067cc6c8e7d5135

commit 5ea0215cf21755d10d748149f96ffd29685ed5d6
Merge: 8aae8ba 8169eb6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 21 05:26:30 2013 +0000

    Merge "Skip timestamp check if 'capabilities' is none"

commit 8aae8bae07745d7770ec71336fddf1a81600b98a
Merge: c83f23d f7bcf95
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 21 04:44:46 2013 +0000

    Merge "Fix stale volume list for NetApp 7-mode ISCSI driver"

commit c83f23d348b407d1862f61c855d6fad9b75d503c
Merge: 66532ca f50c8cb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 21 04:37:22 2013 +0000

    Merge "Implement a basic backup-volume-to-swift service"

commit 8169eb66832101444b0a824c932982966222097c
Author: Mandell Degerness <mdegerne@gmail.com>
Date:   Thu Feb 21 02:59:44 2013 +0000

    Skip timestamp check if 'capabilities' is none
    
    fix bug: #1131011
    
    Change-Id: I6266560627d03d95862a7f2c85ac63e2e9daef6b

commit f7bcf951aa038f23ea32f9215458f3fd59f33590
Author: Rushi Agrawal <rushi.agr@gmail.com>
Date:   Mon Jan 21 21:31:48 2013 +0530

    Fix stale volume list for NetApp 7-mode ISCSI driver
    
    While contacting filer through DFM in order to create volume from
    snapshot, the operation may fail with an error "No entry in LUN
    table for volume". Although the LUN representing the volume was
    created on the filer, the LUN list was not refreshed in time, which
     caused an error. This fix handles this situation for creating
    volume from snapshots.
    
    Note that this fix adds the requirement that the driver host and
    DFM machine should be reasonably time-synchronized.
    
    Fixes bug 1095633
    
    Change-Id: I77fff4c36a3af72d28f2d01988a6067919093718

commit 66532ca83199caf494eb1137a5a27e5f4d734d80
Merge: 17686fe d2742e1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 21 01:19:09 2013 +0000

    Merge "Uses tempdir module to create/delete xml file"

commit 17686febeab13938d22eeeabf1998fadac183859
Merge: 17753db 217e194
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 21 01:19:02 2013 +0000

    Merge "Moved cinder_emc_config.xml.sample to emc folder"

commit f50c8cbed1012aac86df2309a944d0e56707b4d6
Author: Duncan Thomas <duncan.thomas@gmail.com>
Date:   Wed Feb 20 18:07:55 2013 +0000

    Implement a basic backup-volume-to-swift service
    
    Implements: blueprint volume-backups
    
    This patch adds the new service, api and basic unit tests
    
    Change-Id: Ibe02c680c5e9201d208c92e796e86ad76b4b54b3

commit 17753db4d02bc48f902c3962e631480ca17bd72b
Merge: 3b0b948 74d1add
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 20 22:48:40 2013 +0000

    Merge "Add HUAWEI volume driver in Cinder"

commit 3b0b948744bb1150558cd5096692bbe6d7c79900
Merge: 0f08e49 716b67f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 20 20:45:14 2013 +0000

    Merge "Better error handling around volume delete."

commit 0f08e49bde425a58babe3795430d5ece8ead726b
Merge: c529b1f ea2c405
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 20 19:13:57 2013 +0000

    Merge "Bump the oslo-config version to address issues."

commit 716b67f4790774858ccc9d4b696ac12f7e793b0b
Author: Michael Basnight <mbasnight@gmail.com>
Date:   Wed Feb 20 10:12:03 2013 -0600

    Better error handling around volume delete.
    
    fixes bug 1130844
    
    Change-Id: I6886bff24194c2ace3d7719b93b5ab79aa8a0e8d

commit 217e19470f1508775ccd28172756d698b1a09062
Author: Xing Yang <xing.yang@emc.com>
Date:   Wed Feb 20 13:34:48 2013 -0500

    Moved cinder_emc_config.xml.sample to emc folder
    
    Vendor unique driver files should not be placed in /cinder/etc/cinder, but
    should stay with the vendors driver.  Moved cinder_emc_config.xml.sample
    to cinder/volume/drivers/emc folder.
    
    Change-Id: I92151abdf46a3597ea94284b6dfcf611153cab19
    Fixes: bug #1130496

commit d2742e15ae14c9ab9f7567a3abf4308b78343c99
Author: Xing Yang <xing.yang@emc.com>
Date:   Wed Feb 20 13:22:59 2013 -0500

    Uses tempdir module to create/delete xml file
    
    The emc test in cinder is leaving behind its test generated
    cinder_emc_config.xml file in /cinder/tests directory.  This
    fix uses tempdir module to create the xml file and delete it
    when tearDown is called.
    
    Change-Id: I7fd1dda83a097d1122c58cd3ed723ed7f5de30d8
    Fixes: bug #1130495

commit 74d1add5b7181b75ca4eb564028e8e07c0c48030
Author: zhangchao010 <zhangchao010@huawei.com>
Date:   Tue Feb 19 11:39:25 2013 +0800

    Add HUAWEI volume driver in Cinder
    
    This is an iSCSI driver.It supports HUAWEI OceanStor T and
    Dorado series storage systems.The driver communicates with
    storage systems based on SSH.
    
    Implements: blueprint huawei-volume-driver
    Change-Id: Ib3fd8ff636106e751789f6367a5b57bdaab316f4

commit f2ce6984b7b9a66a88b1b7e0ff319de24f2c78be
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Wed Feb 13 10:48:34 2013 +0000

    XenAPINFS: Create volume from image (generic)
    
    Fixes bug 1130706
    
    Related to blueprint xenapinfs-glance-integration
    
    This patch enables users to use any images recognised by qemu-img to
    create volumes on XenAPINFS.
    
    Change-Id: I9dd8ec237309da82ec7f73db1acb48e5b7411c9e

commit c529b1f6beac63ba4224b7638d431dc7f15d21d7
Merge: ba45662 cbf3bfc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 20 17:50:07 2013 +0000

    Merge "rbd: implement get_volume_stats()"

commit ba4566242b435a33bded990616b1af4ae7754822
Merge: 34284b7 79551a6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 20 17:38:28 2013 +0000

    Merge "Add LIO configuration for iSCSI initiators"

commit ea2c40542ffa2948e2acc2bdbae7996352d52ac2
Author: john-griffith <john.griffith@solidfire.com>
Date:   Wed Feb 20 10:16:15 2013 -0700

    Bump the oslo-config version to address issues.
    
    Cinder unit tests weren't running with b3, b4 has some
    fixes that put things back on track.
    
    Change-Id: I7f8b7e1ab688790577d5ea3e95b4b20c6e552fae

commit 34284b7eb98095d67f6c861d09c101ecd32cff96
Author: Michael Basnight <mbasnight@gmail.com>
Date:   Wed Feb 20 10:12:03 2013 -0600

    Ensure volume exists before deleting.
    
    fixes bug 1130744
    
    Change-Id: I39152dd1caa5ab1b2cfbae56eaec8c8fa309669c

commit 79551a68d3dfc3cfe4113f022dfdb4d26b11d336
Author: Eric Harney <eharney@redhat.com>
Date:   Tue Feb 5 18:02:46 2013 -0500

    Add LIO configuration for iSCSI initiators
    
    LIO requires iSCSI initiator IQNs to be specified in an ACL to be
    allowed to connect to the target. Currently this is only done for
    the IQN of the initiator on the cinder-volume node.
    
    This patch allows setting lio_initiator_iqns in cinder.conf to
    provide access to other nodes.  (Remote Nova compute nodes.)
    
    Change-Id: I7ddee542fcd3fba5b6f142ad15459c08cfedc9d2

commit d5ac3cb692f77aaa38da9e4232038ef57bde8266
Merge: eed5aac 5f2a36c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 20 10:36:27 2013 +0000

    Merge "Update cinder-manage to use FLAGS.log_dir."

commit eed5aacf79729e519d6aa798ce047345997c5464
Merge: d57828b e5b1d51
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 20 08:58:50 2013 +0000

    Merge "Add a volume driver in Cinder for Scality SOFS"

commit d57828b25ff017d4c855ae028fceeca8147fb390
Merge: 452ed59 737468e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 20 08:50:36 2013 +0000

    Merge "Handle maxclonepervolume/node limits in SF driver."

commit cbf3bfcf6339fe4d1fe4e279363db4f899e170d3
Author: Josh Durgin <josh.durgin@inktank.com>
Date:   Tue Feb 19 17:11:41 2013 -0800

    rbd: implement get_volume_stats()
    
    Report raw capacity because replication level may change, and the
    cluster may be used by more than one service. If the command fails for
    any reason, return unknown capacity.
    
    Change-Id: If6871124301b51e4768ea64c4d8e5109e0804db8
    Signed-off-by: Josh Durgin <josh.durgin@inktank.com>

commit 452ed59e51850c0498365fdf6354bc5a4f71c15e
Merge: 0720fe2 d5a17b4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 20 07:02:31 2013 +0000

    Merge "Use oslo-config-2013.1b3"

commit 0720fe2b872fbeff186288b9d67f4bc9d9934f85
Merge: 31f34ca 187b349
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 20 06:16:46 2013 +0000

    Merge "Set rootwrap_config in cinder.conf sample."

commit 737468e5c80a35b859dcda29706c88e2976339a3
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Feb 19 21:34:01 2013 -0700

    Handle maxclonepervolume/node limits in SF driver.
    
    The SolidFire cluster has a max simultaneous clones per volume and node
    limt that we weren't accounting for.  Add some logic to detect this situation
    and loop until enough simultaneous clones are completed to allow processing
    of the next one in line.
    
    Fixes bug: 1129810
    
    Change-Id: Id63c1b142a81df5d9d2c4e39fb821b03ebac63a2

commit d5a17b457059424aba0ad78f21061dd8d8948cb1
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Sun Feb 10 18:55:24 2013 -0500

    Use oslo-config-2013.1b3
    
    The cfg API is now available via the oslo-config library, so switch to
    it and remove the copied-and-pasted version.
    
    Add the 2013.1b3 tarball to tools/pip-requires - this will be changed
    to 'oslo-config>=2013.1' when oslo-config is published to pypi. This
    will happen in time for grizzly final.
    
    Add dependency_links to setup.py so that oslo-config can be installed
    from the tarball URL specified in pip-requires.
    
    Remove the 'deps = pep8==1.3.3' from tox.ini as it means all the other
    deps get installed with easy_install which can't install oslo-config
    from the URL.
    
    Retain dummy cfg.py file until keystoneclient middleware has been
    updated (I18c450174277c8e2d15ed93879da6cd92074c27a).
    
    Change-Id: I4815aeb8a9341a31a250e920157f15ee15cfc5bc

commit 31f34cad309b09d983f753d24715f1bcb9ebfc2c
Merge: a6493bb 91ccd15
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 20 00:00:31 2013 +0000

    Merge "Add a safe_minidom_parse_string function."

commit a6493bb9857ac2217b3ea7bcce9bab8497b4822f
Merge: d0de85f 83e2053
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 19 23:07:14 2013 +0000

    Merge "HP 3PAR Fibre Channel Driver and iSCSI Updates"

commit d0de85ff118c66455409422a1bc3221f7bfc859b
Merge: 5fbf767 af64eac
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 19 23:07:10 2013 +0000

    Merge "Fibre Channel base class for Cinder drivers"

commit 5fbf767ddabaa351c4651fc63ac01c744766d2f8
Merge: 00f3d49 008adb2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 19 23:05:16 2013 +0000

    Merge "Fix syntax error in  cinder-volume-usage-audit"

commit 00f3d49980320f356fb178822d2e9933a29fbee6
Merge: 532f15b 8466bb3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 19 23:05:07 2013 +0000

    Merge "Fix create volume from image."

commit 532f15b3b16bc3b8f3b96efb94ce92e25963a864
Merge: 2b5f287 b3e64b8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 19 21:50:07 2013 +0000

    Merge "Update Storwize/SVC driver for Grizzly."

commit 2b5f28782e09be68591bab2d6feeaa8205a3fa9b
Merge: 95dad7c 64a1a32
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 19 21:29:06 2013 +0000

    Merge "Skip tests if cinder is not installed"

commit 95dad7c6fb9cb22c42ba3215a8985eebc422e13b
Merge: 0c52162 b0cdbdf
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 19 21:28:50 2013 +0000

    Merge "XenAPINFS: fix capacity reporting"

commit 008adb25fd14929f2d1be6dd58d382ff6ef62df6
Author: Ollie Leahy <oliver.leahy@hp.com>
Date:   Tue Feb 19 17:54:59 2013 +0000

    Fix syntax error in  cinder-volume-usage-audit
    
    There was a syntax error in a print statement in cinder-volume-usage-audit
    which caused the script to crash.
    
    Fixes LP bug #1130266
    
    Change-Id: If4b0102ec5218fc8347f97041ac65f633111c26f

commit 83e2053567eeb5649b0af8826b71b50517e17f47
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Wed Feb 13 13:55:43 2013 -0800

    HP 3PAR Fibre Channel Driver and iSCSI Updates
    
    This is the initial FC driver for the HP 3PAR array, along with some
    3PAR iSCSI driver cleanup and changes in the HP 3PAR common class.
    Summary of changes:
    * Initial FC Driver for the Grizzly release (depends on the FC base class
      and nova FC changes https://review.openstack.org/#/c/19992/ &
      https://review.openstack.org/#/c/20003/)
    * Updates to iSCSI Driver include volume type and create clone volume support
      as well as general cleanup(comments, copyright, minor bug fixes).
    * The tests have been updated to add FC test and the file was renamed
      to reflect both FC and iSCSI 3PAR tests.
    * Volume types added for the Grizzly release include cpg, snap_cpg, persona
      and provisioning(thin vs. full)
    
    Partially Implements: blueprint fibre-channel-block-storage
    
    Change-Id: Ie1c2e755aa1bcd5994ea4b02674718721b958e07

commit af64eac392eb8fc490df3efc3e1f217890c44897
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Wed Feb 13 11:30:17 2013 -0800

    Fibre Channel base class for Cinder drivers
    
    This is the base class, FibreChannelDriver, for all fibre channel
    drivers to extend. Currently, it has only initialize_connection
    with comments, but this will be a place to put common functions
    similar to the iSCSI base class.
    
    This patch depends on the following nova and devstack changes
    to be functional(both still in the review process but approved
    for Grizzly):
    https://review.openstack.org/#/c/19992/
    https://review.openstack.org/#/c/20003/
    
    This patch does not support copy_image_to_volume and
    copy_volume_to_image in the Grizzly release. We'll revisit
    this in Havana and add that support.
    
    Partially Implements: blueprint fibre-channel-block-storage
    
    Change-Id: I8bd28b8bd96deaec1db219457f407169ed172f69

commit 5f2a36cce77a9331e233ff96b7c909a6149c1bc8
Author: Dan Prince <dprince@redhat.com>
Date:   Tue Feb 19 12:46:03 2013 -0500

    Update cinder-manage to use FLAGS.log_dir.
    
    We no longer use FLAGS.logdir. This commit updates
    cinder-manage to use the new FLAGS.log_dir option instead.
    
    Fixes LP Bug #1130258.
    
    Change-Id: Id5f1175ec83f0f0b677ab0d75b310fa054459319

commit 91ccd1501acb1316b05a0dc010601ad85a9ebd3b
Author: Dan Prince <dprince@redhat.com>
Date:   Sun Feb 3 21:54:33 2013 -0500

    Add a safe_minidom_parse_string function.
    
    Adds a new utils.safe_minidom_parse_string function and
    updates external API facing Cinder modules to use it.
    This ensures we have safe defaults on our incoming API XML parsing.
    
    Internally safe_minidom_parse_string uses a ProtectedExpatParser
    class to disable DTDs and entities from being parsed when using
    minidom.
    
    Fixes LP Bug #1100282.
    
    Change-Id: Iff8340033c8e8db58184944a1bf705e16b8b3e03

commit 0c5216265d87fe27077b653a367edbc1af75dd5e
Merge: e1815e8 2443e35
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 19 11:47:41 2013 +0000

    Merge "Install rtslib when installing cinder"

commit e5b1d5111772bb25112753d619a2aa0e1a64ba14
Author: Jean-Marc Saffroy <jean.marc.saffroy@scality.com>
Date:   Mon Jan 14 12:19:52 2013 +0100

    Add a volume driver in Cinder for Scality SOFS
    
    Scality SOFS is a network filesystem mounted with FUSE, with most
    options given in a configuration file. Given a mount point and a SOFS
    configuration file as driver options, the Scality volume driver mounts
    SOFS, and then creates, accesses and deletes volumes as regular
    (sparse) files on SOFS.
    
    Change-Id: I914714e8547a505109514e2072f9e258abca8bd4
    Implements: blueprint scality-volume-driver

commit 8466bb3411bb82411fe51ef86e4c0080678bf753
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Mon Feb 18 15:33:28 2013 +0000

    Fix create volume from image.
    
    Fix for bug 1129199
    
    During creating a volume from an image, the volume status changed
    from creating to active, skipping the download phase. This bug was most
    likely introduced during:
    https://review.openstack.org/20514
    This patch fixes the issue by change image_location back to image_id at
    the correct place.
    This patch also fixes an error in the exception handling, and the update
    of the volume status after creation.
    
    Change-Id: Ib9b647031c029387b776c27f9233388bd2c67e9c

commit b0cdbdf71bdd675da6d601a711265996878a4e6f
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Mon Feb 18 12:45:37 2013 +0000

    XenAPINFS: fix capacity reporting
    
    Fixes bug 1129056
    
    XenAPINFS did not implement the get_volume_stats method, thus
    CapacityFilter fitered out the host, thus no volume was scheduled. This
    fix is working around this problem quickly, by reporting an 'unknown'
    capacity.
    
    Change-Id: I1dc5327e420a3316201318d52f602ced071d459b

commit b3e64b8192d31cf2f28f01dd4e3e97b3e53af979
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Thu Feb 7 21:50:31 2013 +0200

    Update Storwize/SVC driver for Grizzly.
    
    Includes FC support, create_cloned_volume, volume type support,
    get_volume_stats, and minor bug fixes.
    
    Change-Id: I13e3d7921c5127e6b4e0cbb4e91761e0249ec295

commit 187b349bd523661f1dff7dcf313de32e62ea31fe
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Feb 18 17:11:44 2013 -0700

    Set rootwrap_config in cinder.conf sample.
    
    Remove the root_helper=sudo in cinder.conf.sample and
    move to the rootwrap_config=/etc/cinder/rootwrap.conf as
    the default.
    
    Change-Id: Ib4bacf4d24993cb9506b51523a5ba44fe1f85d18

commit e1815e867344d0eee0304c5bb19de98f0dcfc1c5
Merge: 76b5839 e613426
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 18 23:34:03 2013 +0000

    Merge "Fix undef function call in test_migrations for py26"

commit 64a1a32701c2afba78d3f3e704f36b8417277d63
Author: Chuck Short <zulcss@ubuntu.com>
Date:   Mon Feb 18 08:11:20 2013 -0600

    Skip tests if cinder is not installed
    
    Skipp test_restry_disabled and test_retry_attempt_one
    if cinder is not installed.
    
    Change-Id: Iccc36e2ce0f57b5fa67566e1da543f9888bf0f57
    Signed-off-by: Chuck Short <zulcss@ubuntu.com>

commit 76b5839cd8284c56711efeab1b8633a95091eae4
Merge: a497e7a 6c708d1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 18 20:47:15 2013 +0000

    Merge "Update cinder-volume to enable multi volume support"

commit a497e7a9441a0fa59ab0a1eb922c7eaf914e700c
Merge: d18519d 256b423
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 18 20:23:56 2013 +0000

    Merge "Fix PEP8 violation (again)"

commit e6134269a124037be1453f3a716c4cbfe8d1d54d
Author: Mike Perez <thingee@gmail.com>
Date:   Mon Feb 18 11:17:26 2013 -0800

    Fix undef function call in test_migrations for py26
    
    unittest does not have this function until later. This uses the already
    imported cinder.test.skip_unless to accomplish the same result without
    outputted error.
    
    Change-Id: Id20add5a0d41e5d8cf6f8bc6aa0e547e5e386dab

commit d18519d6cf9bdd1490991d0d1b173864215c90d1
Merge: 4d6b1d4 db319b1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 18 17:52:04 2013 +0000

    Merge "Sync latest cfg and log from oslo-incubator"

commit 256b423208247464e4c8d806bc21f397d0aa62fe
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Mon Feb 18 17:31:14 2013 +0000

    Fix PEP8 violation (again)
    
    Change-Id: I91d8d4d879bfdffffe982aafa228c374506921df

commit 6c708d12f58eb20fce6733f1f6fd08d978570775
Author: Michael Basnight <mbasnight@gmail.com>
Date:   Mon Feb 11 15:54:45 2013 -0600

    Update cinder-volume to enable multi volume support
    
    * Added the service wrapper for multi binscripts
    * Added a service_name to manager
    * Added the configuration wrapper so the impls do not need
      to know if they are accessing config values from a option
      group or from the DEFAULT group
    * Updated drivers to use the new configuration wrapper
    * Added an example config set for multi backend
    * Modified service to comply w/ common
    * Added get_volume_stats to iscsi
    * Added config for volume_backend_name
    
    implements blueprint multi-volume-backends
    
    Change-Id: Idb86ac5f1c06b9cd5061bef6a24f17727e9a58c1

commit 2443e35d8c2370f39f9bf0b3cda523103af3f261
Author: Chuck Short <zulcss@ubuntu.com>
Date:   Mon Feb 18 08:03:32 2013 -0600

    Install rtslib when installing cinder
    
    It doesnt make sense to put rtslib in tools/test-requires
    since it is not directly using the python module while running
    the tests, since the tests use cinder-rtstool.
    
    Change-Id: Ib39b91e25f22b4943ef17eee50967828f7460b25
    Signed-off-by: Chuck Short <zulcss@ubuntu.com>

commit db319b1fc19962eb64b1724db2ef3048cae61769
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Mon Jan 21 16:25:38 2013 +0000

    Sync latest cfg and log from oslo-incubator
    
    Main cfg change is:
    
      c5984ba Move logging config options into the log module
    
    Logging changes include:
    
      c5984ba Move logging config options into the log module
      751c35b Verbose should not enable debug level logging
      edcdd25 Improve millisecond logging
      9e5912f Fix pep8 E125 errors.
      edf14e0 Enable millisecond logging by default
      9b81289 Allow nova and others to override some logging defaults
      90ada0e update deprecated stanza
      efba202 Adjust the logging_context_format_string.
      c8cf6f7 move nova.common.deprecated to openstack-common
    
    Fixes bug #989269
    
    Use new LOG.deprecated() in place of cinder.common.deprecated.warn().
    
    Also pull this cinder/context.py change from nova:
    
      ce098cc Add user/tenant shim to RequestContext
    
    to avoid issues caused by a s/user_id/user/ change in the context
    logging format.
    
    Change-Id: I3913ea54465658d93dc56e014dfe5d911b0541d6

commit 4d6b1d4adb1900d14ecfd4ff6b9eccb01ae35534
Merge: 3b7cd95 d0469bd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 18 07:31:55 2013 +0000

    Merge "Handle 'infinite' and 'unknown' capacity in CapacityWeigher"

commit 3b7cd9567c93afa9c8b803126f99785b5cef0e06
Merge: 71576bf 4ca3b53
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 18 02:05:55 2013 +0000

    Merge "Update snapshot rest api to be consistent with volumes"

commit 71576bfc1f3ed5e037ad11438c4ccadb3c75b526
Merge: e835c9f bb923d5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Feb 17 17:12:22 2013 +0000

    Merge "Add get_cluster_stats to SolidFire driver"

commit d0469bdc510443a2e7cd5a0dce5eab206a247527
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Sun Feb 17 16:32:04 2013 +0800

    Handle 'infinite' and 'unknown' capacity in CapacityWeigher
    
    This patch updates CapacityWeigher to transform 'infinite' and
    'unknown' capacity reported by back-ends to float('inf').  They
    are considered the same for sorting purpose.
    
    Change-Id: Ic8f811227c9937c4e09eb8b77457ed7e9231be4e

commit e835c9f817700650adbdbf9b52914a2b2afbeabf
Merge: 1f0aad5 9627e6d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 16 20:25:39 2013 +0000

    Merge "Add an ID to temporary volume snapshot object"

commit bb923d5eedc922fbfa5cbe755b46a334c5ed9664
Author: john-griffith <john.griffith@solidfire.com>
Date:   Sat Feb 16 09:58:46 2013 -0700

    Add get_cluster_stats to SolidFire driver
    
    With the filter scheduler addition we added get_stats to the
    drivers.  This provides the required data for the filtering
    mechanisms and is called by the scheduler.
    
    The change adds the required call in the driver and also adds
    an update routine to it's init to populate this info on startup.
    This also adds the fake api response so that the tests can perform
    the init routine and get the data, while giving the added bonus of
    testing the new functions at the same time.
    
    Change-Id: Ia75e078f8e73883131cb1e68f6e6713fce1ab518

commit 1f0aad51eac5ea6b9abb53a49c224dea97147481
Merge: f623cdc 06b26a8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 16 16:38:15 2013 +0000

    Merge "Add GlusterFS volume driver"

commit f623cdcc824fc0ab1f5a95bf09977f161a9544c0
Merge: e708025 1fc5575
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 16 14:42:41 2013 +0000

    Merge "Add LIO iSCSI backend support using python-rtslib"

commit e7080252816775439c3c88106716c2a559f85e10
Merge: 3c7a396 029435c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 16 10:54:33 2013 +0000

    Merge "rbd: update volume<->image copying"

commit 3c7a3968dc2fd968f2b8d17db8ddb4c087683943
Merge: ee59cc0 edbfa6a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 16 10:54:27 2013 +0000

    Merge "Update EMC SMI-S Driver"

commit d595d344016719eab810628a62bd276b9e98ea91
Author: Navneet Singh <singn@netapp.com>
Date:   Sat Feb 16 02:30:26 2013 -0800

    NetApp: Fix for snapshot not deleted in error state.
    
    This fix enables cleaning of volumes/snapshots
    in error state by allowing them to delete.
    It will allow the delete call to be
    successful if snapshot/volume are in
    error state. This also fixes the bug
    raised recently with  number 1145409 which seems
    to be duplicate of 1143661.
    
    bug 1143661
    bug 1145409
    
    Change-Id: I38bc13e676404f96db54b12edfa56680489e893e

commit 80c8d32f09634a18e28c3ac63740fd24863fb3eb
Author: Navneet Singh <singn@netapp.com>
Date:   Fri Feb 15 04:41:42 2013 -0800

    NetApp bug fix for multibackend scenario.
    
    The multibackend scenario using filter scheduler
    did not work with NetApp drivers because of use
    of FLAGS. Changed to use configuration to support
    the multibackend scenario.
    
    bug 1132637
    
    Change-Id: I8ac5bd6d4269f703c3b3b0aa062c92f4412c25af

commit ee59cc059b00d36993b327a5a7ee6554eb3d4b49
Merge: 3be9c5c f06f5e1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 16 06:18:08 2013 +0000

    Merge "Add an update option to run_tests.sh"

commit 3be9c5cd3ece7dccf14f1b89b8b2dfaa20f86ab4
Merge: 39b5856 abd3475
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 16 04:19:10 2013 +0000

    Merge "Create a RemoteFsDriver class"

commit 39b58569c81a2cb36407aae0218512725fd317c5
Merge: a1deb1c 695e3a8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Feb 16 04:19:07 2013 +0000

    Merge "Adding support for Coraid AoE SANs Appliances."

commit a1deb1cdb0bc5e0af800f2e30be57e13d80d4b0e
Merge: 90971cd d17cc23
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 15 21:38:33 2013 +0000

    Merge "Allow create_volume() to retry when exception happened"

commit 695e3a848ac35a45d5765776641d75782fa1c234
Author: Jean-Baptiste RANSY <jean-baptiste.ransy@alyseo.com>
Date:   Fri Feb 8 21:10:39 2013 +0100

    Adding support for Coraid AoE SANs Appliances.
    
    This driver provide support for Coraid hardware storage appliances
    using AoE (ATA Over Ethernet) protocol.
    
    Implements blueprint coraid-volume-driver
    
    Reference to Nova patch libvirt-aoe :
    https://review.openstack.org/21101
    
    The following operations are supported :
    -- Volume Creation with Volume Types
    -- Volume Deletion
    -- Volume Attach
    -- Volume Detach
    -- Snapshot Creation
    -- Snapshot Deletion
    -- Create Volume from Snapshot
    -- Volume Stats
    
    The driver only work when operating on EtherCloud ESM,
    Coraid VSX and Coraid SRX Appliances.
    
    Change-Id: I7c8dde0c99698b52c151a4db0fb1bb94d516db61

commit f06f5e1bd69548502937ab937180c7833c96f9cf
Author: Matthew Treinish <treinish@linux.vnet.ibm.com>
Date:   Fri Feb 15 14:14:54 2013 -0500

    Add an update option to run_tests.sh
    
    This commit adds an update option to run_tests.sh. This option
    is used to rerun install_venv.py on an already installed venv.
    This will then just update out of date packages with pip.
    
    Change-Id: I96dc6940f536feb810d57b3316e9d712aa750d93

commit edbfa6a3a5697da0d39a8cf94cdbf2ed0f726b20
Author: Xing Yang <xing.yang@emc.com>
Date:   Wed Feb 6 13:32:12 2013 -0500

    Update EMC SMI-S Driver
    
    1. Merged with Avishay's changes(https://review.openstack.org/#/c/
    19808/3) and removed copy volume<->image from my driver.
    2. Also did some refactoring based on Mike's comments
    last time (See https://review.openstack.org/#/c/19979/).
    Made the following changes in emc_smis_common:
    - Added a member variable conn to save get_ecom_connection
    and moved exceptions inside the helper function get_ecom_connection.
    - Also moved exceptions inside find_pool and get_storage_type.
    - Added test cases so get_ecom_connection, find_pool, and
    get_storage_type will be covered.
    3. Made changes in emc_smis_common to handle both iscsi and fc.
    
    Change-Id: I56db3ba41215489f6afe840ce5310a31f28bf5ae

commit 1fc557561b711f6edb06cf28edb0f90900e2c21e
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Dec 17 17:31:40 2012 -0500

    Add LIO iSCSI backend support using python-rtslib
    
    This patch enables LIO as an iSCSI backend for Cinder, using
    python-rtslib.
    
    To enable, set "iscsi_helper = lioadm" in cinder.conf.
    
    This requires python-rtslib 2.1.fb27, which is available from pip.
    
    Implements blueprint lio-iscsi-support
    DocImpact
    
    Change-Id: Ifb23de65f26a40997afd6148a1d0be39bcc8d196

commit 06b26a8ab82fa4584f8bc0a217296f7b7510d0a4
Author: Eric Harney <eharney@redhat.com>
Date:   Wed Feb 6 10:26:45 2013 -0500

    Add GlusterFS volume driver
    
    This driver enables use of GlusterFS in a similar fashion
    as the NFS driver.  It supports basic volume operations,
    and like NFS, does not support snapshot/clone.
    
    To enable, set volume_driver to
     cinder.volume.drivers.glusterfs.GlusterfsDriver
    
    Note that this requires a Nova libvirt GlusterFS driver
    as well.
    
    Adds config options: glusterfs_shares_config,
    glusterfs_mount_point_base, glusterfs_disk_util, and
    glusterfs_sparsed_volumes.
    
    DocImpact
    
    Change-Id: I3dd4018f0cb4db48348728ca66bae7918309bb32

commit abd3475fe7e162760424188b7d1b7bdca88091ac
Author: Eric Harney <eharney@redhat.com>
Date:   Wed Feb 6 10:25:51 2013 -0500

    Create a RemoteFsDriver class
    
    This class holds common functions for drivers similar to NFS.
    
    Change-Id: I83d89c971fd0153df7702e2803bed66df1a759f6

commit 90971cd1026728d3061e13843d117e549c0be67c
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Feb 15 03:41:15 2013 +0000

    Fix ordering of function args
    
    Previous change swapped context and type-id params in function
    declaration.  Put it back.
    
    Also, no reason for storing the qos dict in the parameters, if
    it's stored then we continuously have to update it, remove that
    for now and come up with a cleaner method later.
    
    Change-Id: I0820a48660bdfd0481be3681e33d7e2ff3246bb1

commit 9627e6db42a5dbf0db5aebfc363cf5d1156a2f06
Author: john-griffith <john.griffith@solidfire.com>
Date:   Thu Feb 14 12:00:47 2013 -0700

    Add an ID to temporary volume snapshot object
    
    The create_cloned_volum method creates a temp snapshot and
    when it's done it uses the standard snapshot_delete method
    in the LVM driver.
    
    A change was added that logs a statement using the object[id],
    but we weren't actually setting this on our temp object so we
    would get a trace fo key DNE.  This change adds an id key to
    our temp object.
    
    Fixes bug: 1125457
    
    Change-Id: I4d886f2738a3c394a3a3a6373045669cf6bf8aaf

commit d17cc23c648f98d0764748e9007ff4b8742e6572
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Sat Jan 26 02:18:03 2013 +0800

    Allow create_volume() to retry when exception happened
    
    Due to the fact that certain volume back-ends cannot easily report
    simple total_capacity_gb/free_capacity_gb for their internal
    implementation complexity, scheduler is updated to let those back-ends
    who report unclear capacity pass capacity filter, thus there is chance
    create_volume() request would fail. In a more general case, when a
    volume back-end failed to serve create_volume request for whatever reason
    it'd be good that we have a mechanism to 'retry' the request.
    
    So the idea is when volume manager catches the exception from
    driver.create_volume() call, it checks if the request is allowed to be
    rescheduled (requests that are not: clone volume and create volume from
    snapshot while 'snapshot_same_host' option is true), it composes a new
    request back to scheduler with additional information to mark this specific
    back-end has been tried (so that scheduler may choose to skip this back-end
    if needed).  Scheduler is (filter scheduler only, simple and chance
    scheduler is not supported) is updated as well so that it only retry
    scheduler_max_attempts times.  In order to skip/rule out previously tried
    back-ends in next schedule task, a new RetryFilter is added.
    
    Changes:
    1) volume RPC API create_volume() is updated with new parameters
    to save original request information in case rescheduling is needed.
    This bumps volume RPC API to 1.4.
    
    2) implementation of create_volume() method in volume API is
    refactored in order to distinguish if a request is allowed to
    do reschedule (i.e. currently create volume from source volume
    bypasses scheduler, not rescheduling is allowed).
    
    3) add reschedule functionality in create_volume() of volume
    manager so that it's able to send the request back to scheduler.
    
    4) add schedule_max_attempts config option in scheduler/driver.py
    
    5) add RetryFitler
    
    6) change scheduler_driver default option to FilterScheduler
    
    Change-Id: Ia46b5eb4dc033d73734b6aea82ada34ba5731075

commit 2a9fbd76db025c4badb7eed43128db2c59eaeea5
Author: Navneet Singh <singn@netapp.com>
Date:   Thu Feb 14 05:20:03 2013 -0800

    Fixes the provisioning on selected volumes for NetApp 7 mode.
    
    The current direct driver for 7 mode provisions openstack
    volume on all NetApp 7 mode volumes mixing openstack volumes
    with all non openstack volumes. This fix allows volume selection
    by the user to keep openstack volumes separate from non opnestack
    block storage entities.
    
    bug 1132834
    
    Change-Id: I77b78ce304e72482724b6ff7c52795c60992243e

commit 029435c9288d82dee5dd1113c3553ddb5b97c740
Author: Josh Durgin <josh.durgin@inktank.com>
Date:   Tue Feb 12 18:18:39 2013 -0800

    rbd: update volume<->image copying
    
    Use fetch_to_raw() to convert from any format when
    copying an image.
    
    Fix two bugs in copy_image_to_volume():
     1) use rbd format 2 if supported
     2) resize to match the expected volume size
    
    Also implement copy_volume_to_image().
    
    Change-Id: I5589666c33ead087876e850363ad869050120882
    Signed-off-by: Josh Durgin <josh.durgin@inktank.com>

commit 275ce2d171d847ede99162a3dbf85d87999a7298
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Wed Feb 13 10:18:15 2013 +0000

    Fix PEP8 violation
    
    There was a PEP8 violation in cinder/tests/test_solidfire.py, thus
    ./run_tests.sh was failing. This patch fixes the error.
    
    Change-Id: I444fbfa57550db5c75b80683054c0ca44f4ee657

commit 6f37954f349c0bd5a73bf0bd2512bc7f2a6f519d
Merge: 33fc77d 627dc20
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 13 08:19:43 2013 +0000

    Merge "add postgresql opportunistic testing"

commit 33fc77dfe2e7066af2c07d1f378c87b62e5c64ef
Merge: 26bd5f2 3edcec0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 13 08:19:37 2013 +0000

    Merge "make test_databases instance variable"

commit 26bd5f2f523d185e65683a5e91228edf50b48ca8
Merge: 67ce16b 61a2b36
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 13 08:19:34 2013 +0000

    Merge "v2 volume/snapshot create will correctly give a 202 response"

commit 67ce16bf406902c96a6faabf1647c1bc67efedab
Merge: 015f2a2 aba2280
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 13 08:19:25 2013 +0000

    Merge "NetApp direct to filer drivers for iscsi and nfs."

commit 4ca3b5315a27b96108bc782518b5ce9e6ef552e4
Author: Mike Perez <thingee@gmail.com>
Date:   Mon Feb 11 22:49:26 2013 -0800

    Update snapshot rest api to be consistent with volumes
    
    display_name becomes name and display_description becomes description in
    both parameters to pass in requests and keys returned from responses.
    This does not update the snapshot model as it takes the same approach
    with updating the volume rest api.
    
    Change-Id: I413b5f87882a216b7a847fb12c31f5e5ed91510b

commit 015f2a2f2ec2d0d2d92273c0958aa918d38c5086
Author: Mike Perez <thingee@gmail.com>
Date:   Mon Feb 11 00:00:16 2013 -0800

    change display_description to description in volumes
    
    Rest v2 api volume responses key display_description changes to
    description to be consistent with other modules and projects.
    
    Change-Id: Ibafa2865c6c4a73fc1cf4694ae77a6709fd2e6e5

commit 61a2b3673402f8be8ac97cc7616f610d657d29a4
Author: Mike Perez <thingee@gmail.com>
Date:   Sun Feb 10 12:34:44 2013 -0800

    v2 volume/snapshot create will correctly give a 202 response
    
    Before it was giving a 200 response. Since the request was received fine
    but still has to process things, this is a more correct response. In
    addition this is more consistent with other OpenStack project create
    rest api calls.
    
    Change-Id: I4f29cda7638c257c9cb5be7a5edf2bc4c48626d8

commit 627dc2068345b2cea7014ac9293e7ae881380ac7
Author: Sean Dague <sdague@linux.vnet.ibm.com>
Date:   Sat Feb 9 17:22:22 2013 -0500

    add postgresql opportunistic testing
    
    sync _reset_databases from nova, which is needed for working
    postgresql. Add opportunistic testing for postgresql, which will
    run in CI.
    
    Change-Id: I8166c2f723cabc5c5c07c7babaec8ffed5cee650

commit 3edcec0f48329bfbca0b70b747798ec22b8a0156
Author: Sean Dague <sdague@linux.vnet.ibm.com>
Date:   Sat Feb 9 10:10:03 2013 -0500

    make test_databases instance variable
    
    eventually we'll need to do this to allow for testr testing, but in
    doing so this also exposed that sqlite downgrade of source_volid
    didn't work when data was in the table (sqlite just happily ignored
    the drop, then failed when trying to added the column for a second
    time during the snake walk.)
    
    This fix also adds the correct sqlite downgrade path for migration
    005 to actually drop source_volid, but ensure we don't loose any
    other data in the process.
    
    Change-Id: I082b53e108c4d564e33ef79979ea8c1642afdbcd

commit 835fb61442b9b2737a6791e1a46e6d3a01fa0e6b
Merge: 9b9a0b1 b8d7170
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 7 18:04:17 2013 +0000

    Merge "Allow disabling of long-lived SSH connections."

commit 9b9a0b154b9106e71074459e005315ac993f08e3
Merge: 5347b2d 033d21f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 7 17:57:49 2013 +0000

    Merge "Move create_cloned_volume() to LVMVolumeDriver."

commit 5347b2d79f32cefccc1c02014c06914ca0534863
Merge: 54f83e1 25e5509
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 7 17:32:36 2013 +0000

    Merge "XenAPINFS: Copy volume to glance"

commit 54f83e1842c94ee7ee905bb33434bd052f095912
Merge: c8a4096 b390454
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 7 15:50:17 2013 +0000

    Merge "Update to latest oslo-version code."

commit c8a4096b78788311c19e986cebb5515cb941b37d
Merge: 7d1bbc3 1d25f99
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 7 14:21:28 2013 +0000

    Merge "Allow for specifying nfs mount options"

commit 7d1bbc3f1a7859ddb6c476579d358b32cd17eb48
Merge: 13a84d6 cb417e2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 7 13:30:18 2013 +0000

    Merge "Don't require importing paramiko for error."

commit 13a84d661f09f865d8b9fedcd1672eaf7ee18580
Merge: 45a02d7 c1f4c93
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 7 12:43:58 2013 +0000

    Merge "rework migration 004 testing with real data"

commit 45a02d706677e1440296945a4011c9d5ab19674e
Merge: bc6ea76 a84c910
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 7 12:43:54 2013 +0000

    Merge "XenAPINFS: Copy image from glance"

commit bc6ea7623415d95cc3c75051657be4db3ce904af
Merge: 30ba792 87b1cdc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 7 12:29:15 2013 +0000

    Merge "Allow tools/install_venv_common.py to be run from within the source directory."

commit 033d21f6f0a93ab664d7615e2c71486c7fbce03a
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Thu Feb 7 11:11:03 2013 +0200

    Move create_cloned_volume() to LVMVolumeDriver.
    
    The implementation of create_cloned_volume() that was in driver.py
    relied on functions that aren't declared there, such as
    _create_volume(), _copy_volume(), and _sizestr().  Moved the function
    to LVMVolumeDriver in lvm.py, where those functions exist.
    
    Change-Id: I5ab77a119b3af0a152a3b5e0c2ff6a5ce196ad0f
    Fixes: bug #1112485

commit b390454b6d26b5dc4b26e115aecbcfa0bcca2bdc
Author: Monty Taylor <mordred@inaugust.com>
Date:   Sun Feb 3 11:33:33 2013 +1100

    Update to latest oslo-version code.
    
    In prep for tag-based versioning, update to latest oslo-version code.
    
    Change-Id: Ic5046006919e20247481fa1ddbde2dfd456b188a

commit 30ba792859eaae4967ebe5084b6c4c489a8f3e5d
Merge: 5d33cf0 f32253f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Feb 7 08:22:00 2013 +0000

    Merge "Add volume_glance_metadata to volume.api.get"

commit b8d7170711770684b44c5d37088a29c6b0c3e3a3
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Wed Feb 6 23:04:15 2013 +0200

    Allow disabling of long-lived SSH connections.
    
    Currently, SSHPool connections are kept alive indefinitely.  This can
    be good for many cases, but sometimes it is not desirable.  For
    example, this causes unit tests which use SSH to not complete because
    of the open connections.  This patch allows users to revert back
    to paramiko's regular timeout policy.
    
    Change-Id: Ifa96508b38d90610390c9ec3d48a7de75d02f08b

commit 5d33cf07c78141ae91da3fed48f59dd271b51ab0
Merge: da5bfac f884278
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 6 20:22:41 2013 +0000

    Merge "Copy glance_image_metadata when cloning volumes."

commit cb417e2be13d061d123b448eaed7c1e4c18d6748
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Wed Jan 23 13:55:51 2013 +0200

    Don't require importing paramiko for error.
    
    The _run_ssh function raises a paramiko exception, which requires
    functions that use it to import the paramiko class. This should be
    hidden away, and so I created a new exception in its place. Nobody
    but the Storwize/SVC driver use it anyway, and I am updating that
    driver in a separate patch.
    
    Change-Id: Ibf353edc664765897a5fa7a08d126de4b8992863

commit 1d25f99f401c65ce63e68d03815fb69b3a852de6
Author: Rafi Khardalian <rafi@metacloud.com>
Date:   Sat Feb 2 23:01:54 2013 +0000

    Allow for specifying nfs mount options
    
    Fixes bug 1113042
    
    Adds a new config option:
        nfs_mount_options=None (Default)
    
    When not None, anything set here will be passed as -o <options> to
    the mount command. The default behavior is to do exactly as we are
    doing today and relying on the OS/kernel defaults.
    
    Change-Id: I6bd27f9d0e8848a9ba98318ba7288e43ee6b4cb9
    Flags: DocImpact

commit da5bfac8c92081c4146ace0fc93cb80f17c41ad6
Merge: a4518fe 5542c01
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 6 08:53:34 2013 +0000

    Merge "add data injection on migrations"

commit a4518fe42a8c85c5b9fbfcb80e0eb4ff930ec951
Merge: 0be235e aade297
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 6 08:53:32 2013 +0000

    Merge "Update some Oslo Packages"

commit 0be235e7f5c6f57a2f46288d00a40becf2afb1e7
Merge: 894fdb0 38dd659
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Feb 6 02:39:35 2013 +0000

    Merge "sync database connect changes from nova"

commit c1f4c93a6112506c9bb7abb979c41f955ab8484b
Author: Sean Dague <sdague@linux.vnet.ibm.com>
Date:   Tue Feb 5 18:12:29 2013 -0500

    rework migration 004 testing with real data
    
    tests that 004 works with real data.
    
    Fix downgrade issue where id conversion needed to happen prior to
    the schema definition change.
    
    Fix pep8 E12* items
    
    Change-Id: I216d649bf081a6d70321e72e06357ef5a729a998

commit 87b1cdc164856bf32dee403c6eab19e2f7f1efab
Author: Davanum Srinivas <dims@linux.vnet.ibm.com>
Date:   Tue Feb 5 20:54:43 2013 -0500

    Allow tools/install_venv_common.py to be run from within the source directory.
    
    (Copy latest update from oslo)
    
    Not doing this raised exceptions when it tried importing modules
    that didn't exist in the path.
    
    Fixes LP# 1112484
    
    Change-Id: I2be7bde0bf873a22318617b987a76b209caef22a

commit 894fdb074eea0d0cfb8488e1904543abd207493f
Merge: cb070fc da25b7b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 5 23:35:20 2013 +0000

    Merge "Update 3PAR driver"

commit cb070fcf7056c79ae8a02b583aa0ff67dc309421
Merge: 4bfd8ce f2b94c0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 5 23:05:05 2013 +0000

    Merge "Add unit tests for ISCSIDriver._do_iscsi_discovery and ISCSIDriver._get_iscsi_properties"

commit 5542c012f80696fbb60c3604491ac705f76eb656
Author: Sean Dague <sdague@linux.vnet.ibm.com>
Date:   Tue Feb 5 07:28:22 2013 -0500

    add data injection on migrations
    
    bring over the data injection from migrations from nova, which allows
    us to inject sample data at every migration in the walk_versions, and
    run a check after the migration to make sure that things look as we
    expected.
    
    Change-Id: I8b1d36f1363c12768dea228a3ecfafc1b919f083

commit 38dd6591b91362a3862a2c05a12409e8f3a08285
Author: Sean Dague <sdague@linux.vnet.ibm.com>
Date:   Tue Feb 5 07:20:32 2013 -0500

    sync database connect changes from nova
    
    bring over the changes from nova that let opportunistic testing
    work on pg as well as mysql. Preparitory for data injection changes.
    
    Change-Id: I368f8645cf1be477c25b0fbd1d35cff8859b615a

commit 25e5509d0e83c5675768de8b4a1d824494180024
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Tue Feb 5 13:11:50 2013 +0000

    XenAPINFS: Copy volume to glance
    
    related to blueprint xenapinfs-glance-integration
    
    This patch enables to upload XenAPINFS backed cinder volumes to glance
    by using the nova glance plugin.
    
    Change-Id: Ie41aa6871fec691556b82501ce3bfdf50898471d

commit a84c910c4e4fe3e60c5fc0e8d82658e8ec8bfd1a
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Fri Jan 25 14:44:08 2013 +0000

    XenAPINFS: Copy image from glance
    
    related to blueprint xenapinfs-glance-integration
    
    This change is using the glance xenapi plugin to copy a glance image to
    a xenapinfs backed volume. It slightly differs from the reference
    implementation, as this implementation is composed of three steps:
    - create volume
    - overwrite the created volume with the one downloaded from glance
    - resize the volume
    As opposed to fill the bytes from glance to the created image. This
    approach works more effective with XenServer type semi ovf tgz -ed vhds.
    
    Change-Id: I2345f6bb355aa285eee0455380c580e4724f004e

commit 4bfd8cee7da9ecbc4c00b41525711895aa815bdf
Merge: 5d13878 b4bdd8e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 5 17:50:29 2013 +0000

    Merge "Fix provider_location column add for PSQL"

commit 5d138780e42fa7427497e01c6e2f8da6fa355a4e
Merge: 9c9fec9 31b938e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 5 17:50:24 2013 +0000

    Merge "Fix inability to delete volumes in error state for NetApp driver"

commit 9c9fec9e8c09d0058ff89c99e34d5e15aff06841
Merge: 4275a23 f583551
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Feb 5 16:21:14 2013 +0000

    Merge "Mark password config options with secret"

commit 31b938eae00d5a023bff14567a290eb27de441f9
Author: Rushi Agrawal <rushi.agr@gmail.com>
Date:   Fri Feb 1 23:46:58 2013 +0530

    Fix inability to delete volumes in error state for NetApp driver
    
    While using NetApp 7-mode storage box to create volumes, if the volume
    is not created on the storage box (possibly due to wrong/missing
    options in cinder.conf file), the volume goes in error state, and when
    one tries to delete the volume, an exception was raised which made
    the volume go in error_deleting state, which is unrecoverable. This
    commit quiesces that exception, resulting in successful removal of the
    volume entry from the volume table.
    
    Fixes bug 1090167
    
    Change-Id: I0a25b71ad03e7f7acf58df3952e074ff164b82ff

commit f8842781cdc7a7a2a82333f3f728e0dfac30a501
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Feb 4 17:54:56 2013 -0700

    Copy glance_image_metadata when cloning volumes.
    
    When cloning a volume we were not capturing/copying
    the glance_image_metadata from the source volume.
    
    This change implements a copy_image_metadata_from_vol_to_vol.
    So now we can clone bootable volumes without going back to glance
    or messing with them otherwise, they're just ready to be booted.
    
    Fixes bug: 1115634
    
    Change-Id: I859bb2550267c6a5142e85ec89f1c7ff885588ac

commit f32253f7391da22b6d69a4afebda5cdd99bb40d3
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Feb 4 16:18:29 2013 -0700

    Add volume_glance_metadata to volume.api.get
    
    The dict(rv.iteritems()) agains the volume object from
    volume.api.get does NOT set the volume_glance_metadata k/v.
    
    This is used to show bootable in the show and list api calls,
    the result was that list properly reflected the bootable status
    of a volume, however show would always describe the flag as False.
    
    So we simply check if the rv includes the glance_metadata and if
    so go ahead and create the entry in the volume dict.
    
    Fixes bug: 1115629
    
    Change-Id: Ia0be08f3d2c85b7fe8390fca264803c96cdce7f7

commit 4275a23af9950ba607d703243e3c6a1592286e93
Author: Thierry Carrez <thierry@openstack.org>
Date:   Tue Jan 29 14:58:07 2013 +0100

    Import Oslo's common rootwrap to Cinder
    
    Import oslo-incubator's rootwrap, which contains all the new
    features and bugfixes that were pushed to nova-rootwrap earlier
    in this cycle, including logging support and path search.
    
    Implements bp: cinder-common-rootwrap
    
    Change-Id: I68cbb788a3dda58dc146933be190146607b48801

commit f583551ea65f2fdc4744acfce99812bd38ca3df7
Author: Michael J Fork <mjfork@us.ibm.com>
Date:   Mon Feb 4 14:51:29 2013 +0000

    Mark password config options with secret
    
    Config object supports masking values when writing out if the secret
    flag is set on the option definition.  This change flags all cinder
    options containing a password.
    
    Change-Id: Ia0b203417774797c1fe1eaf2946453c9b2509b98

commit 534eb08e78c4bbc35e5f17587a521e1f616db744
Merge: 8735b8d 98fa684
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 4 06:28:32 2013 +0000

    Merge "Skip tests if cinder is not installed"

commit 8735b8d05306a548181feb44ffac65f4171ef5b7
Merge: be7167d b1764fd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 4 06:28:30 2013 +0000

    Merge "Fixes 'not in' operator usage"

commit be7167d6a7752815aed9bd27f6403322fdb84695
Merge: 31e4816 eeb6f8c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Feb 4 05:25:36 2013 +0000

    Merge "import tools/flakes from oslo"

commit b1764fdc8351fa653644bf01812adc6281348ab2
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Thu Jan 31 14:58:50 2013 +0800

    Fixes 'not in' operator usage
    
    Change-Id: Id4c83e32f6dcb4f710c5a8d8b6f130038cf07648

commit 98fa684a048fa7a1f16ebc416fb0101ba0525ac4
Author: Chuck Short <zulcss@ubuntu.com>
Date:   Sat Feb 2 19:22:18 2013 -0600

    Skip tests if cinder is not installed
    
    The test_capacity_filter_passes_infinite and test_capacity_filter_passes_unknown
    tests were failing when cinder is not installed. Skip the tests like the other
    tests for test_host_filters.
    
    Change-Id: I5ebfa2dca05b6e89a12e3153598bf4699da888de
    Signed-off-by: Chuck Short <zulcss@ubuntu.com>

commit b4bdd8e20b82f8016030037712094f257af9221f
Author: john-griffith <john.griffith@solidfire.com>
Date:   Fri Feb 1 19:21:18 2013 -0700

    Fix provider_location column add for PSQL
    
    Migration 006 (commit 690cae58e6bbac5758ea2f7b60774c797d28fba5)
    didn't work properly for postgres,
    this patch corrects the upgrade by ensuring the execute
    is performed and the value is initialized to None.
    
    Since we haven't released a milestone etc with this migration in the
    code it should be safe to just fix it here and submit.
    
    Change-Id: I10a09aed3470c35c8ebbe22f29aa511592167c35

commit da25b7b86dcae00cb380ce5fb9a208b8f7a171a3
Author: Kurt Martin <kurt.f.martin@hp.com>
Date:   Fri Jan 11 17:13:43 2013 -0800

    Update 3PAR driver
    
    Added support for get_volume_stats()
    Add sanity checks for:
        Ensure the CPG lives in the Domain that's configured.
        On 3PAR systems, the create volume from snapshot has to be
        the same size. The driver now checks to make sure that they
        are the same size.
        Now using volume and snapshot id's instead of the names.
        Checking for optional fields before using them(i.e. description).
        Added a new method get_ports() to gather the active array ports.
        Fixed inline comments, added a space between the comment and # sign
    
    Change-Id: Ie2aed38c6349bb5ee8bbea4d0928cd606427a26f

commit 31e481667db8b98442f69b478b8aa4a18437b191
Author: john-griffith <john.griffith@solidfire.com>
Date:   Thu Jan 31 22:38:51 2013 -0700

    Fix the generalized copy_image_to_volume operation.
    
    The Generis iSCSI copy volume<->image patch
    (change: Iff097629bcce9154829a7eb5aee0ea6302338b26) did
    not account for the fact that the existing volume reference
    passed in to the copy method would not have the updated
    provider_location and iSCSI info available.
    
    To address this, we simply just get a new ref from the DB
    after creation if a copy image is requested.
    
    Also, the list of acceptable formats was not fully inclusive,
    not only that, but there's no reason to not let the qemu-convert
    handle any errors here.
    
    Change-Id: I7b1910080d285562c7f2d8afa7f65768b1089b73

commit 03f759c4ad28b30574168adb94d7f9a7b4cd3dc2
Merge: 9220cf7 54448d5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 1 01:52:39 2013 +0000

    Merge "Set source volume to "in use" during clone"

commit 9220cf75315f392f044dd6e10da64be0f11dfded
Merge: 1bb75dc ee9d30a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Feb 1 01:04:22 2013 +0000

    Merge "Allow volume back-end to report 'infinite' or 'unknown' as capacity"

commit 1bb75dced548069de924a9c04b8070015bbc85db
Merge: d0cc4e4 f02c575
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 31 22:57:57 2013 +0000

    Merge "Check for non-default volume name template."

commit eeb6f8c77f199028f15bd094a48bb0ceb490b9bf
Author: Joe Gordon <jogo@cloudscaling.com>
Date:   Wed Jan 30 13:33:31 2013 -0800

    import tools/flakes from oslo
    
    Change-Id: Iac52a0cc48de9f29a91545e319c144e3f935799d

commit f2b94c0607dc521d38a95d93312325873e7abf63
Author: Lucas Alvares Gomes <lucasagomes@gmail.com>
Date:   Thu Jan 31 00:16:15 2013 +0000

    Add unit tests for ISCSIDriver._do_iscsi_discovery and ISCSIDriver._get_iscsi_properties
    
    Change-Id: Id62124247e264a248ca071d45c03969ee75a31d3

commit d0cc4e48d2746326af7594ecca3f02691ac4f544
Merge: cfd4c39 31adf9a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 31 07:13:20 2013 +0000

    Merge "Clean up QTree when deleting volume on NetApp storage box."

commit cfd4c3941efd0a6a2f5c73e5c7d775546cbe8404
Merge: f84b5a3 ff3b905
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 31 07:13:18 2013 +0000

    Merge "Update osapi_volume_extension default."

commit f84b5a3158e6abd94cd2ae9c4b74688ad5615003
Merge: f619d70 8960e4d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 31 06:38:57 2013 +0000

    Merge "Fixes "is not" usage"

commit f619d700336f074226c77a88871c486335c1382b
Merge: 342e11b f441b64
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 31 06:32:10 2013 +0000

    Merge "Use install_venv_common.py from oslo."

commit 8960e4d33c73d79778aa02cfed0c7691a3b7e158
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Thu Jan 31 10:31:51 2013 +0800

    Fixes "is not" usage
    
    Fixes bug #1110987
    
    Change-Id: Iafa9fc548deaf03c229cc9144d85e6c68b3101be

commit 342e11b9129bc646be96b727ad87281ae169644d
Merge: 04b1e3c 6b8ba71
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 30 18:06:36 2013 +0000

    Merge "Implement LVM thin provisioning support."

commit 04b1e3cdce7f7f9d69fb06fc52cde6a82e41aa5d
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Wed Dec 19 14:56:11 2012 +0800

    Pull cfg module from Oslo and update cinder-manage accordingly
    
    New cfg module abandons previous disable_interspersed_args() and
    recommand to use add_subparsers from argparser module instead.
    This patch pull cfg module from Oslo and update the affected
    cinder-manage utils.
    
    Change-Id: I8913fafb8fdb19b3fe0a695a70c8b1e8f59c1027

commit e724f95bd5b9d5d407e4398d5523e55868751aee
Merge: 712f210 9be3801
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 30 05:30:07 2013 +0000

    Merge "Check for installed cinder in filter tests."

commit 712f2102a1d5afa5b8d7857bd49026fbe3839fd7
Merge: 0de2098 949291c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 30 04:31:56 2013 +0000

    Merge "Generic iSCSI copy volume<->image."

commit 0de20981289396238b4e60a57ccf9df806c527f5
Merge: 0f8ad21 b79e1f4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 30 01:53:35 2013 +0000

    Merge "Fix typo in cinder/db/api.py"

commit 0f8ad21807e3dcf5f38083c0cb9f227ce7a982c1
Merge: d66ea53 4206954
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 30 01:42:11 2013 +0000

    Merge "Replace CRLF with unix-style "LF""

commit 54448d5bf8f7ce06f0fb8ffd8c53f8b4cef67f25
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Tue Jan 29 11:52:46 2013 -0800

    Set source volume to "in use" during clone
    
    When we are cloning a volume, we now set the source volume's status
    to 'in use'. This prevents a user from deleting the source volume while the
    backend copies/clones the contents to the new volume.
    When the cloning is complete, we reset the status to it's original
    state.
    
    Change-Id: Ie43345aba77df4671ed2b429645cf8d1af9b975b

commit aade297c9bc8b24defd8e42e939f717083ed6f2e
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Tue Jan 29 09:32:41 2013 -0800

    Update some Oslo Packages
    
    I exluded packages that caused unit tests to fail.   We'll have
    to tackle those individually.
    
    Change-Id: I24c9c29decf1f171a214a837e69fc47d7e763a92

commit b79e1f485c85cbb16280adc8d590886e25694c87
Author: Ollie Leahy <oliver.leahy@hp.com>
Date:   Tue Jan 29 11:25:27 2013 +0000

    Fix typo in cinder/db/api.py
    
    The api method quota_destroy_all_by_project() calls the implementation
    quota_get_all_by_project()
    
    Change-Id: I11927e1fd29c6248ce755dfd236bf0f9adf39d94
    Fixes: bug #1108766

commit 420695498c7240ef66a0dda65651a8b9d5d6969c
Author: Dirk Mueller <dirk@dmllr.de>
Date:   Tue Jan 29 09:58:50 2013 +0100

    Replace CRLF with unix-style "LF"
    
    Seems to be more welcome, see e.g.
    http://lists.openstack.org/pipermail/openstack-dev/2013-January/004549.html
    
    Change-Id: I35e0fac4bbfc2fdf2dd9c56c264209e0c3a20cee

commit ee9d30a73a74a2e1905eacc561c1b5188b62ca75
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Tue Jan 29 01:12:31 2013 +0800

    Allow volume back-end to report 'infinite' or 'unknown' as capacity
    
    For some reason, some volume back-ends cannot report actual capacity
    that is available or even total capacity (e.g. thin-provisioning),
    Cinder should allow such capability report and make placement/schedule
    decision based on these status.
    
    In particular, we agree to use 'infinite' to mark unlimited space and
    'unknown' to mark unknown/unclear space.  Host manager and CapacityFilter
    are updated accordingly to allow such capacity.  For those back-ends
    report 'infinite' or 'unknown' capacity, CapacityFilter will let them
    pass to give them a chance to try.  Even if failure happened, the retry
    mechanism should take care of the case.
    
    Change-Id: I6871a28745111b1878a606372e6edd664f0ea10c

commit d66ea53e82e862e9660163541c2453e2e3bd104b
Author: john-griffith <john.griffith@solidfire.com>
Date:   Mon Jan 28 20:28:14 2013 -0700

    Wrap SolidFire size parameter in int.
    
    SolidFire API requires that volume size is specified as
    an int value, ensure an int is provided by wrapping in int()
    
    Change-Id: If251ce2a7095f32aa2a59bb6cc767a4136c5f88c

commit f441b64e1e57c5642e5471442a66217f68a55bef
Author: Matthew Treinish <treinish@linux.vnet.ibm.com>
Date:   Mon Jan 28 13:02:50 2013 -0500

    Use install_venv_common.py from oslo.
    
    This syncs install_venv_common.py from oslo and reworks the
    tools/install_venv.py script to use the new library.
    
    Change-Id: Ia271de047cc80e462fa0850cd8d626d2da777dff

commit ff3b90522b0c6f02d71dc5fdea7092fcf498cd3a
Author: Dan Prince <dprince@redhat.com>
Date:   Mon Jan 28 10:44:57 2013 -0500

    Update osapi_volume_extension default.
    
    Updates the Cinder config default for osapi_volume_extension
    so that it only uses the new cinder.api.contrib.standard_extensions
    loader.
    
    Previously both the new and old extension loader path were listed
    which can cause extensions to be loaded twice thus causing
    log WARNINGs to appear in the Cinder API log file.
    
    Also, regenerates the cinder.conf.sample to reflect this change.
    
    Fixes LP Bug #1107963.
    
    Change-Id: I4e060fc8dcc49d8285e0e7db57489d10aa6d193a

commit 949291c3e59ea922cf6acb6a23ade5fcd65087d0
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Wed Jan 16 16:19:40 2013 +0200

    Generic iSCSI copy volume<->image.
    
    Implements a generic version of copy_volume_to_image and
    copy_image_to_volume for iSCSI drivers.
    
    Change-Id: Iff097629bcce9154829a7eb5aee0ea6302338b26
    Implements: blueprint generic-iscsi-copy-vol-image

commit 6b8ba716d2300add4f3d89b57501aaeee21bf59f
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Jan 11 14:38:23 2013 -0700

    Implement LVM thin provisioning support.
    
    As of LVM2 version 2.02.89 the ability to do thin provisioning
    was made available in LVM, this provides some cool new features
    but also addresses some problems with things like terrible
    LVM snapshot performance.
    
    Currently the version of LVM in Ubuntu 12.04 does NOT support LVM thin,
    however an experimental PPA from brightbox which is a backport from
    Quantal has been proposed to Cannonical to be pulled in.  For some
    users the experimental PPA is a better option than dealing with some of
    the current issues in the standard LVM2 version of Precise (including
    the dd hangs on secure delete). See BP for more info.
    
    This change will create the thin pool if it doesn't exist
    using pool_size flag, or by default using entire VG space.
    
    Implements BP: implement-lvm-thin-provisioning
    
    Change-Id: I8a30a1283e1992c64e8ac96841ae4a6f82f7018a

commit 602da5b06b7bd2b16079305d2b2b90f88301f675
Merge: 86a6133 ac7031b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 25 05:50:25 2013 +0000

    Merge "Fix hosts extension and enable its tests"

commit 86a61330f5b7cf204425bb69faacc56ab4ff1d63
Merge: a4ccddd 4c2cfaa
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 25 02:49:44 2013 +0000

    Merge "Update EMC SMI-S iSCSI Driver"

commit a4ccddd053702b73e01d0bcd49bdca62b7e46929
Merge: 5739ed1 2c84413
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 25 00:25:10 2013 +0000

    Merge "Get updated vol status in volume.api.reserve."

commit 9be3801e5bd3a73208485354d8370104792ef35c
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Jan 21 21:50:20 2013 -0700

    Check for installed cinder in filter tests.
    
    Some of the filter tests require that the cinder pkg is
    installed on the system, specifically cinder.egg-info/entry_points.
    
    This change check that the egg-info directory exists in the root
    cinder directory and determines whether to skip or not.
    
    Change-Id: I36145f170e802aed5dfae8eec4684e60ad3d6f2c

commit ac7031b1b61496086394340f6bf15677f24bd39b
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Fri Jan 25 01:21:44 2013 +0800

    Fix hosts extension and enable its tests
    
    This patch corrects the import in hosts.py, fix the DB API
    service_get_by_host_and_topic raises ServiceNotFound exception with
    right parameter and move tests to the right place so that they are
    enabled.
    
    Fix LP bug: #1104231
    
    Change-Id: I07c486f456196a3812eb5274b950ab9560a51cf3

commit 5739ed173e7f0bef903e7bc609bb87286bb4304f
Merge: 6c0bc85 0005745
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 24 07:14:29 2013 +0000

    Merge "Add LUN# to provider_location in Nexenta driver."

commit f02c575b4b28b69cade6c1c06dd772c62754fc9c
Author: John Griffith <john.griffith@solidfire.com>
Date:   Sun Jan 20 22:52:52 2013 +0000

    Check for non-default volume name template.
    
    The iscsi delete methods in iscsi.py had hard-coded volume names
    'volume-%s'.
    
    If a user configured volume_name_template to
    something other than default the result is failure to remove
    the iscsi_target.
    
    volume create worked appropriately and created the correct name
    in the DB, so the persistence files were the only thing affected
    or named incorrectly.
    
    Fixes bug: 1101071
    
    Change-Id: Id5575874b2cebd9b3509d739cb92abf06c503c4e

commit 6c0bc85b640af44010a77ce66262399caca91f62
Merge: 7978247 fee9b2a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 24 00:44:44 2013 +0000

    Merge "Fix error for extra specs update with empty body."

commit 7978247b209b5a6846eae991b56bcf98167fce0c
Merge: 4c2477e bf6f0d5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 24 00:07:51 2013 +0000

    Merge "Improve error message for missing NFS share config"

commit 4c2477ebb307ca207a374f961ad192664955a3f4
Merge: 7dc0cb5 0007d25
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 23 18:55:18 2013 +0000

    Merge "ensure zeros are written out when clearing volumes"

commit 7dc0cb5c7650481393ab5ab80b70565292d45211
Merge: 4e15bca 24a84d0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 23 18:37:26 2013 +0000

    Merge "Clean up IPV6 config checks in test_wsgi."

commit 2c84413c74e6481abe4af716ea12d8c75b405c25
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Jan 23 04:15:40 2013 +0000

    Get updated vol status in volume.api.reserve.
    
    A race condtion was discovered where a nova volume attach
    could easily be performed twice for the same volume.  Although
    the cinder attach update would fail, this occured after the BDM
    updates were made and in essence the attach to the compute instance
    had already been issued.
    
    This change simply forces a get from the DB of the volume-ref in the
    reserve call and checks if an attach is already in progress.
    
    Fixes bug: 1096983
    
    Change-Id: Ie0e4156d691ee92b6981078ef0ba62f8c4cdf0c8

commit 4c2cfaa985c57c14400d5c8604b4215c41a66f65
Author: Xing Yang <xing.yang@emc.com>
Date:   Thu Jan 17 16:33:47 2013 -0500

    Update EMC SMI-S iSCSI Driver
    
    Refactor EMC SMI-S based iSCSI driver.  There are lots of common code
    that can be shared between iSCSI and FC drivers using SMI-S.  Break
    the original emc.py into two files: emc_smis_common.py and
    emc_smis_iscsi.py.  Also added support for get_volume_stats() and
    create_cloned_volume().  get_volume_stats() will be revisited after
    winston-d's changes.  copy volume<->image will be revisited after
    avishay-il's changes.
    
    Change-Id: I90dc3599ec2fd5bb86a3e988111a8aee5de7efea

commit 4e15bcab84a58d2a9f5626984cfacb20d593d9fb
Merge: 846061e bd71987
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jan 22 10:53:10 2013 +0000

    Merge "Add capability to update volume metadata."

commit 31adf9abc57225fddd0f6d956f271f24bb8f576c
Author: Rushi Agrawal <rushi.agr@gmail.com>
Date:   Tue Jan 22 06:28:58 2013 +0530

    Clean up QTree when deleting volume on NetApp storage box.
    
    Previously, deleting a Cinder volume would leave a QTree on NetApp
    storage box. This commit fixes the issue.
    
    Fixes bug 1099414
    
    Change-Id: I95f1d6b802f4abfad421d34f1c000b75fb72c41e

commit 846061e526b95804c377718b084f144a79f16690
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Jan 21 17:57:04 2013 -0500

    Fix NFS volume creation
    
    NfsDriver uses an undefined method _sizestr.  This patch removes it.
    
    Change-Id: I7cd4d04f404a00c22021f3971eb9f9593c657896

commit bf6f0d5f368dd79e8e5a8883b9bb0d24d7434cf4
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Jan 21 16:50:31 2013 -0500

    Improve error message for missing NFS share config
    
    If FLAGS.nfs_share_config is not defined, the error will reference
    the name of the config option to set.
    
    If the nfs_share_config path doesn't exist, the error will reference
    the path that was configured.
    
    This will hopefully simplify troubleshooting of NFS configuration.
    
    Change-Id: Ica6a60a63330554dc880f36962f3a081926ce5cf

commit 0007d255d9b20da4e5bbcdbaf5813104fbc092da
Author: Pdraig Brady <pbrady@redhat.com>
Date:   Wed Jan 16 16:23:48 2013 +0000

    ensure zeros are written out when clearing volumes
    
    Note O_DIRECT is _not_ used when copying from /dev/zero
    and there are issues with enabling that (see 444cd542).
    Therefore we arrange to have dd issue an fdatasync()
    to ensure the data is persisted, lest it be discarded
    from the write cache when the device is unprovisioned.
    
    * cinder/volume/drivers/lvm.py (_copy_volume): Add 'conv=fdatasync'
    to the dd option list if O_DIRECT isn't used when clearing
    (which it won't as descrived above).
    
    Fixes bug: 1100363
    Change-Id: I76789557754ebaeb6d52bb34548a2ef17808fbf6

commit fee9b2ad61bb69d356e1280f0556afd808c5f128
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Mon Jan 21 10:19:02 2013 +0200

    Fix error for extra specs update with empty body.
    
    Fixes: bug #1090320
    Change-Id: Ia2792d477f7670ecb2eb0c9c10dcbf1cf5b2389e

commit 24a84d04e7e5fd06083a8e8ee383c0abaceeebc1
Author: john-griffith <john.griffith@solidfire.com>
Date:   Fri Jan 18 10:07:10 2013 -0700

    Clean up IPV6 config checks in test_wsgi.
    
    Two tests in test_wsgi require a configured IPV6 interface.
    We added a check/skip for this but it wasn't very graceful and
    didn't work on OS-X or platforms other than Linux.
    
    This patch implements the checks a bit cleaner using the skip_if
    decorator, and combines the linux/path check and configured interface
    check.
    
    Change-Id: I950fdfeb8135912faf5dcaabe52fb87abd73dd1e

commit bd71987bbf67715c8b84519b3ba3ac80552a901e
Author: john-griffith <john.griffith@solidfire.com>
Date:   Tue Jan 15 23:38:11 2013 -0700

    Add capability to update volume metadata.
    
    This addresses some cleanup and bugs with volume metadata updates
    on the cinder side.  Mostly this implements v1/volume_metadata api
    and adds things like propery checks to cinder.volume.api.update_volume_meta.
    
    NOTE: This is only for api V1, a seperate patch will be provided for
    V2 once this lands.
    
    The remainder of the bp will be implemented in a cinderclient patch to follow.
    Implement cinder side of blueprint update-vol-metadata
    
    Also fixes bug: 1096018
    
    Change-Id: Ie11931f657d3dcd69680fe5fcae435ff89549d97

commit 6cfe5f2a6d99c9fff9386794149b273bd2442bd1
Author: MORITA Kazutaka <morita.kazutaka@gmail.com>
Date:   Thu Jan 17 16:40:24 2013 +0900

    Fix sheepdog volume creation
    
    SheepdogDriver uses an undefined method _sizestr.  This patch removes
    it.
    
    Change-Id: Id157df5c4d69148257060926dbac7b5bc2804ee0
    Fixes: bug #1100655.

commit cd67c4dc8c4c52a7e7fc4f15dcbac44f44ba8c4f
Merge: e26653b 690cae5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 18 17:35:35 2013 +0000

    Merge "Snapshot support for XenAPINFS"

commit 00057454f6609871c2cabf874876d26a6d0d0641
Author: Yuriy Taraday <yorik.sar@gmail.com>
Date:   Fri Jan 18 17:44:22 2013 +0400

    Add LUN# to provider_location in Nexenta driver.
    
    Fixes bug 1088411. Lets Nexenta driver work with any iscsi_helper.
    
    Change-Id: Ib70ed94fa472c7281de077f0f36575216741678f

commit e26653b0ee23617d5b271384445eb39269f90838
Merge: 5e31dc7 ad45eb3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jan 18 01:11:37 2013 +0000

    Merge "Check for configured IPV6 before running tests"

commit ad45eb32a6be5b47b89508d3dfba409434a049e1
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Jan 17 16:30:32 2013 -0700

    Check for configured IPV6 before running tests
    
    Some folks don't/can't have IPV6 configured on their systems,
    the new IPV6 tests in test_wsgi require that you do, so
    let's add a check and skip if there are no IPV6 configured interfaces.
    
    Change-Id: I7cbdcbc3ad4cc4690634f6464d6e28d9f4dfd791

commit 5e31dc7982c26494644e769d25ab0cfa38c11685
Author: Eric Harney <eharney@redhat.com>
Date:   Thu Jan 17 16:21:54 2013 -0500

    New cinder.conf.sample format
    
    Based on recent changes in Nova, this provides a cleaner/simpler looking config file:
    
    - Move help message before each option, rather than after.
    - Print types like "string value" instead of "(StrOpt)"
    - Use fewer pound symbols
    
    Switch to a new format that looks much more like a normal config file.
    
    Change-Id: I69f9b7b84215a2a69bdb0c4af9d5e1cb1e105a45

commit d3324a35adc6bdba9b58a1bc2dbb6d9654e8936a
Merge: 7a58d2e 67c3006
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 17 18:49:10 2013 +0000

    Merge "Move iscsi flags back to driver.py"

commit 7a58d2ebaae8164abd20245f2608faa706b6f295
Merge: 1b27b38 2268705
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 17 15:36:54 2013 +0000

    Merge "Relax various version constraints."

commit 67c300604afa2d0c7e702f439fe1d4e45b90a7d8
Author: john-griffith <john.griffith@solidfire.com>
Date:   Wed Jan 16 18:49:07 2013 -0700

    Move iscsi flags back to driver.py
    
    During the lvm class create the iscsi flags were moved.
    This is NOT correct, the flags belong with the ISCSI class
    and should have been left in driver.py where ISCSIDriver
    is defined.
    
    Moving these breaks the inheritance structure for all those that
    inherit from ISCSIDriver.
    
    Change-Id: I1fda9158d9f8f01005875b87265d2dd87bcbc67f

commit 690cae58e6bbac5758ea2f7b60774c797d28fba5
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Mon Dec 31 15:52:18 2012 +0000

    Snapshot support for XenAPINFS
    
    Related to blueprint xenapinfs-snapshots
    
    Add support for snapshots, by implementing it with deep copies. Each
    snapshot is a copy of the volume. Snapshot object has a new,
    provider_location key, to store volume parameters.
    
    Change-Id: Iea06246319ce82d5fcfe417419156ec83ef0a895

commit 1b27b3835e4f24ba264a75ea4f979c837ec9b124
Merge: 8394b46 bb06ebd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 16 06:34:12 2013 +0000

    Merge "support a configurable volume wiping method"

commit 8394b468d5e25aaa0b58414effb837f961ec1d4f
Merge: 7dc70b3 7c6e8b8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jan 15 16:58:38 2013 +0000

    Merge "Update SolidFire Volume driver"

commit 7dc70b323b5aecb1345fc88104316f0c36eaea7d
Merge: a3bbe08 24d9610
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jan 15 16:53:42 2013 +0000

    Merge "Support for SSL in wsgi.Server"

commit a3bbe080213f240a90fb00e2031b93794dd3802d
Merge: 7905b6b b8fca65
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jan 15 16:50:29 2013 +0000

    Merge "Enhance wsgi to listen on ipv6 address"

commit bb06ebd0f6a75a6ba55a7c022de96a91e3750d20
Author: Pdraig Brady <pbrady@redhat.com>
Date:   Thu Sep 6 16:36:50 2012 +0100

    support a configurable volume wiping method
    
    Add a clear_volume() method that is called from delete_method().
    This is only implemented at present for the base LVM driver.
    This new clear_volume() method now supports these config vars:
    
      volume_clear = none, zero, shred
      volume_clear_size = size_in_MiB
    
    'zero' is the default method and unchanged from previously.
    'none' is used if security isn't a concern, or there is
      independent volume scrubbing.
    'shred' is for more security conscious situations where
    an overwrite count is required. Currently this defaults to 3 passes.
    
    size_in_MiB can be used to limit the cleared area to the first
    part of the volume, which can greatly speed up the operation,
    and can be useful with encrypted volumes for example where
    overwritting the encryption keys at the start is sufficient.
    
    Fixes bug: 1022511
    Change-Id: I7312678ff5d66156578501483a1b74e2a69e19a0

commit 2268705e7d044754064b38a5cd6e9ca0d07df729
Author: Sascha Peilicke <saschpe@suse.de>
Date:   Tue Jan 15 14:53:20 2013 +0100

    Relax various version constraints.
    
    The current 3rd-party module requirements for cinder are still from the
    nova git import. Usually, having an upper bound for requirements makes
    only sense where API-incompatible changes are expected (like WebOb). For
    the others it is better the only require a minimum version because
    usually distributions differ on the shipped versions of these Python
    modules. For instance, openSUSE has newer versions for almost all of
    those and running the testsuite there works flawlessly.
    
    Change-Id: I4614a2ea87084f927a557b9fb85dcd10ae9dfeff

commit 7905b6b233cf9013b3592ce25a1f9d81f88fd5ba
Merge: 5f41390 bf46a11
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jan 15 07:02:25 2013 +0000

    Merge "Upgrade WebOb to 1.2.3"

commit 24d961023f2a32ca3454991a7891199d2da796dc
Author: Davanum Srinivas <dims@linux.vnet.ibm.com>
Date:   Sat Jan 12 16:16:19 2013 -0500

    Support for SSL in wsgi.Server
    
    SSL are entirely optional. Support for SSL as well using code from glance. We
    have some new options for configuring the SSL support. There are tests for
    accessing a sample app w/o ipv6 or ssl, one with just ssl and one with
    ipv6 and ssl
    
    DocImpact
    
    Change-Id: I9aa1db6c9563868bf68ced7c4311daa870216ced

commit b8fca650b41e894d057a10970c6eec412716ff57
Author: Davanum Srinivas <dims@linux.vnet.ibm.com>
Date:   Thu Jan 10 11:26:03 2013 -0500

    Enhance wsgi to listen on ipv6 address
    
    Check if the hostname is ipv6 and set the family appropriately.
    Picking up the snippet from glance.
    Picked up some code from nova as well to get the test case running
    properly
    
    Change-Id: Ic79fcda2371f0907d75a142ea18b26b3e8d92e51

commit 5f41390dde7305e8374fe9bd193c396e6ea04350
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Wed Jan 9 09:31:19 2013 +0200

    Factor out LVM code.
    
    Currently volume drivers inherit from VolumeDriver and ISCSIDriver,
    which contain LVM-specific code. The LVM-specific functions are
    generally overridden. The problem is that there is no place for
    generic code for all drivers to inherit, which the LVM driver can
    override. This patch basically makes the VolumeDriver and ISCSIDriver
    classes mostly empty and moves the LVM-specific code to lvm.py. Also,
    moved the global _iscsi_location() and _iscsi_authentication()
    functions into the new LVMISCSIDriver class since nobody else used
    them.
    
    Change-Id: I067c975de97913bdc39086ad203cddef0c393c7a
    Implements: blueprint factor-out-lvm-code

commit 643f9169c4aae46f8c2ce0b8ad725c55946a4afd
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Sat Oct 6 00:08:09 2012 +0800

    Implement filter scheduler
    
    In order to do more sophisticated scheduling (e.g. schedule based on volume
    type), filter scheduler is introduced. Several changes are made to make this
    possible, some of them are similar to the counterpart in Nova:
    
    - add HostState class to host_manager in order to store volume capabilities
    - implement get_volume_stats() method of iSCSIDriver as an example to
    demonstrate how volume backend driver reports capabilities as well as status
    - add scheduler_options.py and 'scheduler_json_config_location' flag to be
    allow loading json configuration file for scheduler at run time
    - port common filters/weights from oslo
    - add capacity weigher (scheduler/weights/capacity.py) for picking up
    target volume backend by weighing free capacity of the host. The default
    behavior is to spread volumes across hosts; by changing the
    'capacity_weight_multiplier' to negative number, volume placing behavior will
    become stacking.
    - add capacity filter which filters those hosts have insufficient storage space
    to serve the request.
    - add 'reserved_percentage' config option to indicate how much space is
    reserved. Capacity reservation is needed when volume resize is enabled.
    - add 'publish_service_capabilities()' method to volume RPC API to allow
    scheduler to have volume service report capabilities. This bumps volume RPC
    API to version 1.2
    - remove 'volume_force_update_capabilities' config option, volume status will be
    report to scheduler in every checking.
    
    The implication of this change to storage/backend driver developer:
    - implementation of get_volume_stats() of the driver is now a *MUST*, filter
    scheduler heavily relies on the status/capabilities reported by backend driver
    to makeplacement decision.  To ensure Cinder works seamlessly on the storage
    system, driver should at least report following capabilities/status:
    ----------------------+---------------------------+---------------------------
      Capability/Status   |      Description          |         Example
    ----------------------+---------------------------+---------------------------
     'volume_backend_name'| back-end name, string     | 'Example_Storage_Backend'
    ----------------------+---------------------------+---------------------------
      'vendor_name'       | vendor name, string       | 'OpenStackCinder'
    ----------------------+---------------------------+---------------------------
      'driver_version'    | version, string           |  '1.0a'
    ----------------------+---------------------------+---------------------------
      'storage_protocol'  | supported protocols,      | 'iSCSI', 'RBD', 'FC', 'NFS'
                          | string or list of strings | ['iSCSI', 'NFS', 'FC']
    ----------------------+---------------------------+---------------------------
      'total_capacity_gb' | capacity in GB, integer   |  102400
    ----------------------+---------------------------+---------------------------
      'free_capacity_gb'  | available capacity in GB, |  1000
                          | integer                   |
    ----------------------+---------------------------+---------------------------
    'reserved_percentage' | reserved space in         |  0, 10
                          | percentage, integer       |
    ----------------------+---------------------------+---------------------------
    
    The implication of this change to Cinder administrator:
    - the default setting for filter scheduler should work well with the benefits
    of:
      * being able to fully utilize capacity of backends (driver now has to report
      actul total space and space utilization and scheduler uses these info) not
      limited by the 'max_gigabytes' config option any more;
      * being able to choose placement policy between spreading & stacking for
      volume creation (by modifying the 'capacity_weight_multiplier' in
      CapacityWeigher)
    - with filter scheduler, Cinder is now able to utilize the advanced features/
    capabilities provided by different storage back-ends via: defining different
    volume types with proper extra_specs. Volume types can be considered as sets
    of back-end capabilities requirement.
     For example, a volume type which has 'storage_protocol':'FC' key/value pair
    definition in its extra_spec can only be served by those back-ends who report
    they support FiberChannel protocol. Another example is volume type has 'QoS'
    requirement can only be served by back-ends support QoS.
    
    Note/TODO:
    * Currently scheduler makes its decision based on the status and capabilities
    information reported by volume nodes, and these information is stored in memory
    of scheduler process. More sophisticated way may be add on table in DB to
    record status/capabilities of all volume nodes, like Nova does for compute nodes.
    
    implement bp volume-type-scheduler
    
    DocImpact
    
    Change-Id: I296b3727db8de0d4cf085fac602d122a7b474842

commit 9e3a254f6d94a42b23f9f2dec85d6db5e19d380a
Merge: 141a4ca 28df9f3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 10 00:35:09 2013 +0000

    Merge "Revert "Implement filter scheduler""

commit 28df9f3de838e7b5eeb8461e15d0da11f95440d8
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Jan 9 23:55:26 2013 +0000

    Revert "Implement filter scheduler"
    
    This reverts commit 8dd2140c4c03582965d74232c7b61aef34e43661

commit 7c6e8b8487a72ac4f001a3267cbed3f7647c7bb7
Author: john-griffith <john.griffith@solidfire.com>
Date:   Mon Dec 31 16:16:19 2012 -0700

    Update SolidFire Volume driver
    
    Adds support for clone volumes and set QoS use volume type / extra_specs.
    Also includes some minor cleanup and some hardening for known pre-release
    XDB issue in SolidFire Cluster API.
    
    Change-Id: I4b39b301b9a1f9b859a694decfee48c74d22a74a

commit 141a4cab68cae6eef7f3fcc22b40e6c708e19126
Merge: c622cc7 8dd2140
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 9 09:59:11 2013 +0000

    Merge "Implement filter scheduler"

commit c622cc7a103e946726bd968a05990140dd1836b7
Merge: 9853972 027b78a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 9 07:28:18 2013 +0000

    Merge "Provide HP 3PAR array iSCSI driver"

commit 985397225ba942c086ffa6c5ab14a0d79c01e597
Merge: ba9604b c6f7f19
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 9 04:02:39 2013 +0000

    Merge "Use tempdir for lock_path in tests."

commit ba9604b0d8abe353926899eee2b072cd56e24262
Merge: cba4194 f791565
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 9 02:19:50 2013 +0000

    Merge "Enable cinder exception format checking in tests."

commit cba41944b54caf6e5bdd244c63c9e0f298fc2dfc
Merge: a3a28fe 3cb7ee4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 9 02:12:36 2013 +0000

    Merge "Update exceptions to pass correct kwargs."

commit a3a28fe010437878d17f0b31f51b9139873794a9
Merge: edb5491 a363c41
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 9 02:12:33 2013 +0000

    Merge "Add option to make exception format errors fatal."

commit 027b78a214e1f7ab7bbda342a024cb13dae8944d
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Tue Dec 18 14:16:33 2012 -0800

    Provide HP 3PAR array iSCSI driver
    
    implements blueprint hp3par-volume-driver
    
    We have the driver broken into 2 files:
    hp_3par_common.py and
    hp_3par_iscsi.py
    
    The reason we do this is because we have a fibre channel driver
    that will be submitted shortly after this is committed.   The
    fibre channel driver and the iscsi driver share a lot of the same
    code that talks to the 3PAR array for provisioning.  So,
    it made sense not to have duplicate code.  The fibre channel driver
    will be dependent on the fibre channel support I am actively working
    on for nova/cinder grizzly release.
    
    The driver uses a 2 mechanisms to talk to the 3PAR array:
    1) a python REST client (hp3parclient) that lives in the pypi
       repository here:
       http://pypi.python.org/pypi/hp3parclient
    
    2) SSH.  We had to pull in some of the ssh code from the base san
       driver to help fix an issue with executing commands on the 3PAR
       array.  The 3PAR has the ability to turn on CSV output for command
       results, which makes this easier to parse.  Unfortunately, there
       is no way to turn CSV mode on permanently for all ssh requests.
       So, we have to turn on the CSV output for every single ssh command
       issued.  Since we use ssh as well, we require the san_* options
       to be set.
    
    We use a dual mechianism because the REST API that ships with the 3.1.2
    firmware doesn't support all of the capabilities a cinder driver needs
    to export volumes.
    
    When a newer version of the firmware comes out that supports host
    management on the 3PAR array, then we will get rid of the SSH code.
    
    Change-Id: I9826ba1a36e27a9be05457ee9236a491dbfd0713

commit edb5491070f7a6bab257089e7b98278b68949cb1
Author: Dan Prince <dprince@redhat.com>
Date:   Tue Jan 8 14:00:09 2013 -0500

    Fix CinderClient exception name in EMCISCSIDriver.
    
    Change NovaException to CinderException in the emc driver.
    
    Change-Id: Id84ca2a354afc6a7b795aef779a9fdd2567ce0d6

commit f791565c5bff7b08bc10af538e54d0505457ef41
Author: Dan Prince <dprince@redhat.com>
Date:   Tue Jan 8 13:24:49 2013 -0500

    Enable cinder exception format checking in tests.
    
    Updates the Cinder test runner so that it enables
    'fatal_exception_format_errors' for testing.
    
    Includes a bunch of fixes to test exceptions as well so they
    will continue to pass.
    
    Change-Id: Idd30a810fb81e8e14490644779c3e03b6af25ff3

commit 3cb7ee45557ad68458bb96c3f4bcea1f796dcde9
Author: Dan Prince <dprince@redhat.com>
Date:   Tue Jan 8 13:23:15 2013 -0500

    Update exceptions to pass correct kwargs.
    
    Updates a variety of Cinder exceptions so that they pass the correct
    kwargs for proper exception message formatting. Previously
    these exceptions would work but have incorrect error messages
    because of how CinderException handled exception formatting errors.
    
    Change-Id: Id1d15b112cad46a698227fa172d81a9ab586e66e

commit a363c410a0900a113293b14fef5b3d14814cc05e
Author: Dan Prince <dprince@redhat.com>
Date:   Tue Jan 8 13:20:57 2013 -0500

    Add option to make exception format errors fatal.
    
    Adds a new fatal_exception_format_errors config option which
    defaults to False. This option is use to control how the base
    CinderException class handles errors which can occur when it
    formats error messages.
    
    The motivation for this change is to be able to enable exception
    format checking in our tests by setting fatal_exception_format_errors=True.
    
    Change-Id: I2df952558d3f30a557cbb094f8bddcc37af9b5aa

commit 8dd2140c4c03582965d74232c7b61aef34e43661
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Sat Oct 6 00:08:09 2012 +0800

    Implement filter scheduler
    
    In order to do more sophisticated scheduling (e.g. schedule based on volume
    type), filter scheduler is introduced. Several changes are made to make this
    possible, some of them are similar to the counterpart in Nova:
    
    - add HostState class to host_manager in order to store volume capabilities
    - implement get_volume_stats() method of iSCSIDriver as an example to
    demonstrate how volume backend driver reports capabilities as well as status
    - add scheduler_options.py and 'scheduler_json_config_location' flag to be
    allow loading json configuration file for scheduler at run time
    - port common filters/weights from oslo
    - add capacity weigher (scheduler/weights/capacity.py) for picking up
    target volume backend by weighing free capacity of the host. The default
    behavior is to spread volumes across hosts; by changing the
    'capacity_weight_multiplier' to negative number, volume placing behavior will
    become stacking.
    - add capacity filter which filters those hosts have insufficient storage space
    to serve the request.
    - add 'reserved_percentage' config option to indicate how much space is
    reserved. Capacity reservation is needed when volume resize is enabled.
    - change default scheduler to 'filter.FilterScheduler'.
    - add 'publish_service_capabilities()' method to volume RPC API to allow
    scheduler to have volume service report capabilities. This bumps volume RPC
    API to version 1.2
    - remove 'volume_force_update_capabilities' config option, volume status will be
    report to scheduler in every checking.
    
    The implication of this change to storage/backend driver developer:
    - implementation of get_volume_stats() of the driver is now a *MUST*, filter
    scheduler heavily relies on the status/capabilities reported by backend driver
    to makeplacement decision.  To ensure Cinder works seamlessly on the storage
    system, driver should at least report following capabilities/status:
    ----------------------+---------------------------+---------------------------
      Capability/Status   |      Description          |         Example
    ----------------------+---------------------------+---------------------------
     'volume_backend_name'| back-end name, string     | 'Example_Storage_Backend'
    ----------------------+---------------------------+---------------------------
      'vendor_name'       | vendor name, string       | 'OpenStackCinder'
    ----------------------+---------------------------+---------------------------
      'driver_version'    | version, string           |  '1.0a'
    ----------------------+---------------------------+---------------------------
      'storage_protocol'  | supported protocols,      | 'iSCSI', 'RBD', 'FC', 'NFS'
                          | string or list of strings | ['iSCSI', 'NFS', 'FC']
    ----------------------+---------------------------+---------------------------
      'total_capacity_gb' | capacity in GB, integer   |  102400
    ----------------------+---------------------------+---------------------------
      'free_capacity_gb'  | available capacity in GB, |  1000
                          | integer                   |
    ----------------------+---------------------------+---------------------------
    'reserved_percentage' | reserved space in         |  0, 10
                          | percentage, integer       |
    ----------------------+---------------------------+---------------------------
    
    The implication of this change to Cinder administrator:
    - the default setting for filter scheduler should work well with the benefits
    of:
      * being able to fully utilize capacity of backends (driver now has to report
      actul total space and space utilization and scheduler uses these info) not
      limited by the 'max_gigabytes' config option any more;
      * being able to choose placement policy between spreading & stacking for
      volume creation (by modifying the 'capacity_weight_multiplier' in
      CapacityWeigher)
    - with filter scheduler, Cinder is now able to utilize the advanced features/
    capabilities provided by different storage back-ends via: defining different
    volume types with proper extra_specs. Volume types can be considered as sets
    of back-end capabilities requirement.
     For example, a volume type which has 'storage_protocol':'FC' key/value pair
    definition in its extra_spec can only be served by those back-ends who report
    they support FiberChannel protocol. Another example is volume type has 'QoS'
    requirement can only be served by back-ends support QoS.
    
    Note/TODO:
    * Currently scheduler makes its decision based on the status and capabilities
    information reported by volume nodes, and these information is stored in memory
    of scheduler process. More sophisticated way may be add on table in DB to
    record status/capabilities of all volume nodes, like Nova does for compute nodes.
    
    implement bp volume-type-scheduler
    
    DocImpact
    
    Change-Id: I8b5305bce3b24bcc85365037356a8f36d0107133

commit 93bb58732ddb1f2e561347f35699f66c5263ac02
Merge: d6dc273 d99fb60
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jan 8 04:10:32 2013 +0000

    Merge "Implement ability to Clone volumes in Cinder."

commit d6dc273cb72ce0ffe09251436332d9b12605f0f9
Merge: e57cd51 e3132d2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jan 7 18:22:05 2013 +0000

    Merge "Add service mgmt extension."

commit e57cd5171d89fb60c41e5a301bbc442374d34fb8
Merge: 9c29408 3068391
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Jan 7 17:57:24 2013 +0000

    Merge "Make WebOb version specification more flexible"

commit c6f7f1920e52ff3d44ab16e1fe77b895b5a4ab16
Author: john-griffith <john.griffith@solidfire.com>
Date:   Mon Jan 7 10:08:16 2013 -0700

    Use tempdir for lock_path in tests.
    
    Commit: 2331d3336a6adf4fc13a3b187e91a5d1b1f7c723
    introduced use of lockutils but wasn't setting a lock_path, in the tests.
    As a result we were polluting cinder/openstack/ with cinder-xxxx lockfiles.
    
    This patch adds a tempfile and cleanup to the test so we don't leave any
    junk behind.
    
    Change-Id: Idd9fee928ff0fcf3f8d1c30ee88c5306b88e290c

commit bf46a11fa375b564ac6cf1144ffecfde258db775
Author: Doug Hellmann <doug.hellmann@dreamhost.com>
Date:   Thu Jan 3 11:09:36 2013 -0500

    Upgrade WebOb to 1.2.3
    
    The version of WebOb being used in OpenStack was more than
    1 year old. This change updates to the latest stable release.
    
    Upgrading WebOb resolves a version conflict between OpenStack
    and Pecan, the web framework used by the Ceilometer team for
    version 2 of the ceilometer API.
    
    Refer to http://docs.webob.org/en/latest/news.html
    for the list of changes between 1.0.8 and 1.2.3.
    
    bug 1092227
    
    Change-Id: I44fdd11acbf1d5245e0c9c5a6199fd53200928ed
    Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>

commit 3068391b52d8b86d2560bfea9014f4c70e10fd72
Author: Doug Hellmann <doug.hellmann@dreamhost.com>
Date:   Mon Jan 7 10:52:39 2013 -0500

    Make WebOb version specification more flexible
    
    Change the WebOb version to >=1.0.8 as an temporary
    measure to allow the actual version update to 1.2.3
    to roll out across the projects one at a time without
    breaking the integration tests.
    
    Change-Id: I9969b02a6896f7b952301e40e96f0ef6df8f34c0
    Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>

commit 9c294087e4cebf04bc87b32ffd3afdf8f91a2436
Author: Eric Harney <eharney@redhat.com>
Date:   Thu Jan 3 15:08:53 2013 -0500

    Fix cmds clearing in TargetAdminTestCase.
    
    clear_cmds() should reference self.cmds rather than cmds.
    
    Change-Id: I1d191aee6a713cf9f2b08c46bf47c1959235cc15

commit 0b93217fa75959f9f83b259e38c356a43eb8a720
Author: Chuck Short <zulcss@ubuntu.com>
Date:   Thu Jan 3 09:50:57 2013 -0600

    Add missing library
    
    According to pyflakes:
    
    cinder/api/common.py:246: undefined name 'minidom'
    cinder/api/common.py:254: undefined name 'minidom'
    cinder/api/common.py:272: undefined name 'minidom'
    cinder/api/common.py:284: undefined name 'minidom'
    
    Add from xml.dom import minidom
    
    Change-Id: Iadb1586ac15c29bb1f2154324e529976f82c19f0
    Signed-off-by: Chuck Short <zulcss@ubuntu.com>

commit f8e683f13bfa435ddbd221b8832b9c7ae65f6a2e
Merge: 9963cb7 f0d5dee
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 3 05:13:59 2013 +0000

    Merge "Adding marker, pagination, sort key and sort direction to v2 api"

commit 9963cb70fd4d07227077e7269fa7b325faa3868f
Merge: d833297 2adf688
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jan 3 05:12:07 2013 +0000

    Merge "Add pyflakes"

commit d833297d5a8d27a2aeab6b035eaf1590e294dccb
Merge: 5f6cb2f 2331d33
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jan 2 23:48:08 2013 +0000

    Merge "Adds synchronization to attach volume."

commit 5f6cb2f1c19687ef3a40cf6988f12b25c5269193
Author: Sean Dague <sdague@linux.vnet.ibm.com>
Date:   Wed Jan 2 14:16:19 2013 -0500

    use deleted = False, not 0 for update
    
    Fixes bug #1095401
    
    When running tempest on cinder on postgresql we get a number
    of errors because this call was trying to set deleted = 0.
    On mysql 0 == False, but on postgresql this is a type error.
    
    Change-Id: Ice85550e8138e0656c93a8a800afdbc5935e4bcc

commit d99fb6011cc610b78d42891800189feed0391742
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Dec 12 15:23:56 2012 -0700

    Implement ability to Clone volumes in Cinder.
    
    This implements the capability to create usable volume clones in Cinder,
    for the LVM case we create a temporary snapshot to copy from so that
    volumes can remain attached during cloning.  This works by passing
    in a source-volume-id to the create command (similar to create-from-snapshot).
    
    Currently we limit clone to the same Cinder node, and only for the base LVM driver.
    All other drivers should raise NotImplemented, most inherit from the SANISCSIDriver,
    so move the function there and raise until we have a general implementation
    for SANISCSI based drivers.
    
    Those drivers that inherit from ISCSI directly instead of SANISCSI,
    add the function explicitly and raise NotImplementedError there as well.
    
    Implements blueprint add-cloning-support-to-cinder
    
    Change-Id: I72bf90baf22bec2d4806d00e2b827a594ed213f4

commit 2adf6889233273f5bd03260d408dce91aa9c6275
Author: Chuck Short <zulcss@ubuntu.com>
Date:   Wed Jan 2 08:43:53 2013 -0600

    Add pyflakes
    
    Add tox option to use pyflakes.
    
    Change-Id: Ic77ec3f54cb89341d5b01feb3417e07f43d20c9c
    Signed-off-by: Chuck Short <zulcss@ubuntu.com>

commit 2331d3336a6adf4fc13a3b187e91a5d1b1f7c723
Author: Rohit Karajgi <rohit.karajgi@nttdata.com>
Date:   Fri Dec 28 04:58:46 2012 -0800

    Adds synchronization to attach volume.
    
    This patch adds the following changes:
    1. Move db update for volume status during attach to volume.manager
    2. Add lock synchronization to volume attach operation
    3. Related unit tests
    
    Fixes Bug 1087253
    Change-Id: I15242766bf4cfa4da67789c485fdf6886983eb45

commit 18269eaad82bae89a21929ece49f145f299e4632
Merge: 4c42d1e 21788e4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Dec 28 01:47:36 2012 +0000

    Merge "Add EMC Volume Driver in Cinder"

commit 21788e4a42118d45fbcb3649110cf6c92363d4fc
Author: Xing Yang <xing.yang@emc.com>
Date:   Fri Dec 14 00:05:14 2012 -0500

    Add EMC Volume Driver in Cinder
    
    Add support for EMC storage in the Cinder-Volume service.
    This driver is based on the existing ISCSIDriver, with the ability to
    create/delete and attach/detach volumes and create/delete snapshots, etc.
    The Cinder Driver executes the volume operations by communicating with the
    backend EMC storage. It uses a CIM client in python called PyWBEM to make
    CIM operations over HTTP.
    EMC CIM Object Manager (ECOM) is packaged with the SMI-S Provider. It is a
    CIM server that allows CIM clients to make CIM operations over HTTP, using
    SMI-S in the backend for EMC storage operations.
    SMI-S Provider supports the SNIA Storage Management Initiative (SMI), an
    ANSI standard for storage management. It supports VMAX/VMAXe and VNX
    storage systems.
    
    Implement bp: emc-volume-driver
    
    Change-Id: Iafce98603d31d66a7297ef11c92d5e6ac6ba3737

commit f0d5dee0d3aed14d9c49df073a220c19e695461c
Author: Mike Perez <thingee@gmail.com>
Date:   Tue Dec 18 00:42:49 2012 -0800

    Adding marker, pagination, sort key and sort direction to v2 api
    
    Taking a cue from quantum, use glance's pagination function.
    
    bp api-pagination
    
    Change-Id: Ida7ade8d9332c88679849f7c640651df7e855abb

commit 4c42d1eb86a44fb3c3ee3a3f446103dce95be8ec
Merge: c2e9e2f 035cd28
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Dec 22 07:00:09 2012 +0000

    Merge "Make the NetAppISCSIDriver._is_clone_done() method able to handle empty responses. Add unit tests to exercise this case."

commit c2e9e2f37804e1fe55830e221df584844c5390f2
Author: Vishvananda Ishaya <vishvananda@gmail.com>
Date:   Fri Dec 21 09:33:22 2012 -0800

    Fix typo in image_utils tempfile handling
    
    Commit cbcd340 changed from NamedTemporaryFile to mkstemp, but
    mkstemp returns a file descripter, not a file object. We therefore
    need to close the fd using os.close(). This was tested using
    devstack.
    
    Change-Id: I808fa470a141e249fe30ee762ee94f47ecfd3f63

commit 035cd28ed36c4ec34c20e7cedf0815af72e3f2c0
Author: Ben Swartzlander <bswartz@netapp.com>
Date:   Fri Dec 21 00:24:46 2012 -0500

    Make the NetAppISCSIDriver._is_clone_done() method able to handle
    empty responses. Add unit tests to exercise this case.
    
    bug 1090168
    
    Change-Id: Ia51a73b8ebead7a0f3be9202794ca8549bdf3e5b

commit cbcd340c67c914e38342471c8a1a0aba984c15ff
Author: Vishvananda Ishaya <vishvananda@gmail.com>
Date:   Thu Dec 20 13:43:09 2012 -0800

    Make sure we don't double remove tmp on exception
    
    The fetch_to_raw code would fail if an exception is thrown during
    fetch because it would attempt to delete the same file twice.
    
    Fix this by using mkstemp and our wrapper which only deletes the
    tmp file if it exists.
    
    Change-Id: I7bb3171d3c7dc023fc743578c2ce6e804bbc49f5

commit e3132d29f40333e66500a454ac8f68b652d4ef12
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Dec 18 23:02:32 2012 +0000

    Add service mgmt extension.
    
    Add capability to list, enable and disable cinder services on a node.
    
    Change-Id: I6728fee46d7b15a009bc6c329414ede8c01852b4

commit 3b02985805a1442c97edb119ec01c013f3ab36cb
Author: Walter A. Boring IV <walter.boring@hp.com>
Date:   Tue Dec 11 11:26:16 2012 -0800

    Added the lockutils, fileutils, gettextutils
    
    The 3par driver, for both iSCSI and Fibre Channel,
    that I will commit soon, needs the lockutils to ensure thread safety in
    each of the driver entry points.  The driver uses a single shared http
    session for all of it's connections to the 3par drive array.
    This is required for the driver because of the limitation on the
    3par's WSAPI only supporting a very small number of open connections.
    
    For example without this, the driver will have problems when 2 users try and
    create a volume at the same time.   I've discovered this in my threaded
    stress test tool.
    
    Change-Id: Ic9d7295e7bcbf5c06086ddf5bd9b8b2fe771faa5

commit 319221d567e7a1c237fcf0eb1706181ea4cdf53c
Merge: deb88ed afe1d21
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Dec 19 18:02:27 2012 +0000

    Merge "Moving host admin extension with other extensions"

commit deb88ed7cbe8a5d018b03cbdc71dd41dd1d5ecc3
Merge: 10c6c7c 147e30b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Dec 19 18:02:06 2012 +0000

    Merge "Fixes a Windows volume driver bug on disk export"

commit 147e30b4a8a9ce8361b048239a0187ac04679db1
Author: Alessandro Pilotti <ap@pilotti.it>
Date:   Wed Dec 12 22:10:35 2012 +0200

    Fixes a Windows volume driver bug on disk export
    
    Fixes Bug #1089168
    
    When a VHD created by Cinder using the iSCSI Target Server is deleted
    manually, at the next startup the cinder-volume service terminates with an
    exception.
    This fix adds a check to verify if the disk exists.
    
    Change-Id: I830cb8332dcef845591bd88cccef1e0e9781ffcc

commit 10c6c7cfcbe767ae16b29f29625d2617efd921b1
Merge: f61e854 349d5bd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Dec 19 05:00:51 2012 +0000

    Merge "Add image metadata API extension"

commit afe1d219883c99b98e8850d07dad88417e9b3334
Author: Mike Perez <thingee@gmail.com>
Date:   Tue Dec 18 20:26:29 2012 -0800

    Moving host admin extension with other extensions
    
    Think this was merged during the big api changes in g1. This allows the
    extension to actually be enabled.
    
    Change-Id: I07bb9646fd11368fe5ffd7f85617ecbf103dc788

commit f61e854460c5ad8129b2230686465884eb6b8852
Author: Vishvananda Ishaya <vishvananda@gmail.com>
Date:   Mon Dec 17 14:38:53 2012 -0800

    Allow the lvm backed drivers to use mirrrors
    
    Adds a new configuration option called lvm_mirrors. If this is
    set to a value > 0, it will create the specified number of mirrors
    when creating volumes. Note that lvm_mirrors + 2 pvs are required
    in the volume group for lvm mirroring to work properly.
    
    Change-Id: I7e28d11c48cdbb99e17b0930b720fbd805bf9931

commit 792d3a166b7ac8478e21bcd255ac53f7bdec719e
Merge: 5bda255 be3d8ea
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Dec 17 04:13:51 2012 +0000

    Merge "CHAP support for IBM Storwize/SVC driver."

commit be3d8ea90a9238b7afc5558db14c080e15001685
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Thu Nov 29 12:22:00 2012 +0200

    CHAP support for IBM Storwize/SVC driver.
    
    This implements support for CHAP authentication of hosts by the IBM
    Storwize/SVC controller. A host entity was created on the controller for
    each server that logs in with iSCSI. Now a randomly-generated CHAP
    secret is added to the host entity on the controller (passed via the
    controller CLI over SSH).
    
    Implements blueprint add-chap-support-to-storwize-svc-driver
    
    Change-Id: I60b5ddd0ea2e1ede3070779e5293820480aa0401

commit 5bda255e64ad8394ca4e39393db4114aa613464f
Merge: e10da6e 33b21f3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Dec 15 04:29:12 2012 +0000

    Merge "Remove instance quota re-sync code"

commit e10da6e8eedd96dc8c4e5b680659e6509a8742c3
Merge: 403142a db9cf2b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Dec 14 16:24:39 2012 +0000

    Merge "Support glance servers over https"

commit 33b21f3f466d94b83df95d4a756b60ec2a02437d
Author: Eoghan Glynn <eglynn@redhat.com>
Date:   Fri Dec 14 14:19:20 2012 +0000

    Remove instance quota re-sync code
    
    Obviously came in inadvertantly in a copy'n'paste from the
    nova quotas logic.
    
    Not relevant to volume quotas and would fail if ever called
    (as instance_data_get_for_project is not part of the cinder
    DB API).
    
    Change-Id: Ib52b962b51003955430ad292084a3e3010736a2c

commit 349d5bdf0ed6fb18308c1e1e352d726ed9e00d8f
Author: Nikola Dipanov <ndipanov@redhat.com>
Date:   Fri Dec 7 15:53:28 2012 +0100

    Add image metadata API extension
    
    This patch introduces an API extension that will expose the volume
    metadata inherited from the image if the volume was created from an image.
    
    This data will be used by Nova when booting from volume without any
    image supplied.
    
    In addition, the patch introduces a helper method on the volume.API
    class for accessing the image metadata and also updates the policy.json
    files to be aware of the new extension.
    
    This patch is part of the blueprint improve-boot-from-volume
    
    This patch also introduces DocImpact as it extends the cinder API
    
    Change-Id: I64515cc02f8de863e65e96c66eb1fda1a1954ac7

commit 403142a43f553b1488eae795c6dfff3967825bf1
Author: Sam Morrison <sorrison@gmail.com>
Date:   Fri Dec 14 13:49:46 2012 +1100

    Raise NotImplemented for drivers that don't support images
    
    Fixes bug #1090169
    
    Raise NotImplementedError on copy_image_to_volume and
    copy_volume_to_image on drivers that inherit from
    driver.ISCSIDriver that don't support this feature yet.
    
    Change-Id: I516d424a75dd21260f2ccc68467a8f6e6ac08e4d

commit 11c80571ae7b4c4afff99edd30f51e060fbac396
Author: john-griffith <john.griffith@solidfire.com>
Date:   Thu Dec 13 13:17:31 2012 -0700

    Add *.swp to gitignore.
    
    Add swap files and alphabetize the list.
    
    Change-Id: Idaa9aec831740aa965a8d2d2486f4d9ffbb50746

commit db9cf2bca1cc6158ca129c7bfc6bead59ff1c7de
Author: Sam Morrison <sorrison@gmail.com>
Date:   Wed Dec 12 10:54:54 2012 +1100

    Support glance servers over https
    
    Fixes bug 1089147
    
    Updated glance.py from nova's version to support glance over ssl
    eg. glance_api_servers=https://glance.mydomain:9292
    
    New Flag: glance_api_insecure
    Set to True to disable certificate checking
    
    Change-Id: I53e62900265fea2de9b0ec20bbff0c40f1b14c91

commit 97ec98530331b590ab736252aa2cbe3ef7a557c6
Merge: 65b3421 484fb9e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Dec 12 18:17:30 2012 +0000

    Merge "Changing display_name to name in v2 api"

commit 65b3421f4b66b1e26be54f4bcb93fd3f6c7fb6f8
Author: Carlos Goncalves <cgoncalves@av.it.pt>
Date:   Thu Dec 6 14:50:29 2012 +0000

    Add commands used by NFS volume driver to rootwrap
    
    Fixes bug 1087282
    
    Change-Id: Ib873c334633b4d586c2e53bac5d1cae0dcf65be7

commit 484fb9e1c748e718349e451e80a0e025ed007b1d
Author: Mike Perez <thingee@gmail.com>
Date:   Sat Dec 8 12:16:43 2012 -0800

    Changing display_name to name in v2 api
    
    This allows the v2 api responses to be more consistent with other
    projects. This approach is making the idea compatible in v2, rather
    than changing the model.
    
    blueprint name-attr-consistency
    
    Change-Id: I74e46b4204353d5712be788fe2138784b2a72305

commit 29b9290cb9f9556d5f9e1e90af4cfaba64e4ba2f
Merge: 0c507aa 6a31bf3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Dec 8 04:21:13 2012 +0000

    Merge "Make copy_to_volume a bit more useful."

commit 0c507aa6d08a9471bf896961cc99d40f337f1e4d
Author: Mike Perez <thingee@gmail.com>
Date:   Mon Dec 3 10:38:27 2012 -0800

    Make summary and detail view consistent with other projects
    
    This introduces the v2 volume view builder for ease of response
    changing.
    
    blueprint vol-api-consistency
    
    Change-Id: If061e069d3b09ee5de15f1cbc7a46fa29c95a4cd

commit 29b3da71bfb3389c7826efaa3ad76045e74c463e
Author: Mike Perez <thingee@gmail.com>
Date:   Fri Nov 30 16:23:37 2012 -0800

    creating separate v1 and v2 stubs and general fakes
    
    For now contribs will use v2, but in the future will test against all
    supported versions.
    
    Change-Id: I47c30f8c2fc8a89f92065122bf1ca6aec1ce8b2d

commit 6a31bf3e436c1b975630615af0b381df3b7c8756
Author: john-griffith <john.griffith@solidfire.com>
Date:   Mon Dec 3 21:02:19 2012 -0700

    Make copy_to_volume a bit more useful.
    
    The current implementation of cinder.driver.copy_to_volume
    does not take in to account image type and is only valid
    for raw images.  This doesn't do much good for the majority
    of cases, and rather than require folks to have a raw version
    uploaded to Glance, let's just do a convert if needed on the fly.
    
    This simply creates a temp file, does the conversion and then
    writes the temp file directly to the volume.
    
    Change-Id: I849b04b8aae76da068abcd2a20c1fcecca8a5caa

commit ad770a3eaeaea9c00871a8b45157adc85dba6c79
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Dec 6 13:36:23 2012 -0700

    Delete type call in api needs update to use ID.
    
    https://github.com/openstack/cinder/commit/51a438c8f3f0d13c6779602264d72cde82feab9c
    Introduced UUID's for volume_type ID and also changed delete to use ID
    instead of name.
    
    That changed neglected to update the call in contrib/types_manage,
    this patch fixes that.
    
    Fixes bug 1087161
    
    Change-Id: I839228cd656afaf68caedfe673f9191488ccc397

commit 51a438c8f3f0d13c6779602264d72cde82feab9c
Author: john-griffith <john.griffith@solidfire.com>
Date:   Sun Dec 2 00:01:49 2012 -0700

    Convert volume_type id from int to uuid.
    
    This converts the volume_type id from int to uuid.  In
    addition, this also corrects an issue of deleting volume_types
    by name.  Even though the client/api is taking the id, it was
    converting to the name of the volume_type for the db access.
    
    We also want to continue enforcing that the name is unique on creation
    so as to avoid any confusion and for clarity in Horizon.  The api
    has also been enhanced to allow you to specify the type by name
    or by uuid.
    
    This does NOT modify the things like the volume details display field
    (currently shows the type 'name' not 'uuid'), these types of changes
    will go in to V2 of the API.
    
    Implements blueprint vol-type-to-uuid
    
    Change-Id: I1c54ff2a1e0c5df5891408fc11b15176db4028c3

commit b1e423299632016b7ee0528cba8ecb44016cf941
Merge: c4a4a4e 842521c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Dec 3 15:09:52 2012 +0000

    Merge "Rename Config osapi_compute_link_prefix to osapi_volume_base_URL"

commit c4a4a4e59d52f10e88830fb4cbe52956e7b819b9
Merge: 9d73415 44a2b89
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Dec 2 16:10:34 2012 +0000

    Merge "Revert changes to monkey_patch."

commit 9d73415f11602032c75fd87a46cf2349275b8b2f
Merge: e1b834a 503e923
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 30 23:17:51 2012 +0000

    Merge "Fix exception when size is None."

commit 842521cb1267413025c47248dae8cd622d1d104c
Author: sathish-nagappan <sathish.nagappan@nebula.com>
Date:   Fri Nov 30 14:53:21 2012 -0800

    Rename Config osapi_compute_link_prefix to osapi_volume_base_URL
    
    fixes Bug #1046451
    
    Renamed the config option.
    
    Change-Id: Ia6eb057a11828bdc216e0bddbd29855285ba938c

commit 503e92332db78a2469fcc853a2be1c5dee9c8da4
Author: Matthew Treinish <treinish@linux.vnet.ibm.com>
Date:   Thu Nov 29 17:48:03 2012 -0500

    Fix exception when size is None.
    
    If an incoming create request has a size of None raise
    an exception.
    
    Fixes: bug 1084711
    Change-Id: I5ad377073cc6853b502889ad9292b5758522ca88

commit e1b834a294244030b7fd48b10a88aafdaa60c202
Merge: 31629f6 e27b171
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 30 17:42:58 2012 +0000

    Merge "attaching volumes will set instance_uuid instantly"

commit 31629f637b6b18ca762604a24278249eeb6cfaf1
Author: Russell Bryant <rbryant@redhat.com>
Date:   Fri Nov 30 09:19:05 2012 -0500

    Ensure request_spec can be serialized.
    
    request_spec includes some objects that must be converted to primitive
    types to ensure they can be serialized by any of the rpc drivers.  In
    this case, it's the volume type.  It's a sqlalchemy model.
    to_primitive() will ensure that it gets converted to a dict so that it
    can be serialized for messaging.
    
    I saw this error in a smokestack log that was running tempest with qpid.
    You won't see this error if you're using rabbit with the kombu driver.
    We have some magic with the kombu driver that will fix these problems
    automatically if they are missed.
    
    Change-Id: I9a1b7662bca7caa2acb61d1e3879ac2654d5b32e

commit e27b171883c1b87b8d2fdf0994947d4b93e640d9
Author: Mike Perez <thingee@gmail.com>
Date:   Thu Nov 29 03:18:08 2012 -0800

    attaching volumes will set instance_uuid instantly
    
    This change allows the instance_uuid field to be set instantly when
    beginning an attach action. The user will no longer have to wait for the
    attachment to be complete to know what it is attaching to. If attaching
    fails on the driver layer, we got error state and keep the instance_uuid
    set for troubleshooting purposes.
    
    blueprint instance-attached-field
    Change-Id: Ie9860876ab865f766c0ae4cb616a45fd363931f8

commit de14700f955bd8393d016abe6644f646c0e0baf4
Merge: 79e0052 70e4f2c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 28 19:25:15 2012 +0000

    Merge "Unpin lxml requirements"

commit 44a2b8949fba07d9a3427137d59fe81fafbc3458
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Nov 28 12:19:14 2012 -0700

    Revert changes to monkey_patch.
    
    As a work-around to deal with bug 1075838, we modified
    monkey_patch in the Cinder binaries.  The root cause of the
    issue is/was actually a bug in eventlet but this was a quick
    work-around.
    
    Since the change Change-Id: I69ba75136e32e95c6fdf108f0c4fe21a5e3bdbe6
    to do this landed, the problem has also been addressed in Keystone.
    
    So, let's revert this patch to get back the greenthread performance
    that we may have lost with this change.  For now, everything should
    be addressed as long as we don't implement multi api worker in Cinder,
    if we do and the evenlet fix hasn't been released we'll need to turn
    the modification back on for bin/cinder-api.
    
    Change-Id: Ie845bade85dbceacd91f15e082325602d9a79c74

commit 79e0052e79fc8411b385c36cb1533d039ab09333
Merge: 4b6ba6e e78667d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 28 05:44:37 2012 +0000

    Merge "Provide i18n to those messages without _()"

commit 4b6ba6eeb97cbac6c23be82d4d14ad056e1649cf
Merge: e40ec2d de289a6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 28 05:21:24 2012 +0000

    Merge "Use auth_token middleware from keystoneclient."

commit e40ec2d83258690929fe89e85b971d9706af5970
Merge: d030c5b 2bdc7a7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 28 03:54:29 2012 +0000

    Merge "Fix import order to make it alphabetical."

commit d030c5b10e9e8d73d967562259e7db6146347108
Author: Adam Gandelman <adam.gandelman@canonical.com>
Date:   Tue Nov 27 17:51:26 2012 -0800

    Improve provider_location cleanup code for RBD.
    
    The RBD driver does not make use of the 'provider_location' field
    but the current cleanup code assumes it does.  Ensure the field
    is in use before testing whether or not it needs fixing.
    
    Fixes bug 1083818.
    
    Change-Id: Id6ff85101f85e70575ba244c2df7aca0196cf224

commit 2bdc7a7feb37dbf05dc98383bc0d6faff2f503b7
Author: Matthew Treinish <treinish@linux.vnet.ibm.com>
Date:   Tue Nov 27 11:01:05 2012 -0500

    Fix import order to make it alphabetical.
    
    Change-Id: I159d9f5a6d131485d6063985a4e1638878b7463e

commit d81113f55e7a40adceae5bdab9878acbee42e518
Merge: dc9f039 3fe5bd6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Nov 27 21:08:17 2012 +0000

    Merge "Fix None being passed into as_int()."

commit dc9f03901abd68f292bd1911777f43b05aa02b27
Merge: 461ae54 51418bd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Nov 27 16:32:23 2012 +0000

    Merge "Make pep8 checks a bit stricter."

commit 3fe5bd6a7112315a978be38a9e51a1787b300af3
Author: Matthew Treinish <treinish@linux.vnet.ibm.com>
Date:   Tue Nov 27 10:41:25 2012 -0500

    Fix None being passed into as_int().
    
    Currently when a create is received and the size is of NoneType
    a stack trace is dumped because of the TypeError. This will
    correct it so the functionality won't change, but the TypeError
    is will be caught now.
    
    Change-Id: Ic83dd182e0083c887af8f6209a23af38bfff2be7

commit de289a666fd9f03725ade1f6ffb5ad3904295a94
Author: Yaguang Tang <heut2008@gmail.com>
Date:   Tue Nov 27 17:06:25 2012 +0800

    Use auth_token middleware from keystoneclient.
    
    auth_token middleware has been move from keystone to python-keystonecient,
    so add python-keystoneclient dependence instead of keystone.Also adds
    missing signing_dir option.
    
    Change-Id: I24a4f422c35b721338c7519212c21ed2fbc255b3

commit e78667da0dbcb6b65dc9017822854c9e97f5a4ab
Author: daisy-ycguo <daisy.ycguo@gmail.com>
Date:   Thu Nov 22 00:16:04 2012 +0800

    Provide i18n to those messages without _()
    
    bug 1081498
    
    There are a few log messages without _(), but a lot messages with _().
    Wrap these log messages with _() in order to make the code consistent.
    
    Change-Id: Ie8961453569e9a75bd0fd0733344db8059d05222

commit 461ae5443d1816eefa1bd8877a4b085a5cb7fda3
Merge: 0fb9897 444cd54
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Nov 27 07:18:34 2012 +0000

    Merge "Revert "use O_DIRECT when copying from /dev/zero too""

commit 444cd5429cc00f3a4ddb5cde4b8b1c974b886e19
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Nov 27 05:46:58 2012 +0000

    Revert "use O_DIRECT when copying from /dev/zero too"
    
    It turns out running oflag=direct against the LVM snapshot fails for an IO error every time.  Works fine against the regular volume, but fails on snapshot.
    
    This reverts commit 1405a6440d646524d41adfed4fc1344948e2871f

commit 51418bdd5b44496694998b8123c0b62e9166d547
Author: John Griffith <john.griffith@solidfire.com>
Date:   Sat Nov 24 20:17:32 2012 -0700

    Make pep8 checks a bit stricter.
    
    Along with moving to pep8 1.3.3, we also want to standardize
    on what we ignore. This patch get's us most of the way there
    by setting the ignore list to:
    N4,E125, E126, E711,E712.
    
    Almost all changes made here are white-space/indentation changes.
    
    The removal of Hacking N4 errors from the ignore list will
    be handled in a seperate patch.
    
    Change-Id: If45f156600485d23769449018590f60b4f69b0c5

commit 0fb98971a7d7836335906197a1bf7c7d448b8dab
Merge: 9922541 6da9686
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Nov 26 18:21:45 2012 +0000

    Merge "Remove redundant db.volume_update() in volume manager create_volume()"

commit 9922541a05148da5e2e1d0344090b4128caa8dd0
Merge: df3f9d7 1405a64
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Nov 26 17:04:28 2012 +0000

    Merge "use O_DIRECT when copying from /dev/zero too"

commit 70e4f2cdad6100cf73c59f60c741c11f69acbe30
Author: Chuck Short <zulcss@ubuntu.com>
Date:   Sun Nov 25 15:42:19 2012 -0600

    Unpin lxml requirements
    
    Ubuntu is using a much newer version of lxml so
    we shouldn't lock the versions in our infrasctructure.
    
    Change-Id: I73589af70e4156968f14d2494b3af36fa8f4794e
    Signed-off-by: Chuck Short <zulcss@ubuntu.com>

commit df3f9d76b9bc353133cbcc7cea20c572cd302733
Merge: 5023fb5 67168a8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 23 16:54:11 2012 +0000

    Merge "Add CONTRIBUTING file."

commit 1405a6440d646524d41adfed4fc1344948e2871f
Author: Pdraig Brady <pbrady@redhat.com>
Date:   Fri Nov 23 11:24:44 2012 +0000

    use O_DIRECT when copying from /dev/zero too
    
    We need to avoid trying O_DIRECT with virtual
    devices like /dev/zero and /dev/urandom etc.
    as it's not supported there, which because of
    our later check, would cause O_DIRECT to be
    not applied to the output device either.
    
    Related to bug 937694
    Possibly related to bug 1023755
    Change-Id: I034d8345c3d00689c1f1fffcc2c110735c49ee01

commit 67168a8d8024b2369963fd1ae98b6c12df100f72
Author: john-griffith <john.griffith@solidfire.com>
Date:   Thu Nov 22 09:44:53 2012 -0700

    Add CONTRIBUTING file.
    
    If the CONTRIBUTING[.md] file exists, Github will show a link to it to
    anyone who files an issue on Github or opens a pull request on
    Github. This files points folks to the OpenStack wiki page which
    provides the proper instructions on how to contribute to OpenStack.
    
    See also <https://github.com/blog/1184-contributing-guidelines>.
    
    Change-Id: I8fef06b71aa993c4c68a1ec92c39a540318aaf31

commit 5023fb58d448ad2baad6139c34353f70b27a7ed2
Author: Vincent Hou <sbhou@cn.ibm.com>
Date:   Tue Nov 13 17:15:41 2012 +0800

    Add the persistency to the volume created by iscsi IET.
    
    Bug 1070649.
    
    Change-Id: Ia2e095a8a60a5d5ca028272ed2a35c20b4ad45a7

commit 683344f6e7baa31c17e4b500542b3da67d4e85bc
Merge: 75ca60f 71d9f11
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 22 07:27:57 2012 +0000

    Merge "Add hosts extension to Cinder."

commit 75ca60f619c953df1d95ff2eab7de78f7d5aebe8
Author: Mike Perez <thingee@gmail.com>
Date:   Wed Nov 21 00:15:39 2012 -0800

    adding copy of v1 as v2
    
    finishes blueprint bp/apiv2
    
    Change-Id: I36dff480aacc438565875cdd23dc396e369da9bd

commit 2581554921281dc6c8271d8eb1f357f208811512
Author: Mike Perez <thingee@gmail.com>
Date:   Mon Nov 12 21:13:55 2012 -0800

    Moving contrib to cinder.api
    
    This moves over all contrib to a common place for all api versions to
    use. Test directory structure has been adjusted to match.
    
    For compatibility with old cinder config settings, we ignore the old
    contrib path and use the new location.
    
    progress on blueprint apiv2
    
    Change-Id: If1a24fd3c4d15db559674a021f6928613966e3a1

commit 9009948b43109632bbeb0bcf234d6c48d005e926
Author: Mike Perez <thingee@gmail.com>
Date:   Fri Nov 9 01:57:44 2012 -0800

    Moving api v1 implementation into v1 directory
    
    Adjusts paste to use composite factory for routing properly to v1 and
    future api versions. Tests have been adjusted to match directory
    structure.
    
    progress on blueprint apiv2
    
    Change-Id: I2cd3908705d224872b2d615cabe210fb1c453232

commit 6a2573a15314db781beeda50271b1e13d90baed7
Author: Mike Perez <thingee@gmail.com>
Date:   Sun Nov 11 21:37:14 2012 -0800

    Switching api to use base extension manager
    
    progress on blueprint apiv2
    
    Change-Id: I68640a88c7c2b7ee4c6661fa26a4f82d9c63b00f

commit c15d5eae48c42d5b885b8a6557d091a75713015f
Author: Mike Perez <thingee@gmail.com>
Date:   Sun Nov 4 01:20:47 2012 -0800

    moving all middleware code in cinder.api.middleware
    
    This includes auth, sizelimit, and faultwrapper middleware. Test
    directory struture has been adjusted to match.
    
    progress on blueprint apiv2
    
    Change-Id: I62eecb208553abfee8dc8d2679264884b4cec153

commit 30f8d3f8d62251023cceef21eca19fd508950f37
Author: Mike Perez <thingee@gmail.com>
Date:   Sun Nov 4 01:34:27 2012 -0700

    Moving common api code into cinder.api
    
    This is progress for beginning to have separate versions of the
    cinder api. Common code that would be shared by v1, v2 etc will use
    these modules, so we'll just move them to a common place. Test directory
    structure has also been updated.
    
    progress on blueprint apiv2
    
    Change-Id: I99fd95fc3bb5d4f4fc3d9ef5b76b6372a1f6033d

commit 7bc6264fa1c293ef6878fa94ff2e16e20f35786c
Merge: 88fba03 040d930
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 22 05:12:27 2012 +0000

    Merge "Add volume bootable information to api response"

commit 88fba03c06b8836d2b6d0156bdb919a1445c01b1
Merge: fe914a3 db39d32
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 22 02:14:03 2012 +0000

    Merge "Cleaning up volume driver paths"

commit fe914a383fc8e191b57d2498f0aa1013907765dd
Merge: 3f18307 aa87498
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 22 01:03:23 2012 +0000

    Merge "Removes the xensm driver"

commit db39d32c2f3fd0ef0b9f173e33793ea86503479d
Author: Nirmal Ranganathan <rnirmal@gmail.com>
Date:   Wed Nov 21 11:44:27 2012 -0600

    Cleaning up volume driver paths
    
    Moved all the remaining drivers under
    cinder.volume.drivers. Updated the tests with
    the new module paths and add backwards compatibilty
    for the existing paths.
    
    Implements bp driver-cleanup
    
    Change-Id: I7673b5209cc072ac859d7d32cdeed2e7a17331e8

commit 040d9309c52a517c4236b3750fdde7a69c4be5e7
Author: Mike Perez <thingee@gmail.com>
Date:   Sun Nov 18 21:27:39 2012 -0800

    Add volume bootable information to api response
    
    If there is any glance metadata associated with a volume, we'll consider
    the volume bootable. This will return the information for both /volumes
    and /detail calls.
    
    blueprint list-bootable-volumes
    
    Change-Id: Id9dbe5cb648be62fb19bb8bd6a97d8eab05ec25a

commit 3f183070f72c949eb65d25c9c532d953f996a3e4
Merge: 1a431ed 09f98c9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 21 17:33:35 2012 +0000

    Merge "Add XenAPINFSDriver"

commit 09f98c9caa495bc648f624ba3c46b912a88e6e2f
Author: Mate Lakat <mate.lakat@citrix.com>
Date:   Mon Nov 5 09:57:52 2012 +0000

    Add XenAPINFSDriver
    
    Related to blueprint xenapi-storage-manager-nfs
    
    As xensm was not pulled to Cinder, this change shows an implementation
    example for using an NFS export for volumes. This change contains the
    volume create and delete functions, as a minimal set of functionality.
    The connection information structure is compatible with the previous
    xensm implementation.
    
    Activate the driver with the following configuration entries in
    cinder.conf:
    
    volume_driver=cinder.volume.xenapi_sm.XenAPINFSDriver
    xenapi_connection_url=http://<yourxenserver>
    xenapi_connection_username=root
    xenapi_connection_password=<secret>
    xenapi_nfs_server=<nfs_server_address>
    xenapi_nfs_serverpath=/exported_catalog
    
    Change-Id: Ieaf077f540fc026c5bc37f2e3eb9d48fb96d0b74

commit 1a431edff622ad62707cce085d2af6683a995e3f
Author: Ollie Leahy <oliver.leahy@hp.com>
Date:   Thu Nov 15 11:48:27 2012 +0000

    Add db table for Glance Metadata
    
    This commit implements the blueprint
    https://blueprints.launchpad.net/cinder/+spec/retain-glance-metadata-for-billing
    
    It creates the new table volume_glance_metadata in the cinder
    database, provides the CRUD methods for it, and populates the table
    when a volume or snapshot is created from a Glance image.
    
    Patch set 2:remove superflous line
    
    Patch set 3: Fix incorrect column types in sqlalchemy/models.py
    
    Patch set 4: Define exception class GlanceMetadataExists
    
    Change-Id: I8f98f6eaae005a33bfd49cea783774407b7aa120

commit 6da9686ca64ef2a559d7120910d15cb495bc3b50
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Wed Nov 21 01:02:37 2012 +0800

    Remove redundant db.volume_update() in volume manager create_volume()
    
    Since scheduler has already updated db to set the 'host' field and
    recorded 'scheduled_at' time, it's not necessary to do db.volume_update()
    again in volume manager create_volume() method.  Also let volume api
    to update db when creating volume from snapshot while snapshot_same_host
    is true, thus the behavior is consistent (updating db when placement
    decision is made).
    
    Change-Id: I43aaee8e2a5d0ceadb98bd608cc147467488349e

commit ceee1fdaf2f54666ac72c6aa8076f92b6289327c
Author: Chuck Short <zulcss@ubuntu.com>
Date:   Tue Nov 20 09:05:57 2012 -0600

    Pin pep8 1.3.3
    
    Apart of making pep8 version standard across all openstack
    projects.
    
    Also fix tools/hacking.py so it is compliant for pep8 1.2
    and beyond, taken from fbc4568 in the nova tree.
    
    Change-Id: I801c98a01960fa113dae1b6174c1a06bb149fea3
    Signed-off-by: Chuck Short <zulcss@ubuntu.com>

commit aa874981998d605209b7cd0614800552db10a957
Author: John Garbutt <john.garbutt@citrix.com>
Date:   Fri Nov 9 14:38:56 2012 +0000

    Removes the xensm driver
    
    This code does not work, and is slowly being replaced by
    alternative XenServer specific drivers.
    
    Fixes LP bug #1077011
    
    Change-Id: I1af92ecdbb49a57a0ff4c05a70d77bcb69958cb2

commit 55c09da1b0ff4e2a147b07fcfa986a76815c7703
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Nov 20 00:50:27 2012 +0000

    Pass in correct volume_ref to create_from_snapshot.
    
    The new rpc versioning change introduced a bug in the
    create_from_snapshot code.  The originating volume_ref
    was being passed in instead of the newly created volume_ref
    as expected.
    
    Fixes bug 1080898
    
    Change-Id: I6ba4f4989c77e29685abb2649af8e003c447ab0f

commit aba228075d779547f5e866671fadc8e12ef77da2
Author: Navneet Singh <singn@netapp.com>
Date:   Sat Nov 10 16:07:15 2012 -0800

    NetApp direct to filer drivers for iscsi and nfs.
    
    The drivers are designed to work with 7 mode and cluster storage systems.
    The drivers are designed to communicate with the NetApp storage controllers
    directly without requiring any intermediate management softwares in place using
    the NetApp api. Hence these represent the direct to filer versions of NetApp drivers.
    This also contains conventional nfs driver for cluster systems which requires
    NetApp management software as middle layer. Implementation for cloning support
    and basic volume type scheduler support in driver added. All NetApp drivers
    shifted into separate NetApp package. NetApp api refactored into a separate file
    other than drivers.
    
    blueprint netapp-direct-volume-drivers
    blueprint netapp-cluster-nfs-driver
    
    Change-Id: If3f5389d1f98eba899c4928a8ae1c1d3430bd847

commit 71d9f1170a5fe087de5a957e46d8c9e0fe9fb574
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Nov 13 19:03:50 2012 +0000

    Add hosts extension to Cinder.
    
    This adds the hosts extension to Cinder which is similar to
    the extension by the same name in Nova.
    
    This extension allows an admin user to check the status of
    Cinder services on different hosts.  In addition it also
    provides the capability to get host and project specific information
    regarding volume count and space allocated for volumes on a specified
    host.
    
    Implements blueprint cinder-hosts-extension
    
    Change-Id: Ic3679cfcd900baecdc2da17e42194cac99c9d422

commit a8f838177748a3bb371468ff6bc65f29ad0e1c7c
Merge: c64c7ea 2940ce4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 16 09:14:04 2012 +0000

    Merge "Volume RPC API Versioning"

commit c64c7ea6705fda832c3538a99221c78caa32cab4
Merge: 099bc8b 5d986e3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 16 05:33:38 2012 +0000

    Merge "Make tox.ini run pep8/hacking checks on bin."

commit 099bc8b4240dfe5d9b53d05a08240f6384edfdd4
Merge: 69ae5c1 6217a3d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 16 01:27:31 2012 +0000

    Merge "Remove unused python-daemon dependency"

commit 69ae5c145fd892b60922ae31b1c222c6f7ebe9ef
Merge: 402a169 41c37d3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 15 21:55:26 2012 +0000

    Merge "Various pep8/HACKING fixes for Cinder."

commit 6217a3df0a34b1d0ac6fad8e9ea5044d2056c45d
Author: Eric Harney <eharney@redhat.com>
Date:   Thu Nov 15 15:26:16 2012 -0500

    Remove unused python-daemon dependency
    
    python-daemon is listed as a dependency, but it is not needed.
    
    Change-Id: I4d6eadfef5d60cd277ff7395a12f5ad255db7155

commit 5d986e3121e8fb275f011c2cb347d9d24edca7c3
Author: Dan Prince <dprince@redhat.com>
Date:   Thu Nov 15 11:27:06 2012 -0500

    Make tox.ini run pep8/hacking checks on bin.
    
    This updates the pep8 checks in our tox.ini file so that
    we are also scanning the bin directory.
    
    Additionally, it updates the main pep8 check so that it scans
    cinder properly as well. Previously there were a bunch of files
    getting skipped due to some of the pep8 pattern matching.
    
    Change-Id: Ib47a590303409e62546a75625ee356c9fa7af6ad

commit 41c37d3666c4d46aaf3daa9bb4236e7cdcf3af57
Author: Dan Prince <dprince@redhat.com>
Date:   Thu Nov 15 11:26:31 2012 -0500

    Various pep8/HACKING fixes for Cinder.
    
    Fix some ordering/pep8/hacking issues in preperation for re-enabling
    full pep8/HACKING checks in tox.
    
    Change-Id: I7151ac73d1ace5d98046580e6d1c6a1dcc6c4cef

commit 402a1696352197550a96ba2f506e8f8f4366e4a8
Merge: 4206f0d f51e4af
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 15 18:03:18 2012 +0000

    Merge "Remove gen_uuid()"

commit 2940ce438f76dba20ff45095c90f0a29292c827c
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Sat Nov 10 01:32:22 2012 +0800

    Volume RPC API Versioning
    
    Add versioning to Volume Rpc API version.  This is initial version
    1.0, which is compatible with previous non-versioned RPC API.
    
    Note: this patch slightly change the db.volume_update() behavior,
    which now returns updated volume info.
    
    Change-Id: I78036b6ed97c5bc369d8c85307ecaaad8e31ff90

commit f51e4af121b9289fa6ab4c634cb525d7c3d840e4
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Wed Nov 14 22:49:07 2012 +0900

    Remove gen_uuid()
    
    Removed gen_uuid and uuid related unittests
    Replaced utils.gen_uuid() with uuid.uuid4()
    
    Change-Id: If34096f47fdea719e2dc180b448654519ede9bc9

commit 4206f0db05fc5ea70cb05bcd46bafbd14c26cce7
Merge: 780529e 4b8670a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 14 17:02:06 2012 +0000

    Merge "Remove obsolete use_local_volumes"

commit 780529e950865b8e935b6280b9a3a574a30b9891
Merge: db59270 f70cc1a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 14 16:50:39 2012 +0000

    Merge "Remove unused volume API method - remove_from_compute()"

commit 4b8670aa74e025f0b871918c596240d3760a5629
Author: Julien Danjou <julien@danjou.info>
Date:   Tue Nov 13 15:26:48 2012 +0100

    Remove obsolete use_local_volumes
    
    Reading documentation, I felt on that option, but grepping the source
    everywhere saw no use at all, and removing seems to be safe.
    
    Change-Id: I0ec22bcc406402420bc06fd28c352b84a4e21b69
    Signed-off-by: Julien Danjou <julien@danjou.info>

commit db592705d996ddc0e353c13d0e1e0e62262f8df9
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Wed Nov 7 15:56:33 2012 +0800

    Import order cleanup per HACKING
    
    Change-Id: I5540a5d24f45aa51e0ef58b43427fbaf7726da89

commit f70cc1aceb8abab6de69ac970fcc35ea23f70c25
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Fri Nov 9 14:37:21 2012 +0800

    Remove unused volume API method - remove_from_compute()
    
    remove_from_compute() method in cinder.volume.api is never used
    by others and it is also broken since the interface in Nova has
    been changed to remove_volume_connection(), thus it should be
    removed from Cinder.
    
    Change-Id: Ibcb2cf7f88606d9a540cc9a03b5c95990fca8c3e

commit fc4cae50f53643e2093170530eb0dc758a0b3f63
Merge: eedc857 7e26d13
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Nov 9 06:11:58 2012 +0000

    Merge "Scheduler API clean up and refactor"

commit 7e26d1354af23668591d9df39ab61e67eeb37528
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Sun Oct 7 01:11:41 2012 +0800

    Scheduler API clean up and refactor
    
    Unlike Nova scheduler, which has to consider serving compute and volume
    scheduling, Cinder scheduler only serves volume scheduling, so there's no
    need to keep generic interface 'schedule'. Instead, 'schedule_create_volume'
    is added (if missing) to manager/driver class and chance/simple scheduler
    driver implementation.
    
    Also this patch changes the interface between API service and scheduler to
    allow more information about volume is passed to scheduler for advanced
    scheduling while maintained backward compatibility. And this change bumps
    scheduler RPC API to version 1.2.
    
    Change-Id: I42be05675cd73f89a03c84105ec512d7ee4f3c3a

commit 5aa1e72911ef690c64c670c6605a189d7d11ae29
Merge: c5f3a32 6602bbf
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 7 02:15:42 2012 +0000

    Merge "Add 'create_volume' to scheduler RPC API."

commit c5f3a32178c09f03d617998d7b6d0559ea9e0ca3
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Nov 6 11:08:58 2012 -0700

    Remove dm_setup(remove) call in volume_delete.
    
    While it makes sense to perform the dm_setup(remove) before
    performing the lvm remove, it seems to cause some buffer IO
    errors as evident by kern.log.
    
    I'm also a bit suspicous in that it seems the delete timeouts
    we see seems to have increased in frequency with this addition.
    I propose this step is removed until we completely understand the
    impact of the kernel error on Precise kernels.
    
    Fixes bug: #1075675
    
    Change-Id: I7ae4decea42d8f070d774d3e6376686b3e5b4f83

commit 84c9dd1ea899796793e9c9c79b0366b71e4a285a
Author: john-griffith <john.griffith@solidfire.com>
Date:   Mon Nov 5 23:26:07 2012 -0700

    Add ability to disable secure volume delete.
    
    Due to gating issues caused by secure delete on LVM volumes,
    add the ability to disable via flag.secure_delete.
    
    Default will be set to True, but we add a way for the gate tests
    to disable this until we can come up with a fix for
    https://bugs.launchpad.net/cinder/+bug/1023755 OR implement an alternative
    secure delete method that doesn' suck.
    
    Change-Id: I2a06e4f0021ba1f5d5aad7d0a5997a992e268858

commit 07d4f002d056e90c520d49fe94d21183be5defe5
Author: john-griffith <john.griffith@solidfire.com>
Date:   Mon Nov 5 22:11:52 2012 -0700

    Remove the zeroing out of the volume altogether
    
    Temporary change to get in new version which will
    make the secure_delete configurable.
    
    After pushing this and modifying the gate setup we'll
    push the flag version.
    
    Change-Id: Ic8a08566e02d822ab0eb309f61993fd8b7d21232

commit 6602bbfc0854c4b014100c00e1b821f8a3190255
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Thu Oct 4 17:34:01 2012 +0800

    Add 'create_volume' to scheduler RPC API.
    
    Instead of directly call RPC methods, 'create_volume' should be
    implemented in scheduler RPC API in order to do versioning.
    
    This increases scheduler RPC version to 1.1
    
    Change-Id: I22d5a097ec3a73c3460f4acd35c602da57f8b52d

commit eedc857008a122ee38661581f27f102de52a4886
Author: Rushi Agrawal <rushi.agr@gmail.com>
Date:   Sat Nov 3 12:21:28 2012 +0530

    Fix run_tests.sh ambiguous usage msg and behaviour for -x option
    
    In commit
    https://github.com/openstack/cinder/commit/
    50792c2ff41fdc7e73b3e3c51f4510366debfd14,
    the committer wanted to add an option in run_tests.sh for generating XML
    coverage report, but ended up accidentally overriding the default nose
    option -x. But, the usage message still showed that using option -x will
    'Stop running tests after the first error or failure'. So, I changed the
    option to generate XML report to  -X (capitalized 'x'). So now both -x and
    -X options are available, with different purposes.
    
    Fixes bug 1070047
    
    Change-Id: Ie8c30c14629d4811d6db74f3eea9cdecb1d27c8a

commit 956731973ee872d38eebacfb519ed62d6767a319
Author: clayg <clay.gerrard@gmail.com>
Date:   Thu Oct 25 02:55:13 2012 -0700

    Add admin only action for force detach
    
    This action calls the same methods nova would after it successfully
    detaches a volume.  By exposing it to the administrator it makes it's
    easier to repair un-syncronized state between services.  Generally when
    the host is no longer attached, but the volume state is wrong.
    
    Future work: The Iscsi based drivers don't seem to use
    initialize_connection and terminate_connection to create the export for
    the volume.  This would be more useful with drivers that do that.
    
    I added the force parameter to terminate_connection for drivers that may
    want to differintiate between a normal terminate and the force detach.
    
    Future Nova work:  Nova will want an admin action to update the bdm
    tables - today it's a bit of nova-manage shell work.
    
    Change-Id: Icc1cff0f50a5ace9ebdae62c85524ee8d6ec23e0

commit 92f6aca556530f27ec090b87e295c319770b0748
Merge: 2f3bab4 bad23ce
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 7 17:20:59 2012 +0000

    Merge "Splitting out volume drivers in driver.py"

commit 2f3bab4a695579826a93bc986fbd10aa4e1deacc
Merge: c16a7c5 2946477
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Nov 7 16:43:14 2012 +0000

    Merge "Port openstack-common/uuidutils to Cinder"

commit c16a7c541abece400ca94a104c81511beb49e118
Author: Zhongyue Luo <zhongyue.nah@intel.com>
Date:   Wed Nov 7 15:59:35 2012 +0800

    Changes bit mode of zadara.py to 644
    
    Change-Id: I0b4693d7da4ecfe5242dc302630c40ed2b8268ef

commit 2946477556e7bd04cbc6a797323be20176e7097e
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Tue Nov 6 01:46:09 2012 +0800

    Port openstack-common/uuidutils to Cinder
    
    openstack-common has a new uuidutils to handle is_uuid_like(),
    port it to Cinder.
    
    Change-Id: I0ccc6166854193137af6a3210d3c465dd38fd955

commit 4e619fbef8671697bfec8e752818944c9f96cd72
Author: Vishvananda Ishaya <vishvananda@gmail.com>
Date:   Tue Nov 6 20:12:00 2012 -0800

    Fix 401 from auth_token middleware
    
    The openssl popen call to verify the token returns an error code
    of 2 when a file doesn't exist. Normally this is caught and the
    relevant file is downloaded, but monkeypatching os causes this
    error code to be eaten and cinder to return a 401. Note that this
    is likely a race condition that depends on exactly when greenthreads
    are switching that is causing the return code from Popen to get
    overwritten.
    
    It is possible that this is exposing an underlying bug in eventlet
    but the workaround is simply to make sure that we don't monkeypatch
    os.
    
    Fixes bug 1075838
    
    Change-Id: I69ba75136e32e95c6fdf108f0c4fe21a5e3bdbe6

commit bad23ceff8257d955e4247423e3d3ce95dd19743
Author: Nirmal Ranganathan <rnirmal@gmail.com>
Date:   Sun Oct 21 14:07:13 2012 -0500

    Splitting out volume drivers in driver.py
    
    Moved RBDDriver, SheepdogDriver into their own respective driver
    files under cinder/volume/drivers/*. Moved FakeISCSIDriver and
    LoggingVolumeDriver into a fake driver file under the tests,
    since that's the only place where those are used.
    
    Implements bp driver-cleanup
    
    Change-Id: I39d91ac8e498a9e42c5443db16706203b988444b

commit 3e82bf10ea755e7120ef5934dc22a81b98cc781b
Merge: 88d6be0 b864a08
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Nov 3 00:08:05 2012 +0000

    Merge "Adding a SSH Connection Pool."

commit 88d6be0c66694021847574d2e255d69bcd0bda73
Author: Nirmal Ranganathan <rnirmal@gmail.com>
Date:   Fri Nov 2 11:49:17 2012 -0500

    Minor optimization in create_volume in HpSanISCSIDriver
    
    Removing extra call to getClusterInfo in HpSANISCSIDriver
    on every create_volume call. The cluster info is now
    being lazily stored in a local variable.
    
    Fixes bug 1074201
    
    Change-Id: Iadf8383dbf87a8e82c649c312c67978c7dd3df71

commit b864a08b2aa7e7ba953dd4afce2c3042ba963ae7
Author: Nirmal Ranganathan <rnirmal@gmail.com>
Date:   Thu Nov 1 23:05:35 2012 -0500

    Adding a SSH Connection Pool.
    
    Adds a connection pool using eventlet.pools
    which works well with greenthreads. Adding new
    parameters ssh_min_pool_conn and ssh_max_pool_conn.
    
    Updating the _run_ssh method in san.py to use the
    connection pool and cleaning up the existing
    single connections, also added retries.
    
    Fixes bug 1074185
    
    Change-Id: I90dd89ffc025d09fc6ad060c4273508103b85456

commit 29378ef7a588b8930329800423d6fc5e344072c7
Merge: 1cb3a4f ecc664d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 1 17:02:07 2012 +0000

    Merge "Return volume type name on volume create"

commit 1cb3a4f69cdb9706666b5d2a4679ef31adb4d0a1
Merge: f5cc528 9fe4477
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 1 03:48:14 2012 +0000

    Merge "Allow the user to update a volume's metadata"

commit f5cc52817af52e0e0c78925c56ca74556a0b80f9
Merge: 4645e63 9ea375c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Nov 1 03:44:20 2012 +0000

    Merge "Log the body of an /action"

commit 4645e6326846a20b393fb218fce067b04df7decf
Merge: 80654f8 524c7fa
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 31 22:01:29 2012 +0000

    Merge "Detect and fix issues caused by vol ID migration"

commit ecc664dca2c6844a7963da63d3495281ef5866c8
Author: Clay Gerrard <clay.gerrard@gmail.com>
Date:   Wed Oct 31 15:25:55 2012 -0500

    Return volume type name on volume create
    
    Update openstack api controller for volumes to fully inflate the
    returned volume model on create to populate the volume_type fields so
    the response serializer will return the name of the volume_type instead
    of the id on volume create requests.  Returning the name on create is
    consistent with the show and index commands.
    
    fixes bug #1071436
    
    Change-Id: Ie091cf824a2df40211d8bcfa7f177fc851d737f5

commit 80654f8bcda3db3f55c838f17dee2fccfc77f854
Merge: 04794c2 a105733
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 31 18:29:20 2012 +0000

    Merge "Add VolumeTenantAttribute API extension"

commit 04794c28b783193ec051e0bb1fd0293763a4a402
Author: Sean Dague <sdague@linux.vnet.ibm.com>
Date:   Wed Oct 31 10:10:29 2012 -0400

    pin sqlalchemy to the 0.7 series
    
    sqlalchemy 0.8 beta has hit mirrors, and changes dependencies, thus
    breaking jenkins. This pins it to 0.7 series until all the projects
    agree to move forward to 0.8.
    
    Fixes bug #1073569
    
    Change-Id: If11f39d311ba9ef5cb2b198c9649a8997b2a52b5

commit a105733cc970eaac2f4bc28f04b48f9149a2c801
Author: Brian Waldon <brian.waldon@rackspace.com>
Date:   Tue Oct 30 15:06:12 2012 -0700

    Add VolumeTenantAttribute API extension
    
    Expose the ID of the project to which a volume belongs through a
    new API extension. This is only presented to Admins by default.
    Visibility can be controlled with the 'volume_tenant_attribute'
    policy rule.
    
    Change-Id: If85d9759af6a9457bf3230375cc64af9efe4a088

commit 4b6da60361f16e30da7233919b967069ce8f6285
Merge: 826c452 39e763d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 30 18:28:08 2012 +0000

    Merge "Split out drivers in san.py"

commit 9ea375c5dce105c657694ce296fbb24b03a0c6ab
Author: Derrick J. Wippler <thrawn01@gmail.com>
Date:   Fri Oct 19 14:53:18 2012 +0000

    Log the body of an /action
    
    The inability to deduce an /action request from the logs
    makes diagnosing integration with nova difficult. This change
    logs the action method and arguments
    
    Change-Id: Iea4f46c7da9c61e07aa23e897b60992b8fdb6663

commit 524c7fa6dfade6efcabda19b105d58cab8c434e2
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Oct 24 16:28:02 2012 -0600

    Detect and fix issues caused by vol ID migration
    
    The migration from volume ID to UUID neglected to update the provider_location
    field on the volume.  As a result the iqn and volume name no long match and
    existing volumes are no longer able to be attached after an upgrade
    (essex -> folsom and then nova-vol->cinder).
    
    This patch adds a method to the volume driver that will check for the
    mismatch of volume name in the iqn during service start up.  If
    detected it will update the provider_location field in the database
    to include the new ID.  Also it will create a symlink to the device backing
    file that also has the correct naming convention.
    
    Note: We don't disturb an connections that are currently attached.
    For this case we add a check in manager.detach and do any provider_location
    cleanup that's needed at that time.  This ensures that connections
    persist on restarts of tgtd and reboot.
    
    Change-Id: I8224824b793c98a9767c5d8dd741d892be720c4f
    Fixes: bug 1065702

commit 39e763d3aff5181a00e88b1ff2707bff209240ea
Author: Nirmal Ranganathan <rnirmal@gmail.com>
Date:   Sun Oct 21 11:38:45 2012 -0500

    Split out drivers in san.py
    
    The SolarisISCSIDriver and HpSanISCSIDriver have been removed from
    san.py and placed in their own files. The default SanISCSIDriver
    implementing some common methods still resides in san.py. These
    san drivers have now been grouped in the san module.
    
    Implements bp driver-cleanup
    
    Change-Id: I68802f01a4a8c7e93e097777d305fbee0d15128a

commit 826c4520d093f5e0809a08e10b5d18bf69adc698
Author: Brian Waldon <brian.waldon@rackspace.com>
Date:   Sat Oct 27 15:36:30 2012 -0700

    Add VolumeHostAttribute API extension
    
    Expose the host on which a volume resides through a new API
    extension. This is only presented to Admins by default. This
    can be controlled with the 'volume_host_attribute' policy
    rule.
    
    Fixes bug 1035350.
    
    Change-Id: I0a74a0dfbd78e853219150fbe0d3fba77c6f9bb6

commit 61917c2193ec4ca822af946a808dd0061cb77ef4
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Wed Oct 3 17:10:57 2012 +0800

    Add default volume type flag
    
    Where using volume type scheduler, 'volume type' is an essential input for
    scheduler to perform sophysticated scheduling.  This patch adds a new
    flag 'default_volume_type to allow admin to set one volume type as the
    default type for volume creation if user doesn't specify any.
    
    Also add more clear 404 message to API if create request provided non-existing
    volume type.
    
    Note: Setting the 'default_volume_type' flag to non-existing volume type
    is problematic and should be avoided, and the outcome of such behavior is
    equivlant to setting default volume type to None.
    
    This is part of patch set implementing 'volume-type-scheduler'.
    
    Change-Id: Ib2b2bbdc9bc96ab097cca2821c9aef04c65c2857

commit 452b92a13bcf4cc2afdf97c742f0773455608a26
Author: Josh Durgin <josh.durgin@inktank.com>
Date:   Thu Oct 25 16:14:07 2012 -0700

    Fix typo so setting volume_tmp_dir works
    
    This can be controlled by environment variables without setting
    volume_tmp_dir as well, so there's an easy workaround for
    Folsom.
    
    Fixes LP bug #1071536
    Signed-off-by: Josh Durgin <josh.durgin@inktank.com>
    
    Change-Id: I50996c7c7a870d8e2bab1d3f44fd4d15b8ced6a6

commit 628adc99b41c097b0c071087a274ded850ff7df5
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Tue Oct 23 12:12:30 2012 +0000

    Rollback for resources during volume creation failure
    
    Fixes bug #1070258
    
    Add a single QUOTAS.rollback for all exceptions. Ensure that no stale
    "reservations" are left in place after a failed volume creation.
    
    Change-Id: Iedb193b213b8ee700a5765278ac4d00dac66d53a

commit 9fe4477f9b1f4e825941cb1ce42ced1a1a862b33
Author: jking-6 <jking@internap.com>
Date:   Wed Oct 24 13:15:03 2012 -0400

    Allow the user to update a volume's metadata
    
    The fix mainly involves updating the VolumeController's update method
    to allow the 'metadata' key to be a valid key in a request body.
    
    The _translate_volume_summary_view method is updated to check for a
    'metadata' key in the vol parameter after checking first for
    'volume_metadata'.  This is to avoid making a third call to the
    database after updating the volume model.  This solution introduces
    the least amount of new code.
    
    Change-Id: I41256d03f9c4c7a0866ff0f2d35fce8e4fd26b11
    Fixes: bug #1046382

commit df2f070604dad61738ccd3113016f76f2af20cae
Merge: b7df13c 5ddcf35
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 24 17:52:45 2012 +0000

    Merge "Drop unused quota_usage db methods"

commit b7df13c7b698556c5c43601a109231e843195eca
Merge: 02755f3 b3b1d48
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 24 17:22:53 2012 +0000

    Merge "Update HACKING.rst and related changes from Nova/PEP8."

commit 02755f322104617936c0aaec8ae81c7f6adefce3
Merge: f004634 1a7c6f4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 24 15:00:39 2012 +0000

    Merge "Adds support for Windows 2012 Storage Server blueprint windows2012driver https://blueprints.launchpad.net/cinder/+spec/windows2012driver"

commit f004634ac16839f543efdfae8c3b1ac0cb36ea35
Author: Vincent Hou <sbhou@cn.ibm.com>
Date:   Mon Oct 22 13:50:56 2012 +0800

    Add the generation of the username and password for iSCSI target.
    
    When a volume is created, a pair of username and password is generated by the
    driver for tgtadm and ietadm.
    
    Implementation of bpiSCSI-CHAP.
    
    Change-Id: I4f382a96ba4553158dc609e8caf9e70486e30603

commit c24a82a54e1a4be6d1e6f333763f15b435561573
Merge: 00251c0 7dbc23c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 23 01:17:19 2012 +0000

    Merge "Add trove classifiers for PyPI"

commit b3b1d48d5384cb9f70fdc4b27e07006ba44daa14
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Oct 22 18:37:11 2012 -0400

    Update HACKING.rst and related changes from Nova/PEP8.
    
    Sync up with changes made in Nova, this adds information
    about line continuation (PEP8), OpenStack capitalization,
    and commit messages.
    
    Change-Id: Id6637307411bcc7a3637ac514c4ec34e26481e0d

commit 00251c0e16f1149d3cee2719173490f3f0e8868e
Merge: f41e596 8b58a46
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Oct 22 22:39:03 2012 +0000

    Merge "Ensure device node exists before wiping during volume deletion"

commit f41e596607f0a6ef29985a571fb8316132d09932
Merge: 921e13f 71994f4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Oct 22 22:37:53 2012 +0000

    Merge "Update volume and snapshot status on delete"

commit 7dbc23c01eba6172a30448447084f4210457d99f
Author: Doug Hellmann <doug.hellmann@dreamhost.com>
Date:   Mon Oct 22 18:25:01 2012 -0400

    Add trove classifiers for PyPI
    
    Add classifiers so we can eventually register the project
    on PyPI to reserve the name, even though we won't release
    packages there.
    
    Change-Id: I11fa429d34301ba9a1ec9a543f88d57eb3ac56bb
    Signed-off-by: Doug Hellmann <doug.hellmann@dreamhost.com>

commit 8b58a4605f83de6a6286ac9de2634dd3269c22b1
Author: Eric Harney <eharney@redhat.com>
Date:   Mon Oct 22 18:02:17 2012 -0400

    Ensure device node exists before wiping during volume deletion
    
    If the LVM device node is missing when a Cinder volume is deleted,
    a large amount of data will be written to /dev/.  Check that the
    device node exists before performing a _copy_volume('/dev/zero'...)
    to wipe it.  Fixes bug 1070023.
    
    Change-Id: I77a0a5545a54a4adc905a781ed8120db7adccc27

commit 71994f45f51bde72b3323fb84a2461ae452b6949
Author: Clay Gerrard <clay.gerrard@gmail.com>
Date:   Mon Oct 22 16:47:12 2012 -0500

    Update volume and snapshot status on delete
    
    Change the status of "deleting" resources at the same time we update boolean
    flag for deleted.  Makes dumb queries looking for stuck statuses a little
    easier.
    
    Change-Id: Iaf3386526a369f9bf281eb4be42eb11277038c92

commit 5ddcf35d6889464182173c0524801d20d807e3b6
Author: Brian Waldon <brian.waldon@rackspace.com>
Date:   Mon Oct 22 14:37:26 2012 -0700

    Drop unused quota_usage db methods
    
    The quota_usage_update and quota_usage_destroy db methods are
    not used anywhere - drop them.
    
    Change-Id: Iaa23d1de1642ac7ec9ab4b4cbe119ec742346505

commit 921e13f644db987295d22530434f16319f2643aa
Author: Brian Waldon <brian.waldon@rackspace.com>
Date:   Mon Oct 22 14:17:40 2012 -0700

    Drop duplicate sqlalchemy db api methods
    
    Several methods were redefined at the bottom of
    cinder/db/sqlalchemy/api.py. They have been removed:
    - quota_get
    - quota_get_all_by_project
    - quota_create
    - quota_update
    - quota_destroy
    - quota_destroy_all_by_project
    - quota_class_get
    - quota_class_get_all_by_name
    - quota_class_create
    - quota_class_update
    - quota_class_destroy
    - quota_class_destroy_all_by_name
    - quota_usage_get
    - quota_usage_get_all_by_project
    - quota_usage_create
    - quota_usage_update
    - quota_usage_destroy
    
    Fix bug 1070033
    
    Change-Id: I64b0b0045af7251853da97a8a8c4b2cb09b1dd53

commit 186e32da976b5b9a28952fceb967e2a7119b5851
Merge: f3ecc59 1ea9588
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Oct 22 19:11:22 2012 +0000

    Merge "Update common."

commit f3ecc59364b9adf0bee60fa0dee81bf54587f712
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Mon Oct 22 03:39:04 2012 +0000

    Change output strings to i18ned
    
    Fixes bug #1069601.
    
    Ensure visible message in cinder-volume-usage-audit got through
    translation.
    
    Change-Id: I5c32ce3b2ef2541b8a5520ed53feaf8e00f43c9d

commit 1a7c6f4a09ef9980ead0c46d080078a7bbc81d10
Author: Pedro Navarro Perez <pednape@gmail.com>
Date:   Thu Oct 18 22:44:59 2012 +0200

    Adds support for Windows 2012 Storage Server
    blueprint windows2012driver
    https://blueprints.launchpad.net/cinder/+spec/windows2012driver
    
    Change-Id: I3f7efb1b976fedc4afb736b87d550a34c330c839

commit 1ea9588c4df4ec5d36c2d56c66204138d6b68361
Author: Michael Still <mikal@stillhq.com>
Date:   Thu Oct 18 11:43:12 2012 -0700

    Update common.
    
    policy.py is not updated as it causes test failures. I will investigate
    that separately.
    
    Change-Id: I9936137c1ab5b368ba6c3c35c423568b38bf913f

commit a4104b76d62c4aa7035891e94ab7bce8469324b6
Author: Cory Wright <corywright@gmail.com>
Date:   Thu Oct 18 08:00:41 2012 -0700

    Fix incorrect class path for legacycinder formatter in logging_sample.conf
    
    Change-Id: I313609f7b996650dfa2c804ebe964aa31549f5ea

commit 1fa8442a525a49d4cf63a8f2b3fab00f2e6405ae
Author: Eric Harney <eharney@redhat.com>
Date:   Wed Oct 10 10:38:22 2012 -0400

    Error message references incorrect variable
    
    In remove_iscsi_target() for the TgtAdm class, the "Failed to
    create iscsi target for volume id:" message references a
    variable that doesn't exist -- use the correct variable name.
    
    Fixes bug 1065073.
    
    Change-Id: I55acb0dd2ee368fdc62a0ded6280d7ef7cd8ab7f

commit 69ab5832e8f4a6614903339c79a67faff06e61e4
Merge: 6912195 45ca339
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 9 02:32:13 2012 +0000

    Merge "Configuration Options clean up"

commit 69121952feba0d0046ba6df24258f6011b0325ce
Author: Eoghan Glynn <eglynn@redhat.com>
Date:   Thu Sep 27 22:03:16 2012 +0100

    Loosen anyjson dependency to avoid clash with ceilometer
    
    Ceilometer depends on anyjson 0.3.1, whereas cinder requires
    exacly 0.2.4.
    
    The net effect is a devstack with ceilometer installed will
    appear to work initially, as ceilometer is sparked up after
    cinder. However, if any of the cinder services are subsequently
    restarted, they fail with:
    
      pkg_resources.DistributionNotFound: anyjson==0.2.4
    
    By simply allowing the cinder anyjson dependency version to
    be greater than as opposed to an exact match, we can avoid
    the clash.
    
    Change-Id: I21737a2504705f15dd16e6762b44624678177442

commit 45ca3393b2e0348754fd943a00c4fcb2cf5c60d5
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Mon Oct 8 15:36:39 2012 +0800

    Configuration Options clean up
    
    Small clean up of configuration options including:
     * unused config opts:
       - reclaim_instance_interval
     * rename 'instance' in config opts name/help message to 'volume'
       - 'instance_usage_audit_period' to 'volume_usage_audit_period'
       - help message of 'volume_name_template'
    
    This change also re-generates cinder.conf.sample file.
    
    Change-Id: I3d6c43cf56a5335b4bf768c51d65d76735213431

commit 6205ef6f074a16ebe858c6721f37b00ec3373f9d
Merge: 1a524f8 6750acc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Oct 5 18:16:35 2012 +0000

    Merge "Add snapshot force delete admin action"

commit 1a524f8b8088af65eb4551e6683b24a2fde17849
Merge: 61a5ab8 121a519
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Oct 5 17:49:44 2012 +0000

    Merge "Mock out sleep in some retry tests"

commit 61a5ab81d3f784e498ff918a210767221f320785
Author: Julien Danjou <julien@danjou.info>
Date:   Fri Oct 5 14:29:19 2012 +0200

    Fix typo in policy documentation
    
    Change-Id: I61df9dc9b752e1598f4a472771e581091f4de18f
    Signed-off-by: Julien Danjou <julien@danjou.info>

commit 12678167d1b620e85413f2887c173ad2e238364d
Merge: 30ac574 bdee787
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Oct 5 04:32:15 2012 +0000

    Merge "Use policy based rule to define context.is_admin"

commit 6750acc73420490172d557302d715433351f1373
Author: clayg <clay.gerrard@gmail.com>
Date:   Thu Oct 4 02:31:28 2012 -0500

    Add snapshot force delete admin action
    
    Change-Id: I289030cf0db42aa78cd2d8441d89610dad6cbeaa

commit 121a51911b6c88f97783cf57967506d81de12188
Author: Clay Gerrard <clay.gerrard@gmail.com>
Date:   Wed Oct 3 13:00:07 2012 -0500

    Mock out sleep in some retry tests
    
    Stub sleep in storwize tests
    Stub sleep in glance tests
    
    Change-Id: Ia935d561d104a4cd6373624208dedf5891b516e3

commit 30ac5746c1c8a93c50ee65b66340fa59f33936a6
Merge: 08a1b5b 1fde9df
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 3 17:29:41 2012 +0000

    Merge "Fix typo in sample configuration file"

commit 08a1b5b2bf7638131bda890ed5cd360d26e10f86
Merge: 3a654b7 4662fa2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 3 17:19:08 2012 +0000

    Merge "Replace builtin hash with MD5 to solve 32/64-bit issues."

commit 3a654b7c4495f890caf508521f1dd5bb00d15368
Merge: 6d841d3 adc8340
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Oct 3 17:15:11 2012 +0000

    Merge "Remove unused code: check_for_export."

commit 6d841d3d0df00fdef5b16c588b20049d4708dca1
Merge: 4cfb90a 38f4d6e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Oct 2 22:58:34 2012 +0000

    Merge "Update distribute version in test requires."

commit bdee787cf79c359cc4583483e010ddf3d356cb18
Author: Clay Gerrard <clay.gerrard@gmail.com>
Date:   Mon Oct 1 11:33:25 2012 -0500

    Use policy based rule to define context.is_admin
    
    When creating a context set is_admin based on policy instead of
    hard coded requirement for a role named 'admin'.
    
    Fixes: bug# 1053181
    
    Change-Id: I9c05b8ecde887467557c4f01e074145b6a6372aa

commit 4cfb90a9b82c52c476187204f8b0a83d9ba7c186
Author: Clay Gerrard <clay.gerrard@gmail.com>
Date:   Fri Sep 28 16:27:09 2012 -0500

    Sync openstack common and add policy
    
    openstack-common.conf now includes network_utils and policy
    
    The default kombu imple for openstack.common.rpc seems to depends on
    network_utils.
    
    Fixes: bug #1058353
    
    Change-Id: I2526c7355e7f2be67b25bf22854c56ec65741d9a

commit 1fde9df9a5a82edcb8125e34906520fa4813fb6c
Author: Julien Danjou <julien@danjou.info>
Date:   Fri Sep 28 11:49:46 2012 +0200

    Fix typo in sample configuration file
    
    Change-Id: I9f7f6c7c15969fe8cd701ac7580f33d173ea1375
    Signed-off-by: Julien Danjou <julien@danjou.info>

commit 38f4d6ef58ae6f89958a4cdc025d0c7aa0dcfb0c
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Sep 27 18:45:39 2012 -0600

    Update distribute version in test requires.
    
    Changes in openstack-infrastructure have upgraded version of distribute.
    We should match this to keep things consistent.
    
    CI systems are installing virtualenv>=1.8 which gives distribute
    0.6.28, so we'll add that to our test-requires.
    
    Change-Id: I44ad33fd0e96576379ee62a6f584f742e466ce74

commit 2a15ffc589fc5f96fc91c40a27403128d100775b
Merge: df818cc 5b61536
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 25 21:13:07 2012 +0000

    Merge "Fixes remove_export for IetAdm"

commit df818cc2bbd31d91d2055d0ec164736a36317f4d
Merge: 94c4ec8 b2627b2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 25 20:55:17 2012 +0000

    Merge "Fix NetAppCmodeISCSIDriver._get_lun_handle() method"

commit 94c4ec8a1e68fe7a764732a65a48322c7d1cc724
Author: Eoghan Glynn <eglynn@redhat.com>
Date:   Tue Sep 25 15:52:38 2012 +0100

    Revert explicit usage of tgt-adm --conf option.
    
    Fixes bug 1056246.
    
    This reverts commit 0903603971033536751ba40df98a3c39175d3189.
    
    This ensures that we fail-fast if the tgtd configuration does
    not include the directory for volume iscsi target configs,
    instead of only blowing up when tgtd is restarted.
    
    Change-Id: I30aa3f1d8944eb33cd4a42d65e227031023406b4

commit 5b61536fdf17332f48af4b422fe23c2e153934a1
Author: MotoKen <motokentsai@gmail.com>
Date:   Tue Sep 25 13:08:34 2012 +0800

    Fixes remove_export for IetAdm
    
    * Corrects indentation.
    * Uses specific iqn as keyword argument.
    
    Fixes bug 1055401
    
    Change-Id: Ie99dd8a34924f0d7f447cf41a305353659a51d11

commit 7f00d13640edac8136241e546076f2106f7bfa61
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Sep 24 12:59:15 2012 -0600

    Add missing entries in setup, fix up pip-requires
    
    setup.py still has references to nova/compute and was missing some
    requires statements, and more importantly didn't hvae the install_requires.
    
    Also, tools/pip-requires needed lxml versions set, as well as
    added the missing setuptools_git entry.
    
    This was exposed when trying to run Grenade as the requires.txt
    file was never generated.
    
    Fixes bug #1055693
    
    Change-Id: Iaf9669d66e89507989ef3fde630dc2b488a97cfc

commit b2627b27dae521d719b90831dcc41695b389712f
Author: Ben Swartzlander <bswartz@netapp.com>
Date:   Mon Sep 24 12:30:48 2012 -0400

    Fix NetAppCmodeISCSIDriver._get_lun_handle() method
    
    bug 1055578
    
    Change-Id: I06da6a9a59fa2320f1cae9698e5e63562e534916

commit 0f0a90ca0d16935fbd8d9af481a0ae0c263f133b
Merge: 454d596 186143e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 21 21:56:48 2012 +0000

    Merge "Fix cinder-volume-usage-audit"

commit adc83405e599bd51abb8f3617916c8f80c8a9d4f
Author: Russell Bryant <rbryant@redhat.com>
Date:   Fri Sep 21 14:51:17 2012 -0400

    Remove unused code: check_for_export.
    
    This code has been unused since cinder was split from nova.  It used to
    be used as a safety check during live migration.  The check was removed
    recently in nova, since it wasn't being used with Cinder anyway (just
    nova-volumes).
    
    An alternative approach would be to expose this from Cinder somehow if
    we feel it's important, but until then, there's no reason to keep dead
    code around.
    
    Change-Id: I5adfb405c1bd04bcc1ad61d511afb227a198f4ed

commit 454d596b65569eedcd6dc1e9bece66f2a13871f8
Merge: 414757d c678b04
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 21 17:23:25 2012 +0000

    Merge "Return 400 if create volume snapshot force parameter is invalid"

commit c678b045c9839ed30e13fe5e7e655e3cb2e2c3f9
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Wed Sep 12 10:18:31 2012 +0000

    Return 400 if create volume snapshot force parameter is invalid
    
    Fixes bug #1014689
    
    * Add is_valid_boolstr function in utils.py
    * Add force parameter check in SnapshotsController.create()
    * Add unittest for invalid force parameter.
    
    Change-Id: I0f64326f33eb4fad1cf384bd825f56f09e935f40

commit 186143ecc81369c02aca51b81feb976259bcad41
Author: Julien Danjou <julien@danjou.info>
Date:   Thu Sep 20 18:37:36 2012 +0200

    Fix cinder-volume-usage-audit
    
    It seems many point in the internal API and openstack.common changed, but
    this binary has been forgotten.
    
    Also, context ie needed when using the notifier, so import it.
    
    This fixes bug #1053502
    
    Change-Id: I306b8671e7b0ed8c2ce2548a51a4c5e6393e13cb
    Signed-off-by: Julien Danjou <julien@danjou.info>

commit 414757d8c336ef791f9654a425693918e1ecd792
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Fri Sep 21 15:58:27 2012 +0300

    Sync with nova change I135ed85a.
    
    This patch syncs the cinder driver code with that of the nova code,
    as we received comments in the review process there.  All changes are
    minor: (1) removing unnecessary type checks of the flags, (2) not
    using getattr to access the FLAGS, and (3) using the self.flags()
    infrastructure that test.TestCase provides.
    
    Change-Id: Id740be6441862f048c3a9267394492a7ed65db84

commit 5c74bf51f6ef131db7c47606949b99c57cbbe217
Merge: 52de540 bc0fb11
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 21 04:45:51 2012 +0000

    Merge "Remove cinder gating hack"

commit 52de54082cd0dbacd2c79ccc8c6b0cbbd7609884
Merge: a978780 a1cbbe2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 21 04:04:42 2012 +0000

    Merge "Stop double logging to the console"

commit a978780f710a9eff34cd3720160ba2757d3215b9
Merge: f551985 d051ca9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 21 03:32:03 2012 +0000

    Merge "Set the default availability zone back to nova"

commit bc0fb113af225878b4305da7d834673a6b7f5e97
Author: Vishvananda Ishaya <vishvananda@gmail.com>
Date:   Fri Sep 21 00:32:56 2012 +0000

    Remove cinder gating hack
    
    The hack was necessary while we switched the name used for az's
    in the gating tests. Now it can be removed
    
    Change-Id: I970205910ac0950ab4a961aa0537eb964d7f0d3c

commit d051ca9cdf828b1e47ef5158c4b83beb9484109e
Author: Vishvananda Ishaya <vishvananda@gmail.com>
Date:   Thu Sep 20 16:34:59 2012 +0000

    Set the default availability zone back to nova
    
    Currently nova and cinder have to have the same set of az's for
    the ec2 api to work properly. Therefore, set the default az for
    cinder to nova so they will match.
    
    Includes a hack to az to set cinder to nova to work around gate
    issues. The hack can be removed once the gate sets the zone to
    nova properly.
    
    Fixes bug 1053508
    
    Change-Id: I9c30ccc5c79b9c4e6c1ebeb3e80d0098e1ffbb11

commit f55198570fd59b7a2a4ddd2f5e77b3d03d0a3d64
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Sep 20 17:27:13 2012 -0600

    Add lun number (0) to model_update in HpSanDriver
    
    The HpSanDriver was not setting the lun number in model_update
    and as a result default value of 1 was being used.  Trouble is the
    Lun number used by LeftHand is 0, so the connect info would be
    wrong and fail when trying to attach the volume.
    
    Fixes bug #1053717
    
    Change-Id: If82a66c6a78ab03da09223a7b79abe559a6f702f

commit 6929fa2166b44e47da40e798148ed901ede673f1
Merge: 730ebab 3b8a630
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 20 22:59:47 2012 +0000

    Merge "Fixes to the SolarisISCSI Driver"

commit 3b8a6303e6c04f0c7b45043c2fcd53948910d37e
Author: Yosef Berman <yosef@cloudscaling.com>
Date:   Thu Sep 20 10:34:24 2012 -0700

    Fixes to the SolarisISCSI Driver
    
    Even when the san_is_local config option was set to false, the
    SolarisISCSIDriver's _execute method was accidentally set to
    util.execute by the VolumeDriver's __init__ method.
    
    Fix bug 1053041
    
    Change-Id: Ie3299f5065e2b084644ec2956f0c6ebae4264a49

commit a1cbbe2e9e5d7a5ec55ec1197571cd68fcdbad15
Author: Vishvananda Ishaya <vishvananda@gmail.com>
Date:   Thu Sep 20 16:52:51 2012 +0000

    Stop double logging to the console
    
    The code in nova for logging added an extra root handler to be
    able to log messages to the console during log setup. This handler
    was removed in the setup method. The common setup method no longer
    removes this handler, so don't create it. Note that there may be
    a small period before the logging setup is finished where messages
    will not appear.
    
    Fixes bug 1053512
    
    Change-Id: I559cca8ffc2a33beff22025e42a9713487245980

commit 730ebab71e11812b6b5990180e7bd9cabfe237c4
Author: Thierry Carrez <thierry@openstack.org>
Date:   Thu Sep 20 14:21:00 2012 +0200

    Restore SIGPIPE default action for subprocesses
    
    Python ignores SIGPIPE on startup, because it prefers to check every
    write and raise an IOError exception rather than taking the signal. Most
    Unix subprocesses don't expect to work this way. This patch (adapted
    from Colin Watson's post at http://tinyurl.com/2a7mzh5) sets SIGPIPE
    back to the default action for cinder.utils.execute and cinder-rootwrap
    created subprocesses.
    
    Fixes bug 1053364
    
    Change-Id: I4b3307bd2f0f5d0da529d8b7d80fabae28c57732

commit 32721a67ae2936093aef5ecea4efd8b32a516c32
Merge: 321d323 f14e955
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 20 05:05:14 2012 +0000

    Merge "Correct IetAdm remove_iscsi_target"

commit 4662fa29af88783cd9e95b553c044c733ea94753
Author: Ben Swartzlander <bswartz@netapp.com>
Date:   Wed Sep 19 17:07:47 2012 -0400

    Replace builtin hash with MD5 to solve 32/64-bit issues.
    
    It seems that Python's builtin hash returns different
    values on 32-bit and 64-bit architectures, so it's
    safer to use a well-defined hash like MD5.
    
    bug 1050359
    
    Change-Id: I0a4f11b34a1f76cda279ec801cede1440c6e5966

commit f14e955735065a998cd78280661f6d33c850d9e2
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Sep 19 11:18:51 2012 -0600

    Correct IetAdm remove_iscsi_target
    
    Remove logical units should be done before delete the target while
    unexport iSCSI volume. Or ietd will show "No such file or directory"
    error.
    
    Fix bug 1043107
    
    Change-Id: Iab5b97044c5a30c788fcabce827923ff82a84b91

commit 321d32379cd6044378f2f9c32c068de18f514df5
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Sep 18 13:29:20 2012 -0600

    Add nova migrate_version check to cinder import
    
    Cinder-manage migrate import only works from Nova/Folsom--->Cinder/Folsom
    this change adds an explicit check of the nova migrate_version (133)
    to make sure we have all of the volume id/uuid changes that are needed
    to be compatable, and presents an error message if that's not the case.
    
    Addresses bug #1052598
    
    Change-Id: I7f32cf35e33320f4348b7bc44a8e92b5716b71d8

commit 45e67e8b77ffbc783da111dda96add68f1687341
Merge: cbf2e46 04ca527
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 18 20:13:30 2012 +0000

    Merge "Add update to volume and snapshot controllers"

commit cbf2e466ad47c0911b10d5b16b734ed8311d250a
Merge: a5e9461 8cf45c9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 18 17:30:17 2012 +0000

    Merge "Bump version to 2013.1"

commit a5e9461d47238579509fd558cc5e83a8102bb102
Merge: 8c99195 58dd238
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 18 16:30:19 2012 +0000

    Merge "Clean up db.volume_create()"

commit 8cf45c9382461d29c5449d2ab542d9746064df24
Author: Thierry Carrez <thierry@openstack.org>
Date:   Tue Sep 18 15:41:42 2012 +0200

    Bump version to 2013.1
    
    Bump version to 2013.1 on master branch to open Grizzly development.
    
    Change-Id: Iad73bf47c4ff77216ee27c3b08117dcaa9487ddf

commit 8c9919582ce329822259474c55fec12f4a0dbf82
Merge: 2693b40 f9cf780
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 18 08:12:09 2012 +0000

    Merge "Fix volume deletion when device mapper is used"

commit 58dd2385365e7f5b79dc0c151092795d02bfe802
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Sep 17 15:36:10 2012 -0600

    Clean up db.volume_create()
    
     Adding the metadata return to db.volume_create() introduced some
     messy and unnecessary repitition in the code.  This patch
     cleans that up and makes use of existing volume_get functions rather
     than duplicating the code in volume_create.
    
     This syncs cinder up with the patch as it's been submitted for nova
     in https://review.openstack.org/#/c/10461/
    
     Addresses bug #1052176
    
    Change-Id: I17aca069fbb0240770613f176430a1b2fcf2b25a

commit 2693b405b4c0667e1cec3295472331172d641cb4
Merge: 644a98a 9696bd9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 17 20:37:07 2012 +0000

    Merge "Update quota when deleting volume that failed to be scheduled"

commit f9cf780678078c77881fee41addc093abb15c136
Author: Rafi Khardalian <rafi@metacloud.com>
Date:   Wed Sep 5 05:51:43 2012 +0000

    Fix volume deletion when device mapper is used
    
    Call dmsetup remove if there is a /dev/mapper/nova--volumes-
    element present.
    
    Resolves bug 979020
    
    Change-Id: Iddaaed411a77dda4bd32f9a97687ff17744119eb

commit 644a98a9eb1b0cedfc82f6e4efe0f12aeab93de4
Merge: 1a40881 a3e7da8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 17 18:14:34 2012 +0000

    Merge "Fix FLAGS.volumes_dir help message"

commit 9696bd9a8c11618edf970812de822ad0ba99498c
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Mon Sep 17 17:26:09 2012 +0800

    Update quota when deleting volume that failed to be scheduled
    
    If one volume was failed to get scheduled, removing such volume should
    also clean up reservation.
    Also when create_volume is ready to send to scheduler, reservation
    should be committed no matter backend can successfully create that
    volume or not since deleting volume call will do a minus reservation
    even on volume with 'error' status.
    
    Fix bug 1052052
    
    Change-Id: Iaec9926024ad5adb38b08b07772095f49b8593c2

commit 1a408818e96434778d34415e880d81c6f176233f
Author: Russell Bryant <rbryant@redhat.com>
Date:   Fri Sep 14 13:50:47 2012 -0400

    Sync a change to rpc from openstack-common.
    
    This commit pulls in the following change from openstack-common:
    
        ee44222 Change the qpid_heartbeat default to 60 seconds.
    
    Fix bug 1050661.
    
    Change-Id: I999e16c18227f9aab4dc8c2ff88cd6907c7c8191

commit 26f5b0c7563bd89326715647e24ae284e70ec865
Merge: 8c7cf10 e255311
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 14 03:43:28 2012 +0000

    Merge "Sync notifier changes from openstack-common"

commit 8c7cf1087681c283d010aa7a2d6f10d94ef4536f
Merge: 0223924 2aa5015
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 14 03:43:06 2012 +0000

    Merge "Add a resume delete on volume manager startup"

commit 02239242ebf451ba7316d6ed9c4aef70147d6d29
Merge: 4ae3c1f dcecb58
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 14 03:41:14 2012 +0000

    Merge "Improve entity validation in volumes APIs"

commit 2aa501560384205b0fd3891ed5dd2a3864afcdc2
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Sep 13 10:53:52 2012 -0600

    Add a resume delete on volume manager startup
    
      Currently if for some reason the volume service was stopped
      during the zero out operation of a volume delete there was
      no way to get the volume removed from the system (it would
      be present in deleting status forever).
    
      This change adds a simple check of volumes in the DB with status
      of deleting, and if any are found it restarts the delete process
      on them.
    
      addresses bug #1011150
    
    Change-Id: Id4c4a3bc61f95245ebc6658234b4b88029956562

commit 4ae3c1fabaa807eec2e7639b4c2bc7208e9e86e9
Merge: 974cbd7 3dcb3fd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 13 16:45:10 2012 +0000

    Merge "Add entity body validation helper"

commit dcecb586a0578688656d5420c40c26e5a8caa942
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Wed Sep 12 12:51:40 2012 +0100

    Improve entity validation in volumes APIs
    
    Fixes bug #1048565
    
    Use the new Controller.is_valid_body() helper to validate the entity
    body in various volumes related POST/PUT handlers and return 422
    as appropriate.
    
    Change-Id: I04127972981522c1ed81903893396c4f9665bcd3

commit 3dcb3fdba791639ab3fe7ab20b3398babcd27512
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Wed Sep 12 12:51:23 2012 +0100

    Add entity body validation helper
    
    Add a _valid_body() helper for the to avoid repeating the same tests in
    multiple methods. Include a check that the entity itself is actually a
    dict.
    
    (Cherry-picks part of commit d1ad73ee from Nova)
    
    Change-Id: If8114cc76d68567005c85c803f29e30e034db89a

commit 974cbd718d9c66a33b8ae6b0e3c4f7dcc5563015
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Sep 13 08:50:09 2012 -0600

    Should've added super().tearDown() in test_iscsi
    
      Made changes to use tempfiles and implemented teardown,
      but should have also called super().tearDown as well.
    
      Associated with chage: I9b9a2400
    
    Change-Id: I2e9d1cb7bfbe78323630eb2f3270698a7ce7e4c4

commit a130956e667da9d040f99de4edb0c0f72afde25d
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Sep 11 17:11:41 2012 +0300

    Fixes bug 1050135.
    
    Regenerate cinder.conf.sample and fix a couple related bugs.
    
    Change-Id: I3e472f9c69ad4888dc15f901f4bc7cd825fb5ba1

commit a3e7da8c515e3d10217ebc5bf708da13479ab80c
Author: Joe Gordon <jogo@cloudscaling.com>
Date:   Wed Sep 12 18:06:34 2012 -0700

    Fix FLAGS.volumes_dir help message
    
    And other nova/volume/iscsi.py typos
    
    Change-Id: I781a07b4f11b6cf336c278a6994bd5575ae1a70a

commit fde1827200b9b4ea1bec964df4dcd7f12de6b342
Merge: 924d8dd 96f72f2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 13 00:16:08 2012 +0000

    Merge "Use tmpdir and avoid leaving test files behind"

commit 924d8dd3a3a0f4ad5dc0fa872e4ad76f8153b050
Merge: 1f3c412 08bfa1c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 13 00:15:40 2012 +0000

    Merge "Sync log format changes from openstack-common."

commit 1f3c412e19b4120604453094c2583183aaeff116
Merge: 81061b1 b6cf220
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 13 00:15:16 2012 +0000

    Merge "Update rpc from openstack-common."

commit 96f72f2cfd0afa6e60399dadd30bb83b0ab8ee0e
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Sep 12 16:52:02 2012 -0600

    Use tmpdir and avoid leaving test files behind
    
     We were just creating a file for testing iscsi persist files and
     weren't cleaning up after the test.
    
     Change this to use a tmpdir and make sure we leave no tracks.
    
     Fixes bug #1050086
    
    Change-Id: I9b9a2400a172d52987d76f3132793cb042fd201c

commit 81061b1b251a568697836a91d6e5dff08872cf3a
Merge: b4e63d4 a955730
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 12 23:24:55 2012 +0000

    Merge "Add volume quota in volume/api.py and olume/manager.py"

commit b4e63d4269c658d412d0e635e396993ea0a2dc86
Merge: 24b3cd5 190c49e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 12 17:40:45 2012 +0000

    Merge "Fixes bug 1049446."

commit 08bfa1c5b9ed168f0edda03e63b2e445068c514c
Author: Russell Bryant <rbryant@redhat.com>
Date:   Wed Sep 12 12:34:43 2012 -0400

    Sync log format changes from openstack-common.
    
    This patch pulls in the following change from openstack-common:
    
        9f88d84 Improve logging of process id
    
    Change-Id: I6c5be346ed332d14357441b2b147ad1f09157f41

commit b6cf220db95391ee6c85ad07903478ca03d42873
Author: Russell Bryant <rbryant@redhat.com>
Date:   Wed Sep 12 12:30:04 2012 -0400

    Update rpc from openstack-common.
    
    Fix bug 1049843.
    
    This commit syncs the following commit from openstack-common:
    
        commit 7e9f72bb28456c912aa80945dbdb8d200f81b462
        Make projects define 'control_exchange'.
    
    This change allows cinder to set a project-specific default of 'cinder'
    for the 'control_exchange' option.  The option is now defined in
    cinder.flags.
    
    Change-Id: Ia91c172ca0665798d616f9faf5880770074235c8

commit a955730b569be6f1132cbd254d8f21828c54d2f2
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Wed Sep 12 07:10:53 2012 +0000

    Add volume quota in volume/api.py and olume/manager.py
    
    Fixes bug #1048158
    
    volume.api.API.create() call QUOTAS.reserve(), then
    volume.manager.VolumeManager.create_volume call QUOTAS.commit().
    volume.manager.VolumeManager.delete_volume call QUOTAS.reserve() and
    QUOTAS.commit().
    
    It also fixes bug #1049459.
    
    Change-Id: I764aeec83cce93595fbe9aa00205a7d8c9e13c35

commit 190c49e1381cc39160ced743cb11e140c9be4825
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Sep 11 13:31:01 2012 +0300

    Fixes bug 1049446.
    
    Removed the "vtype" option which did not work in the driver, and
    added the "easytier" option. Added another check to _check_flags
    and made sure -warning flag is passed properly. Added unit tests
    to check all option variations.
    
    Change-Id: I4e66436f8f62d851a079ec80209fe9d6b27fb5b4

commit 24b3cd56967193e789564245352acecb4c80f767
Merge: 6b612c1 e756bb9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 11 22:58:09 2012 +0000

    Merge "Remove null_kernel option."

commit 6b612c14eae150727cd24736bdb512d11b3a4f21
Merge: 2ed3eeb ea71637
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 11 22:15:46 2012 +0000

    Merge "Revert "Don't zero out snapshot volume on snapshot_delete""

commit ea716377a8a04937acfe637086b3657c4527f2ed
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Sep 11 21:41:30 2012 +0000

    Revert "Don't zero out snapshot volume on snapshot_delete"
    
    This reverts commit 1b3322d45fe2c5ed72cc7f8674e5e319928065ad
    
    Turns out that although it's less likely we can still see this issue when zeroing out regular volumes.

commit 04ca527aa394376b20e1fc09b1cdd1ca8a0a105a
Author: Clay Gerrard <clay.gerrard@gmail.com>
Date:   Mon Aug 27 21:38:25 2012 +0000

    Add update to volume and snapshot controllers
    
    Add update method to api.openstack.volume.volumes and snapshots
    controllers.  Url mapping automatically routes a PUT on the resource to
    the update method.  Implementation closely matches updates to server
    resource for the openstack compute api.
    
    e.g.
    
    curl http://localhost:8776/v1/${PROJECT_ID}/volumes/${VOLUME_ID} \
        -H 'x-auth-token: ${ADMIN_AUTH_TOKEN}' \
        -H 'content-type: application/json' \
        -XPUT -d '{"volume": {"display_name": "new-name"}}'
    
    Add volume.api.API.update_snapshot method to avoid making db calls
    directly from the SnapshotsController.
    
    Add tests for new methods.
    
    Update return value of test_volume.VolumeTestCase._create_snapshot
    to return the whole model like _create_volume
    
    fixes lp bug #1042904
    
    Change-Id: I887178f9b7834cc7afd54bba8fb902b630faf8c0

commit 2ed3eeb13514ce502ce1df873970404084b50999
Merge: f070460 2c7c976
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 11 17:20:55 2012 +0000

    Merge "Remove unused utils.wrap_exception"

commit f070460b70cae09014c0f3799f21306d391f7506
Merge: 8d4c1cf b51265a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 10 18:40:17 2012 +0000

    Merge "Nail the pip requirement at 1.1."

commit 8d4c1cfffc9f672716da25464eb95a4fab09d10e
Merge: 200151a 848d5de
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 10 18:26:00 2012 +0000

    Merge "rename nova.pot => cinder.pot, nova.po => cinder.po"

commit b51265a9f61c8ef445fba4110ea5684bc918e682
Author: Dan Prince <dprince@redhat.com>
Date:   Thu Sep 6 21:54:16 2012 -0400

    Nail the pip requirement at 1.1.
    
    The most recent version of pip (1.2.1 as of a couple days ago) fails
    to install the required Cinder .venv packages. Nailing the installed
    pip version when using run_tests.sh seems like a reasonable solution
    to this issue.
    
    Fixes LP Bug #1047120.
    
    Change-Id: I8d831f747b0d25b5d0f6e74a234e764ff448965b

commit 200151a36eaa421c8c2b5e45cec72f88bc2e469e
Merge: 97e1e71 1b3322d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 10 02:48:37 2012 +0000

    Merge "Don't zero out snapshot volume on snapshot_delete"

commit 97e1e712078e5d5b564b215a8e1c77fbf8103df7
Merge: dad3f66 6060836
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Sep 10 02:19:56 2012 +0000

    Merge "Recent changes to SolidFire API changed iqn format"

commit dad3f665a1e018012647b758bfc9a3a58b2db0ec
Merge: 0f8269a 3eaf43a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sun Sep 9 17:45:46 2012 +0000

    Merge "Prevent from bug #1008866 is reverted"

commit 0f8269afcab478dfbfbc3dc744468402bc11c8d1
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Sun Sep 9 18:49:19 2012 +0800

    Clean up .gitignore
    
    remove:
    * nova.egg-info
    * .nova-venv
    * tools/conf/nova.conf*
    
    Change-Id: I6578a75314b86628a5afbd4c4282fb271b9a830e

commit 3eaf43a9f5a26a51a89347cffe39bfae2b12c2d6
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Sun Sep 9 15:35:26 2012 +0800

    Prevent from bug #1008866 is reverted
    
    Fixes bug #1047841.
    
    Commit 2f5360753308eb8b10581fc3c026c1b66f42ebdc (Adds new volume API
    extensions) reverted a part of commit
    99456bd690445443ae05c0d4fe1ec43ba6090f6f (Send 'create volume from
    snapshot' to the proper host), so bug #1008866 is reproduced. I make
    API.create_volume to call _cast_create_volume in cinder/volume/api.py,
    it Prevent from bug #1008866 is reverted.
    
    Change-Id: I1bf0b7c5fc47da756bce95128f8fd770d14399b0

commit 848d5dee9666cd7ea92559bb4023281481f09a4b
Author: Hui Cheng <freedomhui@gmail.com>
Date:   Sun Sep 9 13:04:09 2012 +0800

    rename nova.pot => cinder.pot, nova.po => cinder.po
    
    Fixes Bug #1047195
    
    	renamed:    cinder/locale/bs/LC_MESSAGES/nova.po -> cinder/locale/bs/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/nova.pot -> cinder/locale/cinder.pot
    	renamed:    cinder/locale/cs/LC_MESSAGES/nova.po -> cinder/locale/cs/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/da/LC_MESSAGES/nova.po -> cinder/locale/da/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/de/LC_MESSAGES/nova.po -> cinder/locale/de/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/en_AU/LC_MESSAGES/nova.po -> cinder/locale/en_AU/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/en_GB/LC_MESSAGES/nova.po -> cinder/locale/en_GB/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/es/LC_MESSAGES/nova.po -> cinder/locale/es/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/fr/LC_MESSAGES/nova.po -> cinder/locale/fr/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/it/LC_MESSAGES/nova.po -> cinder/locale/it/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/ja/LC_MESSAGES/nova.po -> cinder/locale/ja/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/ko/LC_MESSAGES/nova.po -> cinder/locale/ko/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/pt_BR/LC_MESSAGES/nova.po -> cinder/locale/pt_BR/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/ru/LC_MESSAGES/nova.po -> cinder/locale/ru/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/tl/LC_MESSAGES/nova.po -> cinder/locale/tl/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/tr/LC_MESSAGES/nova.po -> cinder/locale/tr/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/uk/LC_MESSAGES/nova.po -> cinder/locale/uk/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/zh_CN/LC_MESSAGES/nova.po -> cinder/locale/zh_CN/LC_MESSAGES/cinder.po
    	renamed:    cinder/locale/zh_TW/LC_MESSAGES/nova.po -> cinder/locale/zh_TW/LC_MESSAGES/cinder.po
    
    Change-Id: I3a7894ac90793f270fb27444034b197b7c4f2841

commit 1b3322d45fe2c5ed72cc7f8674e5e319928065ad
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Sep 5 19:27:48 2012 +0000

    Don't zero out snapshot volume on snapshot_delete
    
     When trying to zero out an LVM snapshot on precise the kernel sometimes
     hangs when performing the dd.  Also the dd process itself can take
     an extremely long time even when it does succesfully complete.
     This can be up to 30 minutes for a 1 Gig volume/snapshot.
    
     I believe this is a kernel specific issue with LVM snapshots.  The
     zeroing process is unreliable and can cause kernel hangs to let's remove it.
    
     In order to protect against data leakage we'll implement the zeroing process
     on volume creation.  This doesn't seem to have a significant impact and doesn't
     suffer from the same isues tha zeroing out an LVM snapshot does.
    
     No reason to continue zero on delete, the zero on creation should
     probably be sufficient.
    
     Doesn't seem to cause any timing issues but need to keep this in mind.
    
     Fixes bug 1023755
    
    Change-Id: I56209d8e5973cffa997b4ec3e51c3361838386de

commit 60608360e0e052492a4352df015c177e6483bec0
Author: John Griffith <john.griffith@solidfire.com>
Date:   Sat Sep 8 10:40:55 2012 -0600

    Recent changes to SolidFire API changed iqn format
    
     The SF API initially didn't supply the in prefix so we
     formed it manually in the OpenStack driver.
    
     This has been fixed in the API so we dropped the manual
     build of the prefix in volume create.  Unfortunatly missed
     the same case needed in create-from-snapshot.
    
     Going forward we're adding running integration tests against
     SF to catch this sort of thing.
    
    Change-Id: I7107537d586f0a7c457dcbabfc90e1bc081d28d2

commit 43bc69336b10e357c4b8a8d802bfaf9e4a29157a
Merge: e96c3ea d9b8a51
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 7 18:03:06 2012 +0000

    Merge "avoid the buffer cache when copying volumes"

commit e96c3ea9d408f1826b8fdd532511b07a5eb2e463
Merge: 6eedab9 922fdd0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 7 17:15:00 2012 +0000

    Merge "Update dev docs   * Quick pass at implementing the basics for cinder dev docs   * Remove the N/A compute related stuff   * Clean up the architecture a bit to only show cinder related   * Remove various modules form TOC's that aren't applicable"

commit 6eedab91fe1c298527dbbcbc5eaf20d6ab2ab972
Merge: 9885eb1 aef9f4a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 7 15:53:08 2012 +0000

    Merge "Filter volumes and snapshots by query string"

commit 9885eb1d2f6edcaa2f9ab334a7809c4dcb403694
Merge: 92e3b84 21f4153
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 7 15:40:37 2012 +0000

    Merge "Rename test_nova_rootwrap.py to test_cinder_rootwrap.py"

commit 92e3b84bf11e3ee8c6e8bedb29858ebac311e079
Merge: 0c78f59 2d211b6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 7 15:08:12 2012 +0000

    Merge "Update SolidFire driver to reflect IQN changes"

commit 0c78f59907a18700292b8bd03667bf7711b201a9
Merge: 178e483 f926eb6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 7 14:47:30 2012 +0000

    Merge "Remove vpn_ping function in cinder/utils.py"

commit 178e48339bb824d8a741dcdca95e7062b94dc7cd
Merge: 0a67894 a17fc22
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 7 14:46:54 2012 +0000

    Merge "Clean up some codes about compute in VolumeTestCase"

commit 0a6789462e3bcebe49ffb30f450659d0de255c8d
Merge: fb78951 3e9b64c
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 7 14:46:35 2012 +0000

    Merge "Typo nova => cinder"

commit fb789516b0699a98afde017d3206a471c542885c
Merge: e5a2cd8 aba4dcb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 7 14:46:12 2012 +0000

    Merge "Remove unused db api"

commit 2c7c9765377dd18325884e4f1676358807581aad
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Fri Sep 7 11:29:00 2012 +0100

    Remove unused utils.wrap_exception
    
    Moved into utils by commit 6ad36074, but it hasn't been used in cinder
    since commit 9e4242c3 which prepared for switching to common rpc.
    
    Change-Id: I9dff70e81c0bae36f26df893ac6971e17ba46bb3

commit e2553117e1a772e0697fdf9fa224359a65d718a2
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Wed Sep 5 12:15:41 2012 +0100

    Sync notifier changes from openstack-common
    
    Syncs the following from stable/folsom:
    
     c767e9b Add multiple-driver support to the notifier api.
    
    Also remove notification_driver from cinder.flags. This should
    have been done when first adopting this code from openstack-common
    since the option is defined there now.
    
    Note: I've left the cinder-specific change to use cinder's context
    rather than openstack-common's context.
    
    Change-Id: I6ff4b5d45ca9cc4acaf37c62c143f2886ebee423

commit a17fc22b4d26b351a11aa5f3d4a2688cf46f007b
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Fri Sep 7 14:47:51 2012 +0800

    Clean up some codes about compute in VolumeTestCase
    
    self.compute have not be assigned in VolumeTestCase, so clean up some
    codes about it.
    
    Change-Id: Ie2577065ad27b4ee5b54dec65adfe723bf93985f

commit aba4dcbf9d8bcb2cc65109960e1e53169db8ff69
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Fri Sep 7 14:40:45 2012 +0800

    Remove unused db api
    
    service_get_all_compute_by_host and service_get_all_compute_sorted are
    not be used by cinder.
    
    Change-Id: Ie384d2666bbfea1d5fab74e4e3e021909f6c0e3f

commit e5a2cd89761b041883433829fe9a751c15eab229
Merge: 42cfb8f 590d3e7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Sep 7 06:36:02 2012 +0000

    Merge "Fixes potential bugs found by pylint"

commit 3e9b64c09ee631b355e8131930f8e9c35c061029
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Fri Sep 7 14:25:27 2012 +0800

    Typo nova => cinder
    
    Change-Id: I715feee8ca84fb65518e750585f82e942e710ecd

commit f926eb6f7ccca4dacad438382f48cf75f854ab77
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Fri Sep 7 14:13:11 2012 +0800

    Remove vpn_ping function in cinder/utils.py
    
    vpn_ping is not be used by cinder.
    
    Change-Id: I3ea04200360a23259ce3cce54ff88125895e217b

commit 2d211b66994240b2047d78b3d084d52abeac72a2
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Sep 6 23:50:49 2012 -0600

    Update SolidFire driver to reflect IQN changes
    
     Prior to release the SolidFire device returned only
     a partial iqn string in it's api call.
    
     With the GA release, this was modified to return the entire
     iqn string, so just drop the prefix we were using in beta.
    
    Change-Id: I7fa9d1ec6e2639149375a1115198eee90c527ef1

commit 21f415347a3f26f022427ea9c640396a4a19f4f5
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Fri Sep 7 12:21:40 2012 +0800

    Rename test_nova_rootwrap.py to test_cinder_rootwrap.py
    
    Change-Id: I13554b7afa994ec7c68e86e27568110445d1e4ed

commit 590d3e7b0f74524093725a2e28150b083a77cf96
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Fri Sep 7 11:16:36 2012 +0800

    Fixes potential bugs found by pylint
    
    Partial fixes bug #1043884
    
    * remove _ec2_volume_get_query and _ec2_snapshot_get_query in
    cinder.db.sqlalchemy.api, because they no longer be used in cinder.
    * import openstack.commmon.utils.timeutils, because notify_usage_exists use it.
    
    Change-Id: I3e989b940b6a99ac7751c940fa766aa13c61607b

commit 42cfb8fbb29577e1a0ab98ec7d8614c270f241ae
Author: Dan Prince <dprince@redhat.com>
Date:   Thu Sep 6 22:52:35 2012 -0400

    Handle missing 'provider_location' in rm_export.
    
    Updates the remove_export function in the ISCSIDriver so that
    it handles the case where provider_location isn't set on
    a volume. This can occur if a volume is created but not exported.
    
    This was a regression from a previous commit
    (9785963c841aff5ea1c159da81f93c2bf62c70c6) which changed the way iscsi
    targets are created/deleted.
    
    Fixes LP Bug #1046484.
    
    Change-Id: Ie762b092dd2a84fe4f3b72c46c03a97ae67c53b7

commit 2cd6a4d68f0faf592b5e2185f792afae27b438d9
Merge: 956fb82 8eb6462
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 6 23:31:02 2012 +0000

    Merge "Sync cfg changes from openstack-common"

commit 956fb8236a62435a27c380fd42aff0c6dfa33bf0
Merge: 66eb4a1 46060d6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 6 23:30:11 2012 +0000

    Merge "Sync misc changes from openstack-common"

commit 66eb4a1eb424b8fe27e2ec3bda7205129f0ef6af
Merge: 8235a22 dc89c6f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 6 23:29:51 2012 +0000

    Merge "Sync zmq changes from openstack-common"

commit 8235a22f1990a5b2e1f1b706dd01eb752ec3d9a4
Merge: 1d92751 6985bf4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 6 23:28:06 2012 +0000

    Merge "Remove default_schedule_zone."

commit 1d92751ccf024bfb3076c4f381101201f7206b60
Merge: 5c0c720 c86483b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 6 23:09:43 2012 +0000

    Merge "Remove memcached_servers config option."

commit 5c0c72051fd0a32c51bb68d955169b07d36ec882
Merge: 5edbbd3 7b45807
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 6 22:49:39 2012 +0000

    Merge "Remove dependencies for netaddr."

commit 5edbbd3f34256d60a3f39f129253680ec01cc159
Merge: d16b820 d6a5d0f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 6 22:49:07 2012 +0000

    Merge "Fix Typo in LOG.error"

commit d16b820dd51344d5b96b095102fd5d465f69a489
Merge: 01b1a9e 0903603
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 6 22:47:05 2012 +0000

    Merge "Specify the conf file when creating a volume."

commit 01b1a9e1795ecccccbdc66bf9068ccb4f544d5fe
Merge: 5d72e7a 51a008d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 6 22:30:57 2012 +0000

    Merge "Fix xml metadata for volumes api in cinder."

commit 0903603971033536751ba40df98a3c39175d3189
Author: Dan Prince <dprince@redhat.com>
Date:   Thu Sep 6 14:50:50 2012 -0400

    Specify the conf file when creating a volume.
    
    Updates the tgt-admin command to actually use the config file
    we create for the volume being created.
    
    This fixes an issue introduced in
    9785963c841aff5ea1c159da81f93c2bf62c70c6 which breaks iscsi
    volume creation.
    
    Fixes LP Bug #1046985.
    
    Change-Id: I06e83c9ba351c2b4846b557a3abb170a51d506c0

commit d9b8a5189fa9adf4308bf492dcf6537ba2b75311
Author: Pdraig Brady <pbrady@redhat.com>
Date:   Fri Jul 13 18:22:17 2012 +0100

    avoid the buffer cache when copying volumes
    
    The dd process when clearing volumes, was seen to starve
    the system when writing to an iSCSI SAN connected over GigE.
    
    So use O_DIRECT within the dd process so that the system
    buffer cache is not impacted, which is generally the
    best thing to do when streaming large amounts of data.
    
    Also one could drop the I/O priority of the dd process
    by prepending "ionice -c3". That would change the priority
    from "normal" (best effort) to "idle", which means zeroing
    will only proceed when there is no other I/O on the system.
    It was thought best to leave scheduling decisions to the
    system however, rather than specifying them explicitly.
    
    Fixes bug: 937694
    Change-Id: Ic842d7b83209c41d8ff05075990ed12e6f86283a

commit 5d72e7a40e49e6d69e6733b2564dcfc08f398bd1
Merge: 802c05b c191d0d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Sep 6 19:24:57 2012 +0000

    Merge "Add admin actions extension"

commit d6a5d0f9faa43a82104a0ed936382195b89d4107
Author: Chuck Short <zulcss@ubuntu.com>
Date:   Thu Sep 6 09:50:37 2012 -0500

    Fix Typo in LOG.error
    
    Fix typo in LOG.error, it should be
    vol_id rather than volume_id.
    Fixes bug #1046875
    
    Change-Id: Id162c6f185a110b63e8f9f509f5cde75f3626cbf
    Signed-off-by: Chuck Short <zulcss@ubuntu.com>

commit 7b458073cefac296f41c11ffacb0f18785f127d8
Author: Dan Prince <dprince@redhat.com>
Date:   Mon Sep 3 22:11:59 2012 -0400

    Remove dependencies for netaddr.
    
    Updates cinder utils.py to remove the parse_server_string and
    is_valid_cidr functions. These functions aren't in use
    and are the only reason we need the netaddr dependency.
    
    Updates pip-requires to drop the netaddr dependency.
    
    Also removes the unit tests for removed functions.
    Change-Id: I521ae60b758324069fb1ffa1701b1f9deb780f65

commit aef9f4ab05946e2bfef0cdb53071e52425c7f518
Author: Clay Gerrard <clay.gerrard@gmail.com>
Date:   Fri Aug 31 20:16:29 2012 +0000

    Filter volumes and snapshots by query string
    
    Fix query string search_opts filters in api.openstack.volume.volumes and
    snapshots.  Fix get_all methods in volumes.api to adequately handle
    parameter matching.
    
    The current api does not properly apply query string filters by
    display_name, status, or (in the case of snapshots) volume_id.  These
    filters are needed both for the end user and operator to display logical
    grouping of these resources.
    
    Fixes: bug #1046353
    
    Change-Id: Ia12ffe1bf8a27c8a78daa24c4b728b394932a2b0

commit e756bb932d3275e89ac24713e76464fd18da821b
Author: Dan Prince <dprince@redhat.com>
Date:   Wed Sep 5 13:20:54 2012 -0400

    Remove null_kernel option.
    
    This option was only used in the image/fake.py class. In this patch
    I've updated the fake to use an inline 'nokernel' string instead of
    this option which we don't make use of in the runtime Cinder code.
    
    Change-Id: I05d4f227f1278c827ace2ce3c62319f9b18d04d4

commit 6985bf48bed99f752d420071d0ac4db0ad81fd1c
Author: Dan Prince <dprince@redhat.com>
Date:   Wed Sep 5 13:17:24 2012 -0400

    Remove default_schedule_zone.
    
    We don't use this config options.
    
    Change-Id: I94a7940dc74341580ab954ffcda1f91fb5433e3f

commit c86483b596c75003645e2c2052c8a63ae85294b4
Author: Dan Prince <dprince@redhat.com>
Date:   Wed Sep 5 13:15:58 2012 -0400

    Remove memcached_servers config option.
    
    We don't use this in Cinder.
    
    Change-Id: Id8503ff373622a2667fe0575f79e089056677019

commit 802c05b86a927787d480d16798a62794613695b5
Author: Dan Prince <dprince@redhat.com>
Date:   Wed Sep 5 13:13:08 2012 -0400

    Regenerate cinder.conf.sample.
    
    Create a new version of cinder.conf.sample using
    tools/conf/generate_sample.sh.
    
    Old version had 475 options.
    
    New version has 133 options (more accurate).
    
    Change-Id: Id60aec1d91179a294e1969b7ab1f54051cb7a728

commit 0094303e36cf1c01db539a1eea7771ebcb4d336a
Author: Dan Prince <dprince@redhat.com>
Date:   Wed Sep 5 12:59:28 2012 -0400

    Sync improvements to config file generator tools.
    
    We made some improvements to the config file generator in
    Nova during Folsom including spacing and formatting changes.
    
    This patch merges these into Cinder so we can make use of
    them to generate a new sample config file.
    
    Change-Id: I1e1166ac6e2a28cc179223e5af547995f58b36e6

commit b7745f5e8d871b6ce4a140eb9705b6ec39754159
Merge: 700583d 8c30edf
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Sep 5 17:19:01 2012 +0000

    Merge "Removed unnecessary call to ensure_export"

commit 46060d64167c1f700a8af5b89744ac0909d53c5a
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Wed Sep 5 12:21:36 2012 +0100

    Sync misc changes from openstack-common
    
    Syncs the following changes from stable/folsom:
    
     769ec65 Don't trap then re-raise ImportError.
     202b8b7 Fix spelling typos
     01b4f31 Support for marshalling datetime while preserving microseconds.
    
    Change-Id: I6ed5e71ed18cdf3c528351713a42645f31fd8965

commit dc89c6f3d2b0f54fd3056f1ff6c677ba50688b66
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Wed Sep 5 12:19:07 2012 +0100

    Sync zmq changes from openstack-common
    
    Syncs the following from stable/folsom:
    
     9f9e14c Update zmq context cleanup to use term.
     704fb8b Remove register_opts from client methods
     f88d38b Rename FLAGS to CONF; Remove self.conf
    
    Change-Id: Ic6ab732d71420aba032554c51904dd71f1d23b78

commit 8eb64625e52aa8a6a2046f5ac53e132e1c1ea6de
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Wed Sep 5 12:04:16 2012 +0100

    Sync cfg changes from openstack-common
    
    Syncs the following from stable/folsom:
    
     4dc2043 cfg: clean up None value handling
     513bd3a Allow set_default and set_override to use None
     0a36c92 Tilde expansion for --config-file and --config-dir
     038d597 Add import_opt() method to ConfigOpts
    
    Change-Id: Ifa85280fdc072965f3e9ae8641bdf85268a9a6ac

commit 700583d26220cd3e792c1af33c60b8c1ba3c0769
Merge: 5586119 ffe5036
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 4 17:59:05 2012 +0000

    Merge "Fix bug where image size is incorrectly rejected."

commit 5586119f4a838b12a46bd12b316c9944efa6691a
Merge: bdba7e3 b84d623
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 4 17:56:21 2012 +0000

    Merge "Make size optional when creating a volume from a snap"

commit 51a008dfdbb80c158d85beed4e310f94b068d341
Author: Matthew Treinish <treinish@linux.vnet.ibm.com>
Date:   Tue Sep 4 11:08:16 2012 -0400

    Fix xml metadata for volumes api in cinder.
    
    Fixes bug 1040891.
    
    Change-Id: Idf8cc641162617ade2aeb77b666270cf1ce54c54
    Signed-off-by: Matthew Treinish <treinish@linux.vnet.ibm.com>

commit ffe5036fa0e63ccde2d19aa0f425ec43de338dd7
Author: Dermot Tynan <tynan@hp.com>
Date:   Thu Aug 30 17:38:22 2012 +0000

    Fix bug where image size is incorrectly rejected.
    
    Fixes bug 1043952.
    
    Added GB-1 (one byte less than a gig) to the numerator to
    correct round-off errors.
    
    Change-Id: I6d97f3c53ab5a8ff5a0752400fd189f23223958f
    
    Fixed PEP8 complaints.
    
    Change-Id: Iacecddd4e65c80964f4860d6580872d897ec2356

commit bdba7e3bbf7cef4417309eb356aea4b805d3c974
Merge: 56405da b60c390
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Sep 4 03:24:45 2012 +0000

    Merge "Several hacking compliance fixes."

commit b60c3909cec2e96e09c664bf7caca4b7b3b6ba54
Author: Dan Prince <dprince@redhat.com>
Date:   Mon Sep 3 22:17:06 2012 -0400

    Several hacking compliance fixes.
    
    Updates bin/nova-manage and the solidfire driver with several
    hacking compliance fixes.
    
    Makes it so run_tests.sh -p runs clean again.
    
    Change-Id: Iee675cae06acda6a585a77073e773651aab9d5a1

commit 56405da849bc76dc97e3e1bcbfda00d3b73a57cd
Author: Dan Prince <dprince@redhat.com>
Date:   Mon Sep 3 22:02:22 2012 -0400

    Remove Cheetah from pip-requires.
    
    We don't use Cheetah so no need to install it w/ pip.
    
    Change-Id: I29ea1b0ec2bf2eaebe4378c15c3cfc0caebabf99

commit 922fdd0bdc83f7f2cfecb8846bd667f71e7e42ad
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Sep 3 17:16:49 2012 -0600

    Update dev docs
      * Quick pass at implementing the basics for cinder dev docs
      * Remove the N/A compute related stuff
      * Clean up the architecture a bit to only show cinder related
      * Remove various modules form TOC's that aren't applicable
    
    Change-Id: I0089c388524c9def7494658e836f4ed03a61f5b5

commit bedc8b6622bc711acc86e7ef245be478c1e4a2b4
Author: RongzeZhu <zrzhit@gmail.com>
Date:   Mon Sep 3 12:26:35 2012 +0800

    Typo fix: nova => cinder
    
    Change-Id: I816473b3aa7de16bd2d8569c695c6ced9e1d9033

commit c58e87cfe19adbd432b23cfea00ce72e8636403b
Author: Ben Swartzlander <bswartz@netapp.com>
Date:   Wed Aug 29 20:35:33 2012 -0400

    Move newly created NFS exceptions to standard location in exception.py
    Addresses bug 1037619
    
    bug 1037619
    
    Change-Id: I20b1c612c03ef90eeb074814b979a9bc7492109c

commit 99e8882f5ff777ce19ea25b923416bbb4511dd63
Merge: fe70a0e 91311d5
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Sep 1 00:57:54 2012 +0000

    Merge "Remove unused flags"

commit c191d0d10c6cb5730a4fb6540198ca3be6595b02
Author: Clay Gerrard <clay.gerrard@gmail.com>
Date:   Mon Aug 27 07:48:32 2012 +0000

    Add admin actions extension
    
    The optional os-admin-actions extension adds new wsgi_actions to the
    volumes/action resource and a new snapshots/action endpoint.
    
    With this extension both controllers will support an os-reset_status
    action to force a database update of a volume or snapshot that is stuck
    in a failed/incorrect status.  The os-reset_status action works
    similarly to the compute api's os-reset_state action for instances.
    
    The os-force_delete action behaves similarly to the "cinder-manage
    volume delete" command and allows operators/admins to retry the delete
    operation after it has gone into an error_deleting status with an admin
    api call.
    
    The os-admin-actions extension is enabled by default, but limited to the
    admin api by the default policy.json rules.  Individual admin actions
    can be disabled with policy rules as well.
    
    Example of os-reset_status action on a volume:
    
    curl http://localhost:8776/v1/${PROJECT_ID}/volumes/${VOLUME_ID}/action \
        -H 'x-auth-token: ${ADMIN_AUTH_TOKEN}' \
        -H 'content-type: application/json' \
        -d '{"os-reset_status": {"status": "error"}}'
    
    The new admin only api can assist deployers who encounter bugs or
    operational issues that result in failed actions.
    
    It can also be used by future storage backends to support async callback
    style status updates from long running actions or operations which have
    encountered an error will be retried.
    
    Also updates the api.openstack.wsgi.ControllerMetaclass to support
    sub-classing wsgi.Controllers that define wsgi_actions.
    
    Partial fix for bug #1039706
    
    Change-Id: I29f4b892a99108b6c24eebc3eb58033a9e01e679

commit fe70a0ebc47843a08d085e7ab4104898c069f427
Merge: 48ce2b7 5da61a7
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 31 16:41:24 2012 +0000

    Merge "Use event.listen() instead of deprecated listeners kwarg"

commit 48ce2b79a1d393de14c825e5722b5a7710eb36aa
Merge: f5f1824 a3af3f8
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 31 16:12:07 2012 +0000

    Merge "Implement volume quota support in Cinder"

commit f5f1824a4ba9a3e5fa29d955961b988168b22207
Merge: aab103b 9785963
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 31 15:23:45 2012 +0000

    Merge "Fix creation of iscsi targets"

commit aab103bd25db6444a94a834224da662080f3105f
Merge: 7f4cc61 560b650
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 31 15:22:33 2012 +0000

    Merge "Add cinder- prefix to all binaries."

commit 7f4cc61ceb026505654098bd630ea63a12001587
Merge: cabb54c 4aebd52
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 31 15:06:31 2012 +0000

    Merge "Make glance image service check base exception classes"

commit 8c30edff982042d2533a810709308b586267c0e9
Author: Unmesh Gurjar <unmesh.gurjar@vertex.co.in>
Date:   Fri Aug 31 07:25:39 2012 -0700

    Removed unnecessary call to ensure_export
    
    Removed the extra call to 'ensure_export' from '_copy_image_to_volume' while
    creating a volume from an image.
    
    Fixes LP: #1044399
    
    Change-Id: I189a4cb66b965367289c2f677147ee085e431190

commit 560b650fa83ff3ce274a705c321fb940c7499a75
Author: Dan Prince <dprince@redhat.com>
Date:   Fri Aug 31 09:56:50 2012 -0400

    Add cinder- prefix to all binaries.
    
    Renames clear_rabbit_queues and volume-usuage-audit binaries
    so that they are prefixed with 'cinder-'.
    
    As part of this change the clear_rabbit_queues binary was changed
    to use dashes instead of underscores for consistency with the rest
    of the cinder binaries.
    
    Fixes LP Bug #1044386.
    
    Change-Id: I7692a543cc67af2d342a64b84626de38c0a64f81

commit b84d6237729efb9241d934e2d06d77bf9adb8471
Author: Duncan Thomas <duncan.thomas@gmail.com>
Date:   Fri Aug 17 10:15:52 2012 +0000

    Make size optional when creating a volume from a snap
    
    Changing the size of a volume when cloning a snapshot doesn't
    make a great deal of sense *and isn't part of the ec2 api).
    
    This patch makes the field optional, defaulting to the same
    size as the snapshot (and therefore the origination volume).
    
    Change-Id: I3fea7fe1c0415d10e549c66a242cf2a336a7204e

commit 9785963c841aff5ea1c159da81f93c2bf62c70c6
Author: Chuck Short <zulcss@ubuntu.com>
Date:   Tue Aug 28 15:06:25 2012 -0500

    Fix creation of iscsi targets
    
    Previously when creating iscsi volumes, we were using
    
    tgt-admin -e -c <config file> --update volume-id
    
    Unfortunately the side affect of this is that tgt-admin
    removed other volumes that weren't connected to an iscsi
    connector. Which is obvlously not what we want.
    
    In order to fix this we create the targets.conf for the
    volume but we call tgt-admin --update icssi qualified name.
    
    We're dropping the use of iscsi_targets table when using TgtAdm.
    Compatability for other target admin types is maintained.
    
    Fixes LP: #1038062
    
    Change-Id: I9060a43208df5b79e9b17dadcab8bc0a8eeef55e
    Signed-off-by: Chuck Short <zulcss@ubuntu.com>

commit cabb54c5806022e696697e7c1fa6c81b482d2b20
Author: Joe Gordon <jogo@cloudscaling.com>
Date:   Thu Aug 30 13:35:07 2012 -0700

    Spelling: Persistant=>Persistent
    
    Change-Id: Id8e1bef634fe66e06624b5b3bcd82f59735d76e3

commit a3af3f87f5ca95e9b400dc15e7593746d01bc43a
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Aug 16 15:52:52 2012 -0600

    Implement volume quota support in Cinder
    
    parital fix for bug 1023311
      * To use needs cinderclient https://review.openstack.org/#/c/11509/
      * Updates quota classes with changes in Nova
      * Adds needed quota related DB tables
      * Updates test_quota to reflect changes in Nova
      * Adds absolute limits and empty rate limit functions
      * Updates test/integration/test_volume to make it work w/ above changes
    
    Change-Id: I221c7a9dc51a2bb9bf7228c056f63ba9546cf5f9

commit a55430ce286b291e5a5611b1e908b325ab3de20d
Merge: 6db3732 3ed4d0b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 30 17:02:44 2012 +0000

    Merge "Fix PEP8 issues."

commit 6db37323239a4fa455c0708a15f082af5c68d096
Merge: cc25287 5475deb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 30 17:01:50 2012 +0000

    Merge "Add 'detaching' to volume status"

commit cc252878f2c778cb63d383479b9dce63ca2d98c7
Merge: c13d0d2 198a91a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 30 17:01:28 2012 +0000

    Merge "Remove unused return values and commented out code from NFS driver"

commit c13d0d2d19549cdd3f26eae43e6dca026fa55f7d
Merge: 4533e5b 938d92e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 30 15:43:42 2012 +0000

    Merge "Remove unused exceptions from cinder/exception.py"

commit 198a91a5e447915beca9585546cb92ab956fb0e6
Author: Ben Swartzlander <bswartz@netapp.com>
Date:   Wed Aug 29 19:10:11 2012 -0400

    Remove unused return values and commented out code from NFS driver
    
    bug 1037622
    
    Change-Id: Idea3005ad94fd6bfc76fd0f3969ee78e3031767e

commit 91311d5c2c89aca666bb40dc04d917eea9266ed1
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Wed Aug 29 09:46:32 2012 +0000

    Remove unused flags
    
    * region_list
    * aws_access_key_id
    * aws_secret_access_key
    * osapi_scheme
    * osapi_path
    * metadata_host
    * metadata_port
    * default_project
    * default_image
    * default_instance_type
    * vpn_image_id
    * vpn_key_suffix
    * auth_token_ttl
    * bandwith_poll_interval
    * start_guests_on_host_boot
    * resume_guests_state_on_host_boot
    * default_ephemeral_format
    * use_ipv6
    * allow_resize_to_same_host
    * zombie_instance_updated_at_window
    * isolated_images
    * isolated_hosts
    
    Change-Id: Ia3d5ac7d7c983845b5411e2fc1f49eb579e3280f

commit 3ed4d0b62838d53fedea5280523fdaaec76381bb
Author: lrqrun <lrqrun@gmail.com>
Date:   Tue Aug 28 23:28:48 2012 +0800

    Fix PEP8 issues.
    
    Fix some pep8 issues in doc/ext/cinder_todo.py make the code looks pretty.
    
    Change-Id: I137c8bf5af30eb54a44cbff7f1fbc35bc2c3ed9e

commit 4533e5b4509643768c070f6b5a672f1d6a62e27b
Merge: eb9a58d ca25ea4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 27 16:04:14 2012 +0000

    Merge "Migrate volume related quota info in db migration"

commit eb9a58d3eaa10a8a661baf0c1ed534aeb0877dcf
Merge: 56b2e78 f80f8df
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Aug 25 17:57:27 2012 +0000

    Merge "Fix PEP8 issues."

commit 56b2e78a12bb3c61a64ea24420e1a94aa7fd4dea
Merge: 5b34c99 8b92df9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Aug 25 17:49:37 2012 +0000

    Merge "Typo fix in cinder: existant => existent"

commit 5b34c99c734a5749ef03879745226dc5831f6642
Merge: 53de0dd 3034247
Author: Jenkins <jenkins@review.openstack.org>
Date:   Sat Aug 25 17:49:02 2012 +0000

    Merge "Fix incorrect tgt-admin call in create_iscsi_target"

commit 3034247a4ec7c9c6e433cad6d13183b001fe2e6d
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Aug 23 13:23:04 2012 -0600

    Fix incorrect tgt-admin call in create_iscsi_target
    
      * Fixes bug 1039826
      * Missed one of the execute cmds that was using 'val %s' as args
    
    Change-Id: I5e6af737ada1c2bcf7a495710e2b10c8c74bb534

commit 5475debcf706e87b1df926d489b72074662614f3
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Tue Aug 21 15:07:02 2012 +0000

    Add 'detaching' to volume status
    
    Fixes bug #1004382
    
    When attach a volume , the volume status is "available -> attaching ->
    in-use", But when detaching a volume , the volume status is "in-use ->
    available". So We need 'detaching' volume status, it make the change of
    state of the volume more clearly.
    
    Change-Id: Idf8c38413135bf8e8cd025f11937f8c7250557c1

commit 8b92df9febce5bc45fa57bb347779b9644a38c44
Author: Rongze Zhu <zrzhit@gmail.com>
Date:   Thu Aug 23 03:00:08 2012 +0000

    Typo fix in cinder: existant => existent
    
    Impact:
    * locale message in cinder/locale/*/LC_MESSAGES/nova.po
    * locale message in cinder/locale/nova.po
    * Test function names
    * Test strings and comments
    
    Change-Id: I623af176d3b556a1ea9f8bde2c609fc4f752d7da

commit 4aebd529f979ed51f46c27b20ed5fe34e48757f7
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Aug 22 16:26:15 2012 -0600

    Make glance image service check base exception classes
    
    Fixes bug 1039675
    
    glanceclient can raise HTTPNotFound (as well as NotFound) it appears,
    but glance image service is only converting NotFound ->
    InstanceNotFound.  Same applies to 'Forbidden' and other exceptions.
    
    This patch converts 'exc_type is NotFound'-like checks to use
    'isinstance' instead, which will cover HTTPNotFound, etc.
    
    Also add missing glance/image tests that weren't in Cinder
    
    Change-Id: I8787598daccf401a26d9397946ecd55f89ff62b3

commit f80f8dfecb280673e9661447a9555bac0959e827
Author: Ray Chen <oldsharp@163.com>
Date:   Wed Aug 22 11:57:42 2012 +0800

    Fix PEP8 issues.
    
    Fix some pep8 issues in doc/ext/cinder_todo.py and
    doc/source/conf.py and make the code looks pretty.
    
    Change-Id: Ie164bc7328507e20b0ab5993ba97eaadbd74bf63

commit 938d92e8a9a2ee97fb7951ed232b58d614a27adf
Author: RongzeZhu <zrzhit@gmail.com>
Date:   Wed Aug 22 11:37:26 2012 +0800

    Remove unused exceptions from cinder/exception.py
    
    find cinder/ -type f -name "*pyc" -exec rm {} \;
    exceptions=`cat cinder/exception.py| grep -E '^class' |\
     awk {'print $2'} | awk -F '(' {'print $1'}`
    for exc in $exceptions
    do
        i=`find cinder/ -type f -exec grep -R $exc {} \; |wc -l`
        if [ $i -eq 1 ]
        then
            echo $exc
        fi
    done
    
    First removed exceptions:
    
    DecryptionFailure
    ImagePaginationFailed
    VirtualInterfaceCreateException
    VirtualInterfaceMacAddressException
    MelangeConnectionFailed
    VolumeUnattached
    InvalidKeypair
    InvalidSignature
    InvalidInstanceType
    InvalidIpProtocol
    InvalidCidr
    InvalidAggregateAction
    InvalidGroup
    InstanceInvalidState
    InstanceNotRunning
    InstanceNotSuspended
    InstanceNotInRescueMode
    InstanceSuspendFailure
    InstanceResumeFailure
    InstanceRebootFailure
    InstanceTerminationFailure
    VolumeServiceUnavailable
    UnableToMigrateToSelf
    DestinationHostUnavailable
    SourceHostUnavailable
    InvalidHypervisorType
    DestinationHypervisorTooOld
    DestinationDiskExists
    InvalidDevicePath
    DeviceIsBusy
    InvalidCPUInfo
    InvalidIpAddressError
    InvalidVLANTag
    InvalidVLANPortGroup
    InvalidDiskFormat
    InstanceUnacceptable
    FlagNotSet
    NoVolumeTypesFound
    VolumeDriverNotFound
    ListingImageRefsNotSupported
    KernelNotFoundForImage
    ProjectNotFound
    ProjectMembershipNotFound
    UserRoleNotFound
    StorageRepositoryNotFound
    DatastoreNotFound
    FixedIpNotFoundForAddress
    FixedIpNotFoundForInstance
    FixedIpNotFoundForNetworkHost
    FixedIpNotFoundForSpecificInstance
    FixedIpNotFoundForHost
    FixedIpAlreadyInUse
    FixedIpInvalid
    NoMoreFixedIps
    NoFixedIpsDefined
    FloatingIpDNSExists
    FloatingIpNotFoundForAddress
    FloatingIpNotFoundForHost
    NoMoreFloatingIps
    FloatingIpAssociated
    FloatingIpNotAssociated
    NoFloatingIpsDefined
    NoFloatingIpInterface
    KeypairNotFound
    CertificateNotFound
    AuthTokenNotFound
    AccessKeyNotFound
    SecurityGroupNotFoundForProject
    SecurityGroupNotFoundForRule
    SecurityGroupExistsForInstance
    SecurityGroupNotExistsForInstance
    NoInstanceTypesFound
    InstanceTypeNotFoundByName
    FlavorNotFound
    CellNotFound
    SchedulerHostFilterNotFound
    SchedulerCostFunctionNotFound
    SchedulerWeightFlagNotFound
    InstanceMetadataNotFound
    InstanceTypeExtraSpecsNotFound
    LDAPUserNotFound
    LDAPGroupNotFound
    LDAPGroupMembershipNotFound
    NoFilesFound
    SwitchNotFoundForNetworkAdapter
    NetworkAdapterNotFound
    GlobalRoleNotAllowed
    ImageRotationNotAllowed
    RotationRequiredForBackup
    LDAPUserExists
    LDAPGroupExists
    LDAPMembershipExists
    ProjectExists
    InstanceExists
    InstanceTypeExists
    InvalidSharedStorage
    CannotResizeToSameSize
    ImageTooLarge
    ZoneRequestError
    InstanceTypeMemoryTooSmall
    InstanceTypeDiskTooSmall
    InsufficientFreeMemory
    CouldNotFetchMetrics
    AggregateError
    AggregateNotFound
    AggregateNameExists
    AggregateHostNotFound
    AggregateMetadataNotFound
    AggregateHostConflict
    AggregateHostExists
    InstanceTypeCreateFailed
    SolidFireAPIStatusException
    DuplicateVlan
    InvalidInstanceIDMalformed
    CouldNotFetchImage
    
    Search again, Second removed exceptions:
    
    UserNotFound
    FixedIpNotFoundForNetwork
    FloatingIpNotFound
    SecurityGroupNotFound
    InstanceTypeNotFound
    LDAPObjectNotFound
    UserExists
    
    Search again, Third removed exceptions:
    
    FixedIpNotFound
    
    Change-Id: I028122c6132340b2fef2c144da787b7c4efddccf

commit 53de0dd77ead04422e05a6251cb92c46d787aae6
Author: Clark Boylan <clark.boylan@gmail.com>
Date:   Tue Aug 21 14:08:57 2012 -0700

    Add nosehtmloutput as a test dependency.
    
    Adding nosehtmloutput as a test dependency allows nose to output its
    results to an html file. This will be used by Jenkins to save logs
    on a different server.
    
    Change-Id: I03f61fe4a8f0daa4a43fc9e7d41456b65018cf66

commit ca25ea47782be90f65e9e5311de295499de19f2b
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Aug 21 14:00:18 2012 -0600

    Migrate volume related quota info in db migration
    
      * Fixes bug 1039615
      * Now that quotas are back we need to handle migration
        of volume related quota data in the cinder-manage migrate helper
      * Only resource types transferred are volumes and gigabytes
    
    Change-Id: Idd9aab834612e929683491f47fa1e1861bdbd0d1

commit 4e81c907bbb9d94d4b76b00ff591418374175d41
Merge: d2db1e9 bace7fb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 21 00:19:27 2012 +0000

    Merge "Add declare for xiv driver in fake_flags"

commit d2db1e9c40cb13ac513184a6435b2eb581305a46
Merge: d0c6448 e958531
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 20 17:12:40 2012 +0000

    Merge "Remove logging in volume tests"

commit 5da61a7ad9d7c3320831c437c03c428b9df84ebb
Author: unicell <unicell@gmail.com>
Date:   Mon Aug 20 19:34:19 2012 +0800

    Use event.listen() instead of deprecated listeners kwarg
    
    Fixes bug 1031405
    
    The listeners kwarg is deprecated in SQLAlchemy 0.7.0. Since 0.7.3 is
    the minimum required version of SQLAlchemy, use the new event.listen()
    API instead.
    
    Change-Id: I1b851e197c04b131ae96e814780b04e6dcdeeb1a

commit bace7fb1b6596c44c500468f689b9b1ef4ad5222
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Aug 17 11:27:21 2012 -0600

    Add declare for xiv driver in fake_flags
    
      fixes bug 1038183
    
    Change-Id: I324a8e4df61782c903146cc8e0bb1d1bbae46c2f

commit d0c6448cbc1334ee7e3053761d155f8044ecc6fa
Merge: 68aaff4 1753889
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 17 16:34:33 2012 +0000

    Merge "Call driver for attach/detach_volume."

commit 68aaff4c742d7994c0dcbbd5d8ebf966efa3f38d
Merge: e5b3ef5 b192cfe
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 17 15:35:03 2012 +0000

    Merge "Remove unused function"

commit e958531929e04364759a721a689665ef891ff623
Author: RongzeZhu <zrzhit@gmail.com>
Date:   Fri Aug 17 22:24:43 2012 +0800

    Remove logging in volume tests
    
    Fixes bug #932137
    
    Usage of logging seems to be limited to the check_for_export() tests and
    should be to cleanup. check_for_export() raises an exception if there's
    a problem and it does nothing if it succeeds. The tests should just
    check whether an exception was raised.
    
    Change-Id: I72bc3d97aa75950c7f31fae03535c541059501c2

commit 17538890dc9d005652b2d912cea4a0307e5d6e18
Author: Cory Stone <corystone@gmail.com>
Date:   Fri Aug 17 09:18:52 2012 -0500

    Call driver for attach/detach_volume.
    
    The volume driver may want to know which guest is going to be
    attached to a volume. The manager now calls down into the driver
    on attach_volume and detach_volume.
    
    Fixes bug 1038109.
    
    Change-Id: I084c2d09a1871fa158312f9ba479abb474da1d28

commit e5b3ef5622fc2662addad17f96a9d903ca68db9b
Author: RongzeZhu <zrzhit@gmail.com>
Date:   Fri Aug 17 11:20:09 2012 +0800

    Fix spelling typos
    
    Fixes for:
    * cinder/locale/*/LC_MESSAGES/nova.po
    * cinder/locale/nova.pot
    * cinder/testing/README.rst
    
    Change-Id: Ib50432a72b2300742169ebe4c77584466be7bfba

commit b192cfebb85b4cb6b5f35df3c21ecfa15fc0aa49
Author: RongzeZhu <zrzhit@gmail.com>
Date:   Fri Aug 17 10:07:05 2012 +0800

    Remove unused function
    
    'wait_creation' function in cinder.volume.api.API is unused.
    
    Change-Id: I4062e026b3e227513321be18ee920a4e5882cbd7

commit d2babbfd4b59bde09fe17f7b69c86d857a82d104
Merge: f276d01 6e5ef61
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 16 04:58:27 2012 +0000

    Merge "Remove unused imports"

commit f276d01946710154cac900a6cf98f606d0eb7dd6
Merge: d05ef80 11545df
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 16 04:48:41 2012 +0000

    Merge "Implements bp migrate-nova-volumes-to-cinder"

commit d05ef8007b25fc251e45edbe06884ca425602c0d
Merge: e5910c6 7ea56d2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 16 04:01:24 2012 +0000

    Merge "blueprint zadara-volume-driver"

commit e5910c64916f0b5ba511a730808ce31070565523
Merge: cfc79c7 d807526
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 16 04:01:23 2012 +0000

    Merge "Add driver for using files on a generic NFS server as virtual block devices Add NetApp-specific NFS virtual block driver"

commit cfc79c784dbe6d24f464a8339493a263eb01b7e0
Merge: bc5c955 df5c4ba
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 16 03:23:24 2012 +0000

    Merge "Update SolidFire volume driver"

commit 7ea56d215453a01ac33934a71f801f2e4a99f4ce
Author: Vladimir Popovski <vladimir@zadarastorage.com>
Date:   Fri Aug 10 00:14:26 2012 -0700

    blueprint zadara-volume-driver
    
    Adds support for Zadara VPSA storage arrays as a BackEnd for Cinder
    
    Change-Id: I8c2a163079853d4003223eb2c156cfd2ccef3129

commit bc5c955036208a89e53a0f39d8c14ee6c927317b
Merge: a75d75b edc1110
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 16 01:37:28 2012 +0000

    Merge "add ability to clone images"

commit a75d75b5cf1dab92d6c0e3c7f73e08c0d70bb2b0
Merge: 6ad3607 0b221c9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 16 01:23:36 2012 +0000

    Merge "Add proper support for deprecation messages"

commit 6ad360741f88c25d97ac9b39844302e79d83e781
Author: Craig Vyvial <cp16net@gmail.com>
Date:   Wed Aug 15 15:50:29 2012 -0500

    Adding the volume notifications to cinder
    
    adding the volume notifications
    added unit tests for notifications
    added context for notify with rabbit
    
    blueprint cinder-notifications
    
    Change-Id: I5aef1e718eebb9a61e0670d524fcd5f438dee016

commit edc11101cbc06bdce95b10cfd00a4849f6c01b33
Author: Josh Durgin <josh.durgin@inktank.com>
Date:   Tue Aug 14 12:27:48 2012 -0700

    add ability to clone images
    
    Given the backend location from Glance, drivers can determine
    whether they can clone or otherwise efficiently create a volume
    from the image without downloading all the data from Glance.
    
    For now implement cloning for the RBD driver. There's already a
    Glance backend that stores images as RBD snapshots, so they're
    ready to be cloned into volumes. Fall back to copying all the
    data if cloning is not possible.
    
    Change-Id: I71a8172bd22a5bbf64d4c68631630125fcc7fd34
    Implements: blueprint efficient-volumes-from-images
    Signed-off-by: Josh Durgin <josh.durgin@inktank.com>

commit df5c4ba864732d6534af561ebe2600d738c07f17
Author: John Griffith <john.griffith@solidfire.com>
Date:   Mon Aug 13 18:35:35 2012 -0600

    Update SolidFire volume driver
    
    Implements blueprint update-solidfire-driver
    
    * Updates driver to reflect changes in the release version of SF API
    * Modify SF naming scheme
    * Implement snapshot functionality
    * Implement setting qos on create via metadata
    * Update/Add tests
    
    Change-Id: I08f7aac31e9d95f971d297a19c285dfa7151b931

commit 87ba5de73e82ae1a68a23c3eb245fac68597c3e3
Merge: 12aae1a 171a57a
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 15 20:15:21 2012 +0000

    Merge "add get_location method for images"

commit 0b221c998338e33627822d9837441c8f24124f90
Author: Thierry Carrez <thierry@openstack.org>
Date:   Wed Aug 8 17:49:44 2012 +0200

    Add proper support for deprecation messages
    
    Add support for warning once about deprecated options. Use that in
    the rootwrap options deprecation message, and move it to run_as_root
    so that the deprecated message is emitted once and only if used.
    
    Change-Id: I29e39c662b4456256f4c9397f305bfa857972c46

commit 12aae1a0728629f9e4e4cc2542756653aab2657b
Author: Dan Prince <dprince@redhat.com>
Date:   Fri Aug 10 23:10:18 2012 -0400

    Remove utils.deprecated functions.
    
    We don't seem to use utils.deprecated at all... so lets
    remove it and save ourselves 200 lines of code.
    
    Also moves a couple misc. test cases in utils.py out of the
    DeprecationTest suite and into the GenericUtilsTestCase
    suite.
    
    Change-Id: I96e93d8fa056110057c8855f2ce52c9f55cd4a9b

commit 8d48d1a2fd8e03e05b02e187eaafce49a8ff571a
Merge: f7938c0 f5ebb33
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 15 17:40:35 2012 +0000

    Merge "Move volume size validation to api layer."

commit f5ebb33f9a0ebc3b8f6d0e0d97e3d4b673106907
Author: Eoghan Glynn <eglynn@redhat.com>
Date:   Wed Aug 15 14:10:03 2012 +0100

    Move volume size validation to api layer.
    
    As per the discussion on this patch:
    
      ihttps://review.openstack.org/10540
    
    Change-Id: I5d3031a08aa1e2d17b5fb233ebaec938c66fa88b

commit f7938c0b96c047490b6eb935cbf882505ce4a811
Author: Eoghan Glynn <eglynn@redhat.com>
Date:   Wed Aug 15 10:36:09 2012 +0000

    Map internal exceptions in the nova style.
    
    Fixes LP 1014687.
    
    Adopt the nova idiom of internal exceptions mapped to their
    corresponding HTTP reponse code in the FaultWrapper middleware,
    and also inclusion of their detail message if declared safe for
    external exposure.
    
    Change-Id: I95a3c30466f6951e02f7a182545ff8db8fbecee8

commit d8075263f52489d4f9550376eb5beba2f4c8285d
Author: Ben Swartzlander <bswartz@netapp.com>
Date:   Mon Aug 13 16:57:50 2012 -0400

    Add driver for using files on a generic NFS server as virtual block devices
    Add NetApp-specific NFS virtual block driver
    
    blueprint nfs-files-as-virtual-block-devices
    blueprint netapp-nfs-cinder-driver
    
    Change-Id: I10ef6f3e230fcea2748152313d341db46bffce55

commit 11545df5cb4fde935adec8160154e591cde8d1b9
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Aug 8 13:33:08 2012 -0600

    Implements bp migrate-nova-volumes-to-cinder
    
      Helper cmds to transition from nova to cinder
    
      Implements an import section in cinder-manage to transfer
      applicable tables from local or remote Nova database into a
      fresh Cinder database.
    
      Also implements optional method to copy persistent target files.
    
    Change-Id: I2e655e26c55f1986f3b1554726cead9e73ee9bd6

commit 5f31f6e6974d097e525dbc3157f716bf069e4702
Merge: b760654 6454235
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 14 20:33:53 2012 +0000

    Merge "Add C-mode driver for NetApp."

commit 171a57a6879683dac5f219a0e8f1080ea687105d
Author: Josh Durgin <josh.durgin@inktank.com>
Date:   Tue Aug 14 12:26:19 2012 -0700

    add get_location method for images
    
    This is useful for determining whether the backend storage for the
    image in Glance is the same as the storage used in a volume driver.
    
    The direct_url is only available in the v2 images API, so add a
    version parameter to each request. As more parts of the v2 API are
    used, this parameter will become more useful.
    
    Change-Id: I5ca06b6d80ffe4118f8dd381ed11283573bce71f
    Signed-off-by: Josh Durgin <josh.durgin@inktank.com>

commit b760654404f96d6a566b84df6ae61cc9630f5028
Merge: ff45e32 f03e2e3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 14 17:24:38 2012 +0000

    Merge "Driver for IBM XIV storage."

commit ff45e32b97a7b87a611715ba61f0ebab5185edc3
Author: Josh Durgin <josh.durgin@inktank.com>
Date:   Mon Aug 13 15:13:06 2012 -0700

    rbd: implement create_volume_from_snapshot
    
    In an upcoming release, rbd will support creating volumes from
    snapshots ('cloning'). To clone a snapshot, it must first be
    'protected', which means it cannot be deleted until it is unprotected.
    A snapshot can only be unprotected if no clones depend on it. Thus,
    translate a failure to unprotect into a SnapshotIsBusy exception.
    
    Also check for remaining snapshots before deleting a volume,
    and raise VolumeIsBusy if any exist. While we're here, tidy up
    the shell arguments to be more readable.
    
    This is backwards compatible since it does not use the new features
    unless they are available in the installed version of rbd.
    
    Change-Id: If4105e7af7ba33f09a15103b53ad675aceb2ebb4
    Signed-off-by: Josh Durgin <josh.durgin@inktank.com>

commit 66afa15568f5077da2376a4129ef04a1e06cc64a
Author: Josh Durgin <josh.durgin@inktank.com>
Date:   Sun Aug 12 02:21:00 2012 -0700

    Replace deprecated client with python-glanceclient
    
    This is a copy of the code that was merged into Nova.
    python-glanceclient is required for Folsom, and for using
    the v2 API.
    
    Implementing blueprint efficient-volumes-from-images
    requires this since it needs to access the v2 API.
    
    Change-Id: Ia088517abab61e824a641d4adf616e08a53a94bc

commit 6e5ef61f8f752fad4c2209b5ebc477f47693506e
Author: RongzeZhu <zrzhit@gmail.com>
Date:   Tue Aug 14 22:07:42 2012 +0800

    Remove unused imports
    
    Fixes bug #1036666
    
    Removed unused imports found by:
    find . -type f -name "*py" -exec pylint -r n {} \; | grep -E "Unused imp|^\*"
    
    Change-Id: Iad69354dd47c2a0dfa3a23a95c1a23eb66773b8d

commit 3b9379c6fba605589c6b753163e5c8f8670c73bf
Merge: 4f7f295 2f53607
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 14 13:29:46 2012 +0000

    Merge "Adds new volume API extensions"

commit 4f7f295c09a498006be6d8a007698432b1c792d8
Author: Josh Durgin <josh.durgin@inktank.com>
Date:   Mon Aug 13 10:42:27 2012 -0700

    Fix check_for_export() in non-exporting drivers
    
    This overrides the default check_for_export so that drivers that don't
    need to export block devices on the host like Sheepdog and RBD don't
    raise a NotImplemented exception when this is called.
    
    Reported-by: Mark Moseley <moseleymark@gmail.com>
    Signed-off-by: Josh Durgin <josh.durgin@inktank.com>
    
    Change-Id: Icf72f51904e7bdc368bfaf0a91dd0433ce3b1cf6

commit 2f5360753308eb8b10581fc3c026c1b66f42ebdc
Author: Unmesh Gurjar <unmesh.gurjar@vertex.co.in>
Date:   Sat Aug 11 10:31:51 2012 -0700

    Adds new volume API extensions
    
    Adds following extensions:
    1. Create volume from image
    2. Copy volume to image
    
    Added unit tests.
    
    Implements: blueprint create-volume-from-image
    Change-Id: I9c73bd3fa2fa2e0648c01ff3f4fc66f757d7bc3f

commit f03e2e3ca3e31c830c5ef9b22f9b1c3aa8b1557a
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Sun Aug 12 14:55:04 2012 +0300

    Driver for IBM XIV storage.
    
    Volume driver for IBM XIV storage systems, along with unit tests. The
    driver imports the xiv_openstack_box class, which is a closed-source
    proxy available separately to IBM XIV customers.
    
    Change-Id: I3a3ec8b1d3e3adf1895b4a0bbd86993010d2e447

commit dccfa57f6b49d9e92157a3361f42dee0f55bd70c
Merge: 59c55da ac1b465
Author: Jenkins <jenkins@review.openstack.org>
Date:   Mon Aug 13 07:51:09 2012 +0000

    Merge "Fake requests in tests should be to v1"

commit ac1b465ac3d81516b748740554e6bed8ebefe5ef
Author: Mike Perez <thingee@gmail.com>
Date:   Sun Aug 12 16:20:53 2012 -0700

    Fake requests in tests should be to v1
    
    v2 does not exist, yet.
    
    Change-Id: Id3a332c4d78c87882a7db1a8b98479a3881b0a5f

commit 6454235a27f6c167290ef55a8262277f10d0febf
Author: Ben Swartzlander <bswartz@netapp.com>
Date:   Sun Aug 12 00:43:05 2012 -0400

    Add C-mode driver for NetApp.
    
    blueprint netapp-volume-driver-cmode
    
    Change-Id: I1eb418d05f557068bc0d4f359e19721c9c61068b

commit 59c55dadfdf0da57638f971113563ea0950f57b4
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Sun Aug 12 11:31:26 2012 +0300

    storwize-svc: improved test coverage and fixes.
    
    Added test cases to cover more error paths, now providing 97% test
    coverage of the storwize-svc driver. Some tests uncovered bugs in the
    driver, which are fixed by this patch. In addition, there are some
    fixes to the code included which address comments from the submission
    of this driver to nova-volume and sync the two versions.
    
    Change-Id: I7c646885a7f2b1e761725c14940f1d741996beb4

commit 63783084fa012469c25a91017cd3d142483fd09f
Merge: 9a7de84 4bc03ba
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 10 20:34:01 2012 +0000

    Merge "Add iscsiadm path for qauntal."

commit 9a7de84b69650a63ca287d34e363dff897349221
Merge: a2c2448 a4c8e71
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Aug 10 20:25:10 2012 +0000

    Merge "Use openstack.common.notifier."

commit a2c2448e0cc83a173f6d997eecfc36ce41d45a4b
Author: Monty Taylor <mordred@inaugust.com>
Date:   Fri Aug 10 11:55:48 2012 -0400

    Use setuptools-git.
    
    Change-Id: I6861a29d65b809362949f2c54197940fd0988785

commit 4bc03bab32270b4d6fcd302d3b64ac28e2596bd0
Author: Chuck Short <zulcss@ubuntu.com>
Date:   Fri Aug 10 10:06:50 2012 -0500

    Add iscsiadm path for qauntal.
    
    Resynchronize with nova/etc/nova/rootwrap.d/nova.volumes.
    
    Change-Id: I9737454bb2f48bbd97fe14bca163059e93ef825b
    Signed-off-by: Chuck Short <zulcss@ubuntu.com>

commit 69aa04d1f89c838d2ea1c96e715e175fb26f0883
Author: Dan Prince <dprince@redhat.com>
Date:   Tue Aug 7 16:25:52 2012 -0400

    Create unique volumes_dir for testing.
    
    Updates test_volume.py so that we create a uniq volumes_dir for testing.
    This avoids polluting the source tree with fake volume UUID's when running
    tests.
    
    Change-Id: I3c37083915effec0eff7c8d9bfffb9f7674fe6f5

commit 6773b92c4e6e8834c8ab699cb6da6d60fde1523e
Merge: df8ef47 1c68bd3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 9 21:33:28 2012 +0000

    Merge "Straight port of the NetApp driver updates from nova-volume to cinder."

commit df8ef4703fd5e43b5031148c37abc5c1b08c1a69
Merge: 3ab7f55 30a5916
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 9 17:34:50 2012 +0000

    Merge "Remove redundant 'availability_zone' config options."

commit 3ab7f55ed1fcebdf990454624b327cebcb2371f5
Merge: e8db777 43626d2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Aug 9 17:33:21 2012 +0000

    Merge "Admin users should be restricted from seeing all snapshots by default."

commit 30a591616687f41af4cfa2605078a436b2bd795d
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Thu Aug 9 00:41:28 2012 +0800

    Remove redundant 'availability_zone' config options.
    
    There are two availability_zone related config options now:
      node_availability_zone and storage_availability_zone
    While volume API uses node_availability_zone, the scheduler uses
    the other, which causes failure in scheduler when these two options
    have different values.
    
    This patch removes 'node_availability_zone' so that end user
    can specify 'availability zone' when create volumes using
    Simple scheduler.
    
    Partially implement blueprint implement-availability-zones
    
    Change-Id: Ia2f0710908495ec64dacd2ee9bd10d7f8cd415df

commit 1c68bd3c617edca059d6a5ee1c95f5567c26861a
Author: Ben Swartzlander <bswartz@netapp.com>
Date:   Wed Aug 8 14:27:44 2012 -0400

    Straight port of the NetApp driver updates from nova-volume to cinder.
    
    These changes were already accepted into nova-volume, and I have only
    altered the exception classes to match the new cinder classes.
    
    blueprint netapp-volume-driver
    
    Change-Id: I0d59db64e00bc7e93223a24dabadbcbd0b290fb9

commit e8db777de63e2308c12a8c3b54e7a0ed54f8a068
Merge: 3905a99 2b2c97e
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 7 23:49:59 2012 +0000

    Merge "Deprecate root_helper in favor of rootwrap_config"

commit 3905a9902606871bbe92fe7c48480db3349ea316
Author: Ronen Kat <ronenkat@il.ibm.com>
Date:   Mon Aug 6 10:11:10 2012 +0300

    Use volume driver specific execeptions.
    
    Change generic use of exception.Error in the cinder/volume directory
    to specific exceptions. The exceptions used in this patch are:
    exception.VolumeBackendAPIException
    exception.InvalidInput
    exception.InvalidVolume
    exceptio.VolumeAtatched
    Patch includes updates to the appropriate tests as well.
    
    Change-Id: I10407ff3f5babe64e88f445d3529269b7665ee16

commit e6e1e983695fdc59650c7a4f3013c0e5338144cc
Merge: c02c5a7 c401895
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 7 04:09:00 2012 +0000

    Merge "Add persistent volumes for tgtd."

commit c02c5a76cb1e59dca94ea2bc13ad890c02965d6d
Merge: a1b4bd5 99456bd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Aug 7 03:50:25 2012 +0000

    Merge "Send 'create volume from snapshot' to the proper host"

commit 43626d293739dbe06c7fe26845d17c2e580e62dd
Author: jakedahn <jake@ansolabs.com>
Date:   Sun Aug 5 14:32:07 2012 -0700

    Admin users should be restricted from seeing all
    snapshots by default.
    
      * Now to view all snapshots across all tenants you need
        to include the all_tenants=1 GET param in your api request.
      * Fixes remaining issues blocking bug #967882
    
    Change-Id: I2a8338d77badc70201bb315198183f2091df43fb

commit a4c8e71e0895f6652d1e2c8fbb06b6b2447b6086
Author: Chmouel Boudjnah <chmouel@chmouel.com>
Date:   Mon Aug 6 10:25:31 2012 +0200

    Use openstack.common.notifier.
    
    - Update openstack.common.log to use it (and fixes #1030078 for cinder as
      well so we can get review I9d4251b4292188c0174ebac1dcd98318df44c0e3
      working).
    - Don't use openstack.common.context but our own just yet.
    
    Change-Id: I10feda623788a3b2418cad6bf55cbdb860ba8ee7

commit a1b4bd5e86cd865869308c976c6aebf9a4ad23a8
Author: jakedahn <jake@ansolabs.com>
Date:   Tue Jul 31 16:35:26 2012 -0700

    Admin users should be restricted from seeing all
    volumes by default.
    
      * Now to view all volumes across all tenants you need
        to include the all_tenants=1 GET param in your api request.
      * Fixes remaining issues blocking bug #967882
    
    Change-Id: Ie9d74e9c09fa0c192ab6257b5fb02d65b593cbfb

commit 2b2c97eb5ca332ce7d1f83e4fd2e81fabe0acb66
Author: Thierry Carrez <thierry@openstack.org>
Date:   Fri Aug 3 15:35:03 2012 +0200

    Deprecate root_helper in favor of rootwrap_config
    
    Align with recent changes in nova-rootwrap by marking the
    root_helper option deprecated and introduce usage of the
    rootwrap_config option instead. The root_helper option will still
    fully be supported in Folsom, but will be removed in Grizzly.
    
    Transition notes: you should replace:
    root_helper=sudo cinder-rootwrap /etc/cinder/rootwrap.conf
    
    by:
    rootwrap_config=/etc/cinder/rootwrap.conf
    
    Change-Id: I22a6d2bdee6ad2c5ad587ceec574cec4b2887f22

commit 99456bd690445443ae05c0d4fe1ec43ba6090f6f
Author: ZhuRongze <zrzhit@gmail.com>
Date:   Fri Jul 13 12:07:13 2012 +0000

    Send 'create volume from snapshot' to the proper host
    
    A simple solution for bug 1008866. When creating volume from snapshot on
    multicluster, in volume it will check if snapshot_id is set. If snapshot_id
    is set, make the call create volume directly to the volume host where the
    snapshot resides instead of passing it through the scheduler. So snapshot can
    be copy to new volume.
    
    Change-Id: Ie9c1a77f62abc40e294b1d0c604cf885652728da

commit c401895f8f2b6f1693601f7996da88d7b3d45fa0
Author: Chuck Short <zulcss@ubuntu.com>
Date:   Fri Jul 27 12:05:55 2012 -0500

    Add persistent volumes for tgtd.
    
    Currently if you restart the server running nova-volume
    or restart tgt, you will loose your iscsi targets that
    have been created. This is not good.
    
    In order for iscsi targets to be persistent across
    reboots or restarts, one has to have the target's configuration
    information in /etc/tgt/targets.conf or /etc/tgt/conf.d.
    So when tgtd is restarted then the iscsi targets will be there
    as expected.
    
    This patch will add a configuration file to $state_path/volumes
    when the volume is created. The configuration file is identified by
    the volume uuid. It creates a logicalunit when the volume is created
    as well. The iscsi target and configuration file
    will be removed once the volume has been removed as well.
    
    In order to use this, you have to include the following in
    your /etc/tgt/targets.conf
    
    include $state_path/volumes/*
    
    For upgrades, it will just re-create the volumes
    already in the volumes table.
    
    Fixes LP: #1011159
    
    Change-Id: Ib74dcc1efa0332842041b4c045ca5fa85d4a32ca
    Signed-off-by: Chuck Short <zulcss@ubuntu.com>

commit 0be1725cdcc6d0706475aca3444f108ba76db246
Merge: 6e781fc 053837f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 1 18:40:04 2012 +0000

    Merge "Include AUTHORS file in MANIFEST.in"

commit 6e781fc4b04a5e60e5b8de194931d9f00dda2150
Merge: b765b6b f758bde
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 1 18:40:01 2012 +0000

    Merge "Scheduler-clean-up"

commit b765b6b7e0814c4ecd71bf434a856d2d86d75f50
Merge: 424e6af c01bf56
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 1 18:40:00 2012 +0000

    Merge "Add authors for IBM Storwize and SVC driver."

commit f758bde47439be52a743b2b4181d4900f2c1bc8a
Author: ZhuRongze <zrzhit@gmail.com>
Date:   Sat Jul 28 08:14:03 2012 +0000

    Scheduler-clean-up
    
    Some instance related functions and opts were still present in Cinder
    Scheduler.
    
    Remove the functions and opts and modify some computer related comments.
    
    Change-Id: Ia01099e66bcbb129493870dfbf212d5e6669ebe1

commit 053837f89b01beb6c3b09cd753e3ccb1ba32b4c9
Author: Chmouel Boudjnah <chmouel@chmouel.com>
Date:   Wed Aug 1 09:05:24 2012 +0200

    Include AUTHORS file in MANIFEST.in
    
    Change-Id: I4b2ddeaaaa5f58eafd25cba6bd613c6fe477ad4d

commit 424e6af7c0ade3128826f7262a87df9e040f67af
Merge: 7d30cb0 5b605b6
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Aug 1 05:27:11 2012 +0000

    Merge "Include volume_metadata with object on vol create"

commit c01bf56ba9b89600bbd913bb094fc1164bfa4559
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Tue Jul 31 21:47:57 2012 +0300

    Add authors for IBM Storwize and SVC driver.
    
    Change-Id: I0d48dd6ce595e6bd9801478fc0b90bcb8fdf5947
    Co-authored-by: Ronen Kat <ronenkat@il.ibm.com>

commit 7d30cb059a7ac262a40eaa367349f045fbe6362c
Merge: 0d8e026 097acdd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 31 16:22:25 2012 +0000

    Merge "Remove unused instance_name_template flag"

commit 0d8e026dab830d0a1e836f7e3f1d84ea7ccfd6a4
Author: Avishay Traeger <avishay@il.ibm.com>
Date:   Sun Jul 15 15:53:36 2012 +0300

    Driver for IBM Storwize and SVC storage.
    
    Volume driver for IBM Storwize and SVC storage systems, along with unit
    tests and updated sample config file. The unit tests include a
    Storwize/SVC management simulator to allow for testing without
    controller hardware. Also added a new exception for volume drivers.
    
    Change-Id: Id7e3e79cd6e62fac4b10937b6f1b5f6bcb7908fe

commit 097acddf82b937a042c2591da02da3b2092a1519
Author: ZhuRongze <zrzhit@gmail.com>
Date:   Sat Jul 28 07:28:50 2012 +0000

    Remove unused instance_name_template flag
    
    Only used in nova/db/sqlalchemy/models
    
    Change-Id: I1029848bb639402cad30c01b51630c0ddd9dd7b8

commit 62af23cff67791781e5851ad83334857752eae36
Author: Eoghan Glynn <eglynn@redhat.com>
Date:   Mon Jul 30 16:11:18 2012 +0100

    Allow XML payload for volume creation.
    
    Fixes cinder aspect of LP 1030330
    
    Tolerate volume size attribute of type string as opposed to int.
    
    Change-Id: I8d300a6c23c2e4e92187e26260ce49da35590545

commit 5b605b6b8ae00f51deac5e0531f7aeda9bd11019
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Jul 27 22:30:47 2012 -0600

    Include volume_metadata with object on vol create
    
    Fix for Bug 1029762
    
    The symptom of this bug is that the response data of an
    OSAPI create call always shows and empty dict for volume_metadata
    regardless of what was passed in to created and actually used.
    
    Upon the db create_volume call a reference to the volume
    object is all that was being returned.  Since metadata is
    specified and set, it should also be returned with the
    create reference object.
    
    This will result in the the osapi create call returning
    a body with correct metdata info rather than always showing
    and empty dict as it was previously.
    
    Change-Id: I9ae9c737bd2aa5bfa14c19fe8b8b2a7a5aa4d43a

commit 95262bb692746ca89dc01337357c4329766df5e5
Author: Eoghan Glynn <eglynn@redhat.com>
Date:   Thu Jul 26 16:26:55 2012 +0000

    Trim volume type representation.
    
    Fixes cinder aspect of LP 1027281.
    
    Use view builder pattern to only include non-extraneous
    volume type attributes in the representation.
    
    Change-Id: I33f1b579fd6ed4ed98fa04e9148e91eca125213e

commit cdaf23ea960f64d62140f5c5807f5c2fd8ca9feb
Merge: 46e3e73 612b1bd
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 24 23:25:38 2012 +0000

    Merge "Don't do PEP8 test for openstack-common code."

commit 46e3e73bf7b37ffdd8bcdab93442cebc78d09d4d
Merge: d2d3c9c 111b753
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jul 24 23:20:41 2012 +0000

    Merge "Cleanup unused code in servce.py"

commit d2d3c9cba4a647724f75c036a1985a10c966da35
Author: Thierry Carrez <thierry@openstack.org>
Date:   Mon Jul 23 16:21:28 2012 +0200

    Port nova-rootwrap changes to cinder-rootwrap
    
    Port recent nova-rootwrap changes to cinder-rootwrap, including:
    * Move filter definition from Python module to configuration files
    * Fix tests execution on Fedora (bug 1027814)
    * Remove executable bit on cinder/rootwrap files
    
    This certainly needs a matching change to devstack to pass gating.
    
    Change-Id: I963bc7890ba285ae515ea61bbd960bd2523f9061

commit 612b1bd95510252721ba1a0531bd27e2706cad1d
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Mon Jul 23 14:39:48 2012 +0800

    Don't do PEP8 test for openstack-common code.
    
    Pep8 test reports issue on openstack-common modules, which would
    fail CI test. Pep8 test should skip openstack-common and assuming
    they are problem-free code. Even it's not, bug/fix should go to
    openstack-common first, then resync back to Cinder.  Therefore,
    Cinder should skip pep8 test for openstack-common code.
    
    Fix bug #1027774
    
    Change-Id: I22c45542401022a6bad9f2320e8657f972915f69

commit 111b7534b602d62e4984ada998f757038677b745
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Mon Jul 23 11:17:26 2012 +0800

    Cleanup unused code in servce.py
    
    Remove unused code in Service() class which is meant to be used
    by 'nova-compute'.
    
    Change-Id: Iadd58914c7fb7a581f9878880908aabcfa5733d6
    Signed-off-by: zhiteng.huang@intel.com

commit 3a2036cccb2852b29d2aca15bd25d9e4ad919bcc
Author: Chmouel Boudjnah <chmouel@chmouel.com>
Date:   Fri Jul 20 12:26:18 2012 +0000

    Use openstack.common.setup.
    
    - Remove Authors and add it to .gitignore since this is now auto
      generated.
    
    Change-Id: I513b362a0ea8aca9cf5e06807834316b46a5f430

commit 1cd9f0426437099be05d609abb32781941ac7af4
Merge: 9a5e830 56701c3
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jul 20 16:41:01 2012 +0000

    Merge "Remove unused fake memcache client"

commit 9a5e830c2453b0e4fd93c56173881ce43cffc3e8
Author: Mike Perez <thingee@gmail.com>
Date:   Fri Jul 20 08:59:40 2012 -0700

    utils module is still being used by cinder-volume service
    
    bug 1026949
    
    Change-Id: I7327d94b5a9f35bc74e179a05976d511c6642a7a

commit d8ae1541c43b3586bc1b6dd25639727e5618ae79
Merge: 797fe5f fe716c0
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jul 20 15:08:03 2012 +0000

    Merge "Use openstack.common.log for logging."

commit 797fe5f81caf2adc442e447def5c7ef843f79171
Merge: 635f149 c99bae9
Author: Jenkins <jenkins@review.openstack.org>
Date:   Fri Jul 20 15:06:36 2012 +0000

    Merge "Remove unused check_snapshots_enabled"

commit 56701c3eb0dfa0db90bc686ba49dd978da974106
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Tue Jul 17 03:58:01 2012 +0100

    Remove unused fake memcache client
    
    Used by the consoleauth service and the EC2 and metadata APIs in Nova.
    
    Change-Id: I3048d9ab7b1d30eff583e15044c5a7bf74d52a3c

commit c99bae92e8aa3a38d5e3411e71df0d65a9484298
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Tue Jul 17 04:15:32 2012 +0100

    Remove unused check_snapshots_enabled
    
    Only used in Nova by the createImage action.
    
    Change-Id: I114281fd553020ac96c499c18ff3e4a2a626c3b2

commit fe716c0ee499ed13f37231c651b8e018baede772
Author: Chmouel Boudjnah <chmouel@chmouel.com>
Date:   Fri Jul 20 10:53:41 2012 +0000

    Use openstack.common.log for logging.
    
    - We are not using openstack.common.notifier just yet so handedit
      openstack.common.log to use cinder.notifier now.
    
    Change-Id: I9d912904c53a8ef5d90b4ab5792f5577701b6817

commit 635f1498757d5ab8a0a8957d6e5aafaf3ceee022
Author: Mike Perez <thingee@gmail.com>
Date:   Thu Jul 19 23:35:32 2012 -0700

    Don't create volumes if an incorrect size was given
    
    bug 1006875
    
    Change-Id: Ied4c6f6d03c0a70838e1e483d69f3ed1ec08a9b5

commit 3536ee616f0e381704ea0f7dfc7d1c7dc16c665e
Merge: ae28dc0 8b6397b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 19 17:03:09 2012 +0000

    Merge "Remove some unused helper scripts"

commit ae28dc01b335cbc2b264dfca8962fe59934ab432
Merge: 16158d1 23df265
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 19 16:57:18 2012 +0000

    Merge changes I4e00ca81,I223aca1a
    
    * changes:
      Remove unused get_{id,version}_from_href()
      Remove unused metadata serialization

commit 16158d18045c2ebc4ae724619659dc53d81e5c8e
Merge: 897b5e3 fbf1ee2
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 19 16:56:14 2012 +0000

    Merge "Remove unused OverLimitFault"

commit 897b5e3b4beb364fd6a053eb5bba9540a317d1d1
Merge: f49c947 c73d15d
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 19 16:54:48 2012 +0000

    Merge "Remove unused wrap_errors decorator"

commit f49c947b0fef819997a461bf94dd30b31c9f9b96
Merge: 05b661e 03700f1
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 19 16:53:43 2012 +0000

    Merge "Remove unused raise_http_conflict_for_instance_invalid_state()"

commit 05b661e967d004d458ab6326635e8463695554fa
Merge: 15f971d ed7e05b
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 19 16:52:28 2012 +0000

    Merge "Remove unused enabled_apis flag"

commit 15f971de5bce79648f812209df0f82622a3711d0
Author: Russell Bryant <rbryant@redhat.com>
Date:   Wed Jun 13 10:48:54 2012 -0400

    Use rpc from openstack-common.
    
    Final patch for blueprint common-rpc.
    
    This patch removes cinder.rpc in favor of the copy in openstack-common.
    
    Change-Id: I9c2f6bdbe8cd0c44417f75284131dbf3c126d1dd

commit 84b7025547455d1f83d0fc20c7b9de0a3291f9e6
Author: Russell Bryant <rbryant@redhat.com>
Date:   Mon Jul 2 11:30:10 2012 -0400

    Add missing gettextutils from openstack-common.
    
    This patch adds gettextutils from openstack-common to cinder.  It is used
    by rpc, so some parts of rpc are broken without this patch.
    
    Change-Id: I0830319f4e2011b87180abcc24354c935bea8d16

commit 1b3cbc537ee1b69940cfb3a5d5b408db13df266d
Author: Russell Bryant <rbryant@redhat.com>
Date:   Tue May 1 17:31:26 2012 -0400

    Use save_and_reraise_exception() from common.
    
    This patch common.excutils from openstack-common, which includes
    save_and_reraise_exception().  The patch also converts the code
    base to use it from there instead of cinder.utils and then removes
    it from cinder.utils.
    
    The initial motivation for this was removing another cinder dependency
    from cinder.rpc so that it can eventually be moved to openstack-common.
    
    Change-Id: I7354ca51a02aec9c709cf33f77d4abc46acc2742

commit 0f362edeb03177c12a65b9587d13df7aac76a2f7
Author: Russell Bryant <rbryant@redhat.com>
Date:   Fri Jun 1 14:42:32 2012 -0400

    Use openstack.common.cfg.CONF.
    
    Part of blueprint common-rpc.
    
    This patch makes the rpc code use the global config object from
    openstack-common.  Based on some recent discussions on the mailing list,
    this may not be the final way configuration handling is done here, but
    it is certainly better than the register_opts() hack that is removed by
    this patch.
    
    Change-Id: Id128126e0bc064a2a1c710c6bd32fb3d137dc7f6

commit 8f1d99d6942538622c737b791007cecdf9248d8a
Author: Russell Bryant <rbryant@redhat.com>
Date:   Sat May 26 20:42:09 2012 -0400

    Remove cinder.log usage from cinder.rpc.
    
    Part of blueprint common-rpc.
    
    This patch removes the usage of cinder.log from cinder.rpc.  This is
    necessary before cinder.rpc can be moved to openstack-common.  The rpc
    logging was not using any of the extra features provided in cinder.log as
    far as I can tell, so the changes are very simple.
    
    This is the final dependency.  After this change, the rpc code
    can be moved to openstack-common without any changes.
    
    Change-Id: I17ca4b691bb8d4f18e618632a2381dd12d31852a

commit d916746ae9f656f6feda9d806c1ea45853e2efa3
Author: Russell Bryant <rbryant@redhat.com>
Date:   Fri May 25 16:24:03 2012 -0400

    Remove cinder.context dependency from cinder.rpc
    
    Part of blueprint common-rpc.
    
    This patch removes the usage of cinder.context from cinder.rpc.  Everything
    needed to implement RpcContext now exists within cinder.rpc.
    
    Change-Id: I9e6ec0d22e55d3d4f38e12e0fdd2df745da496f5

commit 2daf95464f18e57edd0409413142f18b11a7745b
Author: Russell Bryant <rbryant@redhat.com>
Date:   Fri May 25 14:13:34 2012 -0400

    Localize rpc options to rpc code.
    
    Part of blueprint common-rpc.
    
    Move rpc options from cinder.flags into cinder.rpc code.  This is necessary
    before the rpc code can be moved to openstack-common.
    
    Change-Id: I474c3660e1cbd3ab663571b1e088c84deb905e0b

commit 863b6afe12fb409f4866299bb7c975db7c2ad72e
Author: Russell Bryant <rbryant@redhat.com>
Date:   Wed May 16 16:40:05 2012 -0400

    Add version to scheduler rpc API.
    
    Part of blueprint versioned-rpc-apis.
    
    One side effect of this change was that cinder.scheduler.api was removed
    in favor of cinder.scheduler.rpcapi.  In this case, the api was just a
    direct wrapper around rpc usage.  For other APIs, I've been following
    the pattern that the rpcapi module provides the rpc client wrapper, and
    if any other client-side logic is needed, that's where an api module is
    used.
    
    Change-Id: Ibd0292936f9afc77aeb5d040660bfa857861eed1

commit ec6e9e4fde537eedb25946734b07297ba6c63c94
Author: Russell Bryant <rbryant@redhat.com>
Date:   Mon Jul 16 21:24:02 2012 +0100

    Sync cfg and iniparser from openstack-common.
    
    Cherry picks af387b9, cb6bf34 and c6c29ab from Nova.
    
    This change pulls in the latest version of the cfg module from
    openstack-common includes some formatting changes, spelling fixes,
    support for bol/eol spaces in values and support for deprecated
    options.
    
    Change-Id: I58c7b2100b594f5f261c089d674f449a1a7d067b

commit e435bca7181240b3a4e4a9a81a21266ba9a6f3e7
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Mon Jul 16 21:19:55 2012 +0100

    Use cfg's new global CONF object
    
    Cherry picks 00786bc from Nova.
    
    Implements blueprint cfg-global-object
    
    Replace cinder.flags.FLAGS with openstack.common.cfg.CONF.
    
    In future, we can do a s/FLAGS/CONF/ across the codebase.
    
    Change-Id: If213a4a5da1faf96aac82f34b18d1e0b061495c0

commit 64306e87b38483c00e5055f246294f081e1f0a5b
Author: Russell Bryant <rbryant@redhat.com>
Date:   Tue Jul 17 05:10:29 2012 +0100

    Make use of openstack.common.jsonutils.
    
    This patch imports jsonutils from openstack-common.  It removes the
    equivalent code from cinder.utils and then converts the code base to use
    jsonutils.  The primary motivator for this change was to remove the rest
    of the dependencies from cinder.rpc on cinder.utils.
    
    Change-Id: I4b16577f774194a628bf84d5352e63ec1f868698

commit d211eba148f2ec401dadd62114b9a2ea2c95f11a
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Mon Jul 16 21:00:15 2012 +0100

    Sync with latest version of openstack.common.cfg
    
    Cherry picks c1bf456 from Nova.
    
    Changes since last sync:
    
     - Alphabetize imports in openstack/common/cfg.py
     - make reset() clear defaults and overrides
     - automatically create option groups
     - allow options to be marked as required
     - use a list comprehension instead of map()
    
    Change-Id: Ie17fe855a75b5021b031902aa86031d8ddc06dfd
    Reviewed-on: https://review.openstack.org/9867
    Approved: James E. Blair <jeblair@hp.com>
    Reviewed-by: James E. Blair <jeblair@hp.com>
    Tested-by: James E. Blair <jeblair@hp.com>

commit 2f7feffc64ac435846fb9ee6c467ce128f66b20d
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Tue Jul 17 15:11:26 2012 +0800

    Convert Cinder to use openstack-common jsonutils.
    
    This patch replaces json handling code in Cinder with openstack-common
    jsonutils.  Also remove some unused imports.
    
    Implement blueprint cinder-common-jsonutils
    
    Change-Id: I28c1a095823c2f04f30c32724144297a2d67fba4
    Reviewed-on: https://review.openstack.org/9912
    Reviewed-by: Mark McLoughlin <markmc@redhat.com>
    Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
    Approved: John Griffith <john.griffith@solidfire.com>
    Tested-by: Jenkins

commit a5d16cfb8d6d953d2a9689ddc855cade604e1e9b
Author: Russell Bryant <rbryant@redhat.com>
Date:   Tue Jun 12 17:07:18 2012 -0400

    Add missing ack to impl_qpid.
    
    Fix bug 1012374.
    
    Johannes Erdfelt pointed out that impl_qpid wasn't acking messages that
    it received.  This turned out to be a nasty oversight, resulting in
    unbounded message queue growth inside of the python-qpid library.  This
    fixes it.
    
    Change-Id: I0370293807f0282e1dbdd59246f70be031e888a9
    Reviewed-on: https://review.openstack.org/9908
    Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
    Approved: John Griffith <john.griffith@solidfire.com>
    Tested-by: Jenkins

commit 22a9da3cc4b0cc17d8d3483b95dc57ed43bf0ecb
Author: Russell Bryant <rbryant@redhat.com>
Date:   Tue May 29 16:35:35 2012 -0400

    Move queue_get_for() from db to rpc.
    
    Part of blueprint common-rpc.
    
    The function queue_get_for() is a utility function used by various
    consumers of the rpc API.  This function lived in the db API, but never
    ended up using anything from the database.  This patch moves it into the
    rpc API so that it can be used by other users of rpc once it moves into
    openstack-common.
    
    Change-Id: If92675beecff5471b416a929c161b810e3c71939
    Reviewed-on: https://review.openstack.org/9906
    Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
    Approved: John Griffith <john.griffith@solidfire.com>
    Tested-by: Jenkins

commit 14a30e0b829a24e21d9c547d2e3fd773b1eab675
Author: Russell Bryant <rbryant@redhat.com>
Date:   Mon May 7 14:10:29 2012 -0400

    Add base support for rpc API versioning.
    
    Part of blueprint versioned-rpc-apis.
    
    This commit includes the base support for versioned RPC APIs.  It
    introduces the RpcProxy and RpcDispatcher classes that have common code
    for handling versioning on the client and server sides, respectively.
    
    RPC APIs will be converted one at a time using this infrastructure.
    
    Change-Id: I07bd82e9ff60c356123950e466caaffdfce79eba
    Reviewed-on: https://review.openstack.org/9901
    Reviewed-by: Huang Zhiteng <zhiteng.huang@intel.com>
    Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
    Approved: John Griffith <john.griffith@solidfire.com>
    Tested-by: Jenkins

commit c044d3c1f6541b4f7d504e9375eb13efdd36e5a2
Author: Russell Bryant <rbryant@redhat.com>
Date:   Wed May 2 12:14:56 2012 -0400

    Make kombu support optional for running unit tests.
    
    Fix bug 838386.
    
    Previously, the unit tests required kombu to be installed to run.  This
    patch makes it so the unit tests will still complete successfully, even
    if kombu is not installed.
    
    Change-Id: I06831a37f8c857bbfd0bce1b1c3aeda7d341a589
    Reviewed-on: https://review.openstack.org/9900
    Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
    Approved: John Griffith <john.griffith@solidfire.com>
    Tested-by: Jenkins

commit 9e4242c3865da976928ecd43ef82030ac8bfc8cf
Author: Russell Bryant <rbryant@redhat.com>
Date:   Tue May 15 14:43:18 2012 -0400

    Stop using cinder.exception from cinder.rpc.
    
    This patch is a part of continuing to remove dependencies from cinder.rpc
    on the rest of cinder.  One RPC related exception was defined in
    cinder.exception, so that was moved to cinder.rpc.common where the rest of
    them live.  These exceptions were changed to no longer use CinderException
    as their base.  Instead, there is a new RPCException base.
    
    One other change that should be reviewed closely is the removal of using
    cinder.exception.wrap_exception() in cinder.rpc.amqp.  As far as I can tell,
    this didn't actually do anything since nothing was being passed in to
    wrap_exception().
    
    Change-Id: I36ff7c05ab0467ad8506b56d561c532eadf8dff8
    Reviewed-on: https://review.openstack.org/9899
    Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
    Approved: John Griffith <john.griffith@solidfire.com>
    Tested-by: Jenkins

commit 4ab214a35ff84f12d09713737aac801fb0256282
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Tue Jul 17 04:28:02 2012 +0100

    Remove unused synchronization decorator
    
    This is only used on the compute and network side in Nova.
    
    Change-Id: I6211c32f585b1b5ff66d1a7a5f65dd25857d76f0
    Reviewed-on: https://review.openstack.org/9888
    Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
    Approved: John Griffith <john.griffith@solidfire.com>
    Tested-by: Jenkins

commit 362576f268e87cb53eb5c5f3dbb46b1768d73dae
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Mon Jul 16 21:30:15 2012 +0100

    Remove 'cinder-manage config convert'
    
    This convers the old flagfile style config files into the the
    new .ini style config files. Since Cinder is new and it's first
    release will only support .ini style files there's no need for
    such a command.
    
    Change-Id: Ie2f4cd8b6f5fc66547a59d39aa3d5eb896b1ddf4
    Reviewed-on: https://review.openstack.org/9871
    Reviewed-by: Huang Zhiteng <zhiteng.huang@intel.com>
    Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
    Approved: John Griffith <john.griffith@solidfire.com>
    Tested-by: Jenkins

commit f07d38bca4ca26edb6f68d4183656b2e87a6c7fc
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Mon Jul 16 21:10:17 2012 +0100

    Use cfg's new behavior of reset() clearing overrides
    
    Cherry-picks b858108 from Nova.
    
    Change-Id: I5e14dea25afd5bff03a39671b2d3b85481977bec
    Reviewed-on: https://review.openstack.org/9868
    Reviewed-by: Huang Zhiteng <zhiteng.huang@intel.com>
    Reviewed-by: Vish Ishaya <vishvananda@gmail.com>
    Approved: John Griffith <john.griffith@solidfire.com>
    Tested-by: Jenkins

commit ee669789feabf245fe08f88d55e975c66c4789d7
Merge: c4d7c06 da97aa4
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 19 08:11:23 2012 +0000

    Merge changes Id5a0ffab,If283dd7c,I1a11e8fd
    
    * changes:
      Remove old flagfile support
      Misused and not used config options
      Pass 'cinder' project into ConfigOpts

commit c4d7c06a5996e74976be9d3ad6f2902fcf0edd39
Merge: cba4583 519bd24
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jul 18 17:32:54 2012 +0000

    Merge "Convert Cinder to use openstack-common timeutils"

commit ed7e05b00861e1fa3fbc21c4562a17b97d1f16f9
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Tue Jul 17 04:35:28 2012 +0100

    Remove unused enabled_apis flag
    
    This is only useful in the context of Nova where there are multiple
    APIs.
    
    Change-Id: I2339a36b45166a24825882e3e35dd00a2dfb6b27

commit 8b6397bbf58a6c0da00500407790ed8547741771
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Tue Jul 17 04:33:17 2012 +0100

    Remove some unused helper scripts
    
    openstack-config init script and clean-vlans scripts are only relevant
    to nova.
    
    Change-Id: Ib139cae1e0f157f69f7d9ae7186c555538e4b1f5

commit c73d15d347ba5a973e257932ffb9d6012939e3a5
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Tue Jul 17 04:18:40 2012 +0100

    Remove unused wrap_errors decorator
    
    Only used by rescue extension in nova.
    
    Change-Id: I3ade99405736bf8ffb8891a8d53c02905501ae44

commit 23df2650371345f05f75208a9e35d7ca0b6421e4
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Tue Jul 17 04:10:18 2012 +0100

    Remove unused get_{id,version}_from_href()
    
    The former is only used in the compute API in Nova to e.g. get
    an image or flavor ID from a client supplied ref.
    
    The latter is unused even in Nova since the removal of the 1.0
    API.
    
    Change-Id: I4e00ca816820cb51c0ab3d4d864766d981854939

commit b79ad1a950116b6eb0e0f7be48e9ca215681ee1e
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Tue Jul 17 04:06:19 2012 +0100

    Remove unused metadata serialization
    
    Only used by the compute API in Nova for e.g. images and server
    metadata.
    
    Change-Id: I223aca1a1c8e35c9339107e5c11bdd8a39968681

commit 03700f12f356a00c67fe3c301cc297c85e92c69e
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Tue Jul 17 04:04:58 2012 +0100

    Remove unused raise_http_conflict_for_instance_invalid_state()
    
    Only used by the compute API in Nova.
    
    Change-Id: I3b2dfa33b4bd1523e13ddb5401bc0397df7466ef

commit fbf1ee2069450eb6b55d18fafea6aa44874219c9
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Tue Jul 17 04:00:51 2012 +0100

    Remove unused OverLimitFault
    
    Only used by compute limits in Nova.
    
    Change-Id: I065ca64e060acc0773189f1497fcc54041621f39

commit da97aa46d8210abf848520c06a29638f925c42ed
Author: Ghe Rivero <ghe@debian.org>
Date:   Mon Jul 16 20:31:51 2012 +0100

    Remove old flagfile support
    
    Cherry-picks 7e3e9b8 from Nova.
    
    Change-Id: Id5a0ffabf7c6eab0bbda1b130a39a6581b26e350

commit 78918b8861f11d0145f8cc7310ece6ec8535c6e5
Author: Zhongyue Luo <lzyeval@gmail.com>
Date:   Mon Jul 16 20:37:54 2012 +0100

    Misused and not used config options
    
    Cherry picks dc9c3cb from Nova.
    
    Fixes bug #1000071
    
    [nova.api.sizelimit.py]
    osapi_max_request_body_size: BoolOpt -> IntOpt
    
    [nova.rpc.__init__.py]
    allowed_rpc_exception_modules: IntOpt -> ListOpt
    
    [nova.volume.driver.py]
    num_shell_tries: StrOpt -> IntOpt
    num_iscsi_scan_tries: StrOpt -> IntOpt
    
    [nova.volume.driver.py]
    san_thin_provision: 'true' -> True
    san_is_local: 'false' -> False
    
    Change-Id: If283dd7c4feba69c07bd483acd14f45c2659b743

commit 9929f2b2a152f34e24366f5f0afbc071ff40833f
Author: Rick Harris <rconradharris@gmail.com>
Date:   Mon Jul 16 20:33:45 2012 +0100

    Pass 'cinder' project into ConfigOpts
    
    Cherry-picks fb96f7d from Nova.
    
    Change-Id: I1a11e8fd6a56b2336457f7df178c2b3c187246c3

commit cba45833120ef03fb355f0c8399cd62fc80ef2ac
Author: Mark McLoughlin <markmc@redhat.com>
Date:   Mon Jul 16 20:48:02 2012 +0100

    Sync to newer openstack.common.cfg
    
    Cherry picks e0d891e from Nova.
    
    Changes since last sync are:
    
     * New ConfigOpts.find_file() for locating conf files
     * Support for directory source of config files
     * Provide file extension when when looking for files
     * Some refactoring of the cfg cache
     * Add caching to openstack.common.cfg
    
    Change-Id: If9852d0431093d590252bb704e934a4a56ef0263

commit 519bd2451d8b3aff6661d18e340b8f31a69e1091
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Fri Jul 13 13:58:25 2012 +0800

    Convert Cinder to use openstack-common timeutils
    
    This patch is part of effort to get Cinder to use openstack-common
    package.  This part is to replace time related functions in utils.py
    with 'timeutils' module.
    
    Implement blueprint cinder-common-timeutils
    
    Change-Id: Ic5e9e317a95a7399f0604823eec76b3642a0c1b1

commit 008cad14287e17e7bc9ea434b12715c011de880d
Merge: c3bc1aa c7690fc
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu Jul 12 20:03:42 2012 +0000

    Merge "Updated HpSanISCSIDriver to use initialize/terminate methods."

commit c3bc1aa3a60432152d2f44d3963c451ed483ef79
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Jul 12 09:01:14 2012 -0600

    Do not duplicate nova docs in cinder
    
    * This modifies the index.rst file to give interim info about cinder
    * We were regenerating the nova docs copied over which was bad!
    * Fixes bug 1022315
    
    Change-Id: I46531976f3e6521cec69cc13276d328d6c2d2da3

commit b46a0afc37ce2f93bcf3527593eec1097792cae5
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Jul 6 18:28:53 2012 -0600

    Remove unused db api methods
    
      * Implements cinder blueprint remove-extra-dbapi-methods
      * Related to cinder initial-db-cleanup:
          Remove db api methods associated with removed tables
    	  Modify/Remove tests associated with removed tables
    	  Remove non-existing db API calls from volume/api
    
    Change-Id: I60e0c6ffad9c78a29d56a27a04e9ec5ebaa1f251

commit 263d7b905446e8eaadbcc0501846da7d771e57ad
Author: John Griffith <john.griffith@solidfire.com>
Date:   Tue Jul 3 16:40:15 2012 -0600

    Create single initial Cinder DB migration file
    
     * Implements blueprint initial-db-cleanup
     * Sets initial migration
     * Removes unused tables that were brought in from nova
     * Condenses db migrations into the single initial migration/creation
     * Add explicit mysql set InnoDB in UTF8 loop
     * Folow up patches include:
     *    Remove unused db API calls
     *    Fix/Remove affected tests
    
    Change-Id: If24b00747dbbff7037b7aca39602d5f0b1c6aa50

commit c7690fc53dba8ce7221c5f7afd93238be1ea0498
Author: Zhiteng Huang <zhiteng.huang@intel.com>
Date:   Thu Jul 5 15:08:34 2012 +0800

    Updated HpSanISCSIDriver to use initialize/terminate methods.
    
    This is based on Nirmal Ranganathan's patch for Nova-volume, which
    added a new key 'host' for initialize/terminate volume connection
    information in nova to fix bug 992729.
    
    HpSanISCSIDriver should adopt the change in order to work properly.
    Also added missing unit tests for the HpSanISCSIDriver.
    
    Fixes bug 992729.
    
    Change-Id: I9584811a340799161d8c9ae88b1def282380c9ad
    Signed-off-by: Zhiteng Huang <zhiteng.huang@intel.com>

commit a55f0732211f0a1a8f6db40e6d1f464050234844
Author: Christopher MacGown <chris@pistoncloud.com>
Date:   Tue Jul 3 17:49:16 2012 -0700

    Pruned Authors file to active contributors (from nova-volumes).
    
    Active contributors was fetched from git blame output, for files
    inside the nova/nova/volumes folder in nova.
    
    Change-Id: I8cc63975bf1160ca76badc54fd4d51077873dfee

commit 57d6c5d1bc914c4dfe36311ec83828c5a85fa7ca
Author: Clark Boylan <clark.boylan@gmail.com>
Date:   Mon Jul 2 14:17:31 2012 -0700

    Move nova-manage.rst to cinder-manage.rst.
    
    Cinder docs were not building because sphinx was looking for
    cinder-manage.rst which did not exist. The file was simply misnamed
    and renaming it to cinder-manage.rst allows the docs to build.
    
    Change-Id: I68f4ed81230cc277a96bb34dfa172e5ce7788ac4

commit a9c8212f6925b9f4e0feb25621266265968ee1df
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Jun 13 12:38:35 2012 -0600

    Add action extensions to support nova integration.
    
     * Adds VolumeActions extension to support key functions
        described in blueprint volume-decoupling
     * Adds snapshot translations to APIs
     * Should be back in sync with 7992
     * blueprint compat-extensions
     * sleepsonthefloor: Moved added snapshot attributes to extension, added tests
     * sleepsonthefloor: Lock pep8==1.1 in tox.ini
    
    Change-Id: I9c6118cd434ca8b275d2386546923f932420b975

commit 2c6e2732592849016f248434469f5289780e375c
Merge: a071c75 9c55720
Author: Jenkins <jenkins@review.openstack.org>
Date:   Wed Jun 13 18:23:58 2012 +0000

    Merge "Revert "Add action extensions to support nova integration.""

commit 9c55720129df12780d1d6480942d6d96abf54a01
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed Jun 13 17:51:37 2012 +0000

    Revert "Add action extensions to support nova integration."
    
    This reverts commit 8d8903f466cd7d4270e46ad896817fe94c99b575

commit a071c75c7efeaaffa8faab91ead8d7d71b273cb8
Merge: f8c9b20 8d8903f
Author: Jenkins <jenkins@review.openstack.org>
Date:   Tue Jun 12 04:26:40 2012 +0000

    Merge "Add action extensions to support nova integration."

commit f8c9b20b2dd31d8501d26111bde4107df8bb42e7
Author: John Griffith <john.griffith@solidfire.com>
Date:   Thu Jun 7 14:38:29 2012 -0600

    Fix volume['id'] from integer to string
    
    * This is the same fix as nova bug 1010200
    * Missed in volume uuid migration
    
    Change-Id: Ib433ea6a1f247aad7fcba72680fd14e82387ed62

commit 8d8903f466cd7d4270e46ad896817fe94c99b575
Author: Anthony Young <sleepsonthefloor@gmail.com>
Date:   Thu May 31 12:03:02 2012 -0700

    Add action extensions to support nova integration.
    
     * Adds VolumeActions extension to support key functions
       described in blueprint volume-decoupling
    
    Change-Id: I1310c9e813c089619e8ecdf56c631d8257c0897e

commit 0cd8f34eed28a2c1a77d56fe4b0e00816ef48780
Author: John Griffith <john.griffith@solidfire.com>
Date:   Fri Jun 1 10:46:14 2012 -0600

    Set pep8 version to 1.1 in test_requires
    
    * Fixes bug 1007518
    * Changes in pep8 cause new failures
    * Fix up the ones we found anyway
    
    Change-Id: I5cd73a252f73893e4672a2e39b667c519423ae3f

commit 2263cf7db7672699e29a76d68dbe91cad2071b86
Author: Anthony Young <sleepsonthefloor@gmail.com>
Date:   Wed May 30 15:24:41 2012 -0700

    Fix topics so that the do not collide with nova.
    
     * Without this, there are issues running cinder if
       you have previously run n-vol
     * Fix pep8
    
    Change-Id: Id56dbfd6c4f62a74cc57edcc7859753dd7e36229

commit 50792c2ff41fdc7e73b3e3c51f4510366debfd14
Author: Monty Taylor <mordred@inaugust.com>
Date:   Mon May 21 14:40:18 2012 -0400

    Fix up coverage and jenkins test running.
    
    The docs job wasn't working because of an un-renamed file.
    Coverage wasn't running in jenkins with the xml output file.
    Remove the .cache.bundle support that we're moving away from.
    
    Change-Id: I1140baa53dee8b14ac4d1f8549425a0fdd7a8425

commit fe23db33801fa72665e480534d070ddae4a9c451
Author: John Griffith <john.griffith@solidfire.com>
Date:   Wed May 9 11:02:34 2012 -0600

    Remove instance Foreign Key in volumes table, replace with instance_uuid
    
    * Remove the instance relationship and instance_id FK
    * Add instance_uuuid column to volumes table
    
    Change-Id: I54d723dcb9819731a58ec64095c54c99aa9e5dc4

commit 1c52fb3041df5661756246705942c60b4b1448d5
Author: Monty Taylor <mordred@inaugust.com>
Date:   Thu May 3 21:45:20 2012 -0700

    Align the tox.ini file.
    
    Change-Id: I0d1731f157d12bfcc1e4933dd71c49e9bda4116a

commit 4c202523890d805c8e42802117d85d6f6e2cddae
Author: Nirmal Ranganathan <rnirmal@gmail.com>
Date:   Thu May 3 14:54:27 2012 -0500

    Removed cinder/api/openstack/compute and moved the relevant pieces under
    cinder/api/openstack/volume. Fixes bug 994177.
    
    Change-Id: I1b953a96a1d69a62ad312d381cead4cd231a3998

commit c53d8e343e50d4cf7ea9a6a81258848c2d893bfb
Author: Jenkins <jenkins@review.openstack.org>
Date:   Thu May 3 10:48:26 2012 -0700

    Initial fork out of Nova.